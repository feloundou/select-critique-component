{"ast":null,"code":"import _extends from '@babel/runtime-corejs2/helpers/esm/extends';\nimport React, { useLayoutEffect, useEffect, useRef, useContext, useState } from 'react';\nimport { useMemo, useCallback } from 'use-memo-one';\nimport _inheritsLoose from '@babel/runtime-corejs2/helpers/esm/inheritsLoose';\nimport invariant from 'tiny-invariant';\nimport { createStore as createStore$1, applyMiddleware, compose, bindActionCreators } from 'redux';\nimport { Provider, connect } from 'react-redux';\nimport { getRect, expand, offset, withScroll, createBox, getBox, calculateBox } from 'css-box-model';\nimport memoizeOne from 'memoize-one';\nimport _Object$values from '@babel/runtime-corejs2/core-js/object/values';\nimport _Object$keys from '@babel/runtime-corejs2/core-js/object/keys';\nimport _Date$now from '@babel/runtime-corejs2/core-js/date/now';\nimport rafSchd from 'raf-schd';\nimport _Object$assign from '@babel/runtime-corejs2/core-js/object/assign';\nimport _Number$isInteger from '@babel/runtime-corejs2/core-js/number/is-integer';\nvar isProduction = process.env.NODE_ENV === 'production';\nvar spacesAndTabs = /[ \\t]{2,}/g;\nvar lineStartWithSpaces = /^[ \\t]*/gm;\nvar clean = function clean(value) {\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n};\nvar getDevMessage = function getDevMessage(message) {\n  return clean(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\n};\nvar getFormattedMessage = function getFormattedMessage(message) {\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\n};\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\nvar warning = function warning(message) {\n  var _console;\n  if (isProduction) {\n    return;\n  }\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\n    return;\n  }\n  (_console = console).warn.apply(_console, getFormattedMessage(message));\n};\nfunction printFatalError(error) {\n  var _console;\n  if (process.env.NODE_ENV === 'production') {\n    return;\n  }\n  (_console = console).error.apply(_console, getFormattedMessage(\"\\n        An error has occurred while a drag is occurring.\\n        Any existing drag will be cancelled.\\n\\n        > \" + error.message + \"\\n        \"));\n  console.error('raw', error);\n}\nfunction shouldRecover(error) {\n  return error.message.indexOf('Invariant failed') !== -1;\n}\nvar ErrorBoundary = function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n  function ErrorBoundary() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.onError = void 0;\n    _this.setOnError = function (fn) {\n      _this.onError = fn;\n    };\n    _this.onFatalError = function (error) {\n      printFatalError(error);\n      if (_this.onError) {\n        _this.onError();\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning('Could not find recovering function') : void 0;\n      }\n      if (shouldRecover(error)) {\n        _this.setState({});\n      }\n    };\n    return _this;\n  }\n  var _proto = ErrorBoundary.prototype;\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('error', this.onFatalError);\n  };\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('error', this.onFatalError);\n  };\n  _proto.componentDidCatch = function componentDidCatch(error) {\n    this.onFatalError(error);\n    if (!shouldRecover(error)) {\n      throw error;\n    }\n  };\n  _proto.render = function render() {\n    return this.props.children(this.setOnError);\n  };\n  return ErrorBoundary;\n}(React.Component);\nvar origin = {\n  x: 0,\n  y: 0\n};\nvar add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\nvar subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};\nvar isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\nvar negate = function negate(point) {\n  return {\n    x: point.x !== 0 ? -point.x : 0,\n    y: point.y !== 0 ? -point.y : 0\n  };\n};\nvar patch = function patch(line, value, otherValue) {\n  var _ref;\n  if (otherValue === void 0) {\n    otherValue = 0;\n  }\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\n};\nvar distance = function distance(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n};\nvar closest = function closest(target, points) {\n  return Math.min.apply(Math, points.map(function (point) {\n    return distance(target, point);\n  }));\n};\nvar apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\nvar executeClip = function (frame, subject) {\n  var result = getRect({\n    top: Math.max(subject.top, frame.top),\n    right: Math.min(subject.right, frame.right),\n    bottom: Math.min(subject.bottom, frame.bottom),\n    left: Math.max(subject.left, frame.left)\n  });\n  if (result.width <= 0 || result.height <= 0) {\n    return null;\n  }\n  return result;\n};\nvar isEqual$1 = function isEqual(first, second) {\n  return first.top === second.top && first.right === second.right && first.bottom === second.bottom && first.left === second.left;\n};\nvar offsetByPosition = function offsetByPosition(spacing, point) {\n  return {\n    top: spacing.top + point.y,\n    left: spacing.left + point.x,\n    bottom: spacing.bottom + point.y,\n    right: spacing.right + point.x\n  };\n};\nvar getCorners = function getCorners(spacing) {\n  return [{\n    x: spacing.left,\n    y: spacing.top\n  }, {\n    x: spacing.right,\n    y: spacing.top\n  }, {\n    x: spacing.left,\n    y: spacing.bottom\n  }, {\n    x: spacing.right,\n    y: spacing.bottom\n  }];\n};\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\nvar scroll = function scroll(target, frame) {\n  if (!frame) {\n    return target;\n  }\n  return offsetByPosition(target, frame.scroll.diff.displacement);\n};\nvar increase = function increase(target, axis, withPlaceholder) {\n  if (withPlaceholder && withPlaceholder.increasedBy) {\n    var _extends2;\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\n  }\n  return target;\n};\nvar clip = function clip(target, frame) {\n  if (frame && frame.shouldClipSubject) {\n    return executeClip(frame.pageMarginBox, target);\n  }\n  return getRect(target);\n};\nvar getSubject = function (_ref) {\n  var page = _ref.page,\n    withPlaceholder = _ref.withPlaceholder,\n    axis = _ref.axis,\n    frame = _ref.frame;\n  var scrolled = scroll(page.marginBox, frame);\n  var increased = increase(scrolled, axis, withPlaceholder);\n  var clipped = clip(increased, frame);\n  return {\n    page: page,\n    withPlaceholder: withPlaceholder,\n    active: clipped\n  };\n};\nvar scrollDroppable = function (droppable, newScroll) {\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var scrollable = droppable.frame;\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\n  var scrollDisplacement = negate(scrollDiff);\n  var frame = _extends({}, scrollable, {\n    scroll: {\n      initial: scrollable.scroll.initial,\n      current: newScroll,\n      diff: {\n        value: scrollDiff,\n        displacement: scrollDisplacement\n      },\n      max: scrollable.scroll.max\n    }\n  });\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: droppable.subject.withPlaceholder,\n    axis: droppable.axis,\n    frame: frame\n  });\n  var result = _extends({}, droppable, {\n    frame: frame,\n    subject: subject\n  });\n  return result;\n};\nvar records = {};\nvar isEnabled = false;\nvar isTimingsEnabled = function isTimingsEnabled() {\n  return isEnabled;\n};\nvar start = function start(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n    var now = performance.now();\n    records[key] = now;\n  }\n};\nvar finish = function finish(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n    var now = performance.now();\n    var previous = records[key];\n    if (!previous) {\n      console.warn('cannot finish timing as no previous time found', key);\n      return;\n    }\n    var result = now - previous;\n    var rounded = result.toFixed(2);\n    var style = function () {\n      if (result < 12) {\n        return {\n          textColor: 'green',\n          symbol: '✅'\n        };\n      }\n      if (result < 40) {\n        return {\n          textColor: 'orange',\n          symbol: '⚠️'\n        };\n      }\n      return {\n        textColor: 'red',\n        symbol: '❌'\n      };\n    }();\n    console.log(style.symbol + \" %cTiming %c\" + rounded + \" %cms %c\" + key, 'color: blue; font-weight: bold;', \"color: \" + style.textColor + \"; font-size: 1.1em;\", 'color: grey;', 'color: purple; font-weight: bold;');\n  }\n};\nvar whatIsDraggedOver = function (impact) {\n  var merge = impact.merge,\n    destination = impact.destination;\n  if (destination) {\n    return destination.droppableId;\n  }\n  if (merge) {\n    return merge.combine.droppableId;\n  }\n  return null;\n};\nfunction values(map) {\n  return _Object$values(map);\n}\nfunction findIndex(list, predicate) {\n  if (list.findIndex) {\n    return list.findIndex(predicate);\n  }\n  for (var i = 0; i < list.length; i++) {\n    if (predicate(list[i])) {\n      return i;\n    }\n  }\n  return -1;\n}\nfunction find(list, predicate) {\n  if (list.find) {\n    return list.find(predicate);\n  }\n  var index = findIndex(list, predicate);\n  if (index !== -1) {\n    return list[index];\n  }\n  return undefined;\n}\nvar toDroppableMap = memoizeOne(function (droppables) {\n  return droppables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDraggableMap = memoizeOne(function (draggables) {\n  return draggables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDroppableList = memoizeOne(function (droppables) {\n  return values(droppables);\n});\nvar toDraggableList = memoizeOne(function (draggables) {\n  return values(draggables);\n});\nvar isWithin = function (lowerBound, upperBound) {\n  return function (value) {\n    return lowerBound <= value && value <= upperBound;\n  };\n};\nvar isPositionInFrame = function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (point) {\n    return isWithinVertical(point.y) && isWithinVertical(point.y) && isWithinHorizontal(point.x) && isWithinHorizontal(point.x);\n  };\n};\nvar getDroppableOver = function (_ref) {\n  var target = _ref.target,\n    droppables = _ref.droppables;\n  var maybe = find(toDroppableList(droppables), function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n    var active = droppable.subject.active;\n    if (!active) {\n      return false;\n    }\n    return isPositionInFrame(active)(target);\n  });\n  return maybe ? maybe.descriptor.id : null;\n};\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\n  var result = toDraggableList(draggables).filter(function (draggable) {\n    return droppableId === draggable.descriptor.droppableId;\n  }).sort(function (a, b) {\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return result;\n});\nvar withDroppableScroll = function (droppable, point) {\n  var frame = droppable.frame;\n  if (!frame) {\n    return point;\n  }\n  return add(point, frame.scroll.diff.value);\n};\nvar vertical = {\n  direction: 'vertical',\n  line: 'y',\n  crossAxisLine: 'x',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  crossAxisStart: 'left',\n  crossAxisEnd: 'right',\n  crossAxisSize: 'width'\n};\nvar horizontal = {\n  direction: 'horizontal',\n  line: 'x',\n  crossAxisLine: 'y',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  crossAxisStart: 'top',\n  crossAxisEnd: 'bottom',\n  crossAxisSize: 'height'\n};\nvar isUserMovingForward = function (axis, direction) {\n  return axis === vertical ? direction.vertical === 'down' : direction.horizontal === 'right';\n};\nvar didStartDisplaced = function (draggableId, onLift) {\n  return Boolean(onLift.wasDisplaced[draggableId]);\n};\nvar getCombinedItemDisplacement = function (_ref) {\n  var displaced = _ref.displaced,\n    onLift = _ref.onLift,\n    combineWith = _ref.combineWith,\n    displacedBy = _ref.displacedBy;\n  var isDisplaced = Boolean(displaced[combineWith]);\n  if (didStartDisplaced(combineWith, onLift)) {\n    return isDisplaced ? origin : negate(displacedBy.point);\n  }\n  return isDisplaced ? displacedBy.point : origin;\n};\nvar getWhenEntered = function getWhenEntered(id, current, oldMerge) {\n  if (!oldMerge) {\n    return current;\n  }\n  if (id !== oldMerge.combine.draggableId) {\n    return current;\n  }\n  return oldMerge.whenEntered;\n};\nvar isCombiningWith = function isCombiningWith(_ref) {\n  var id = _ref.id,\n    currentCenter = _ref.currentCenter,\n    axis = _ref.axis,\n    borderBox = _ref.borderBox,\n    displaceBy = _ref.displaceBy,\n    currentUserDirection = _ref.currentUserDirection,\n    oldMerge = _ref.oldMerge;\n  var start = borderBox[axis.start] + displaceBy[axis.line];\n  var end = borderBox[axis.end] + displaceBy[axis.line];\n  var size = borderBox[axis.size];\n  var twoThirdsOfSize = size * 0.666;\n  var whenEntered = getWhenEntered(id, currentUserDirection, oldMerge);\n  var isMovingForward = isUserMovingForward(axis, whenEntered);\n  var targetCenter = currentCenter[axis.line];\n  if (isMovingForward) {\n    return isWithin(start, start + twoThirdsOfSize)(targetCenter);\n  }\n  return isWithin(end - twoThirdsOfSize, end)(targetCenter);\n};\nvar getCombineImpact = function (_ref2) {\n  var currentCenter = _ref2.pageBorderBoxCenterWithDroppableScrollChange,\n    previousImpact = _ref2.previousImpact,\n    destination = _ref2.destination,\n    insideDestinationWithoutDraggable = _ref2.insideDestinationWithoutDraggable,\n    userDirection = _ref2.userDirection,\n    onLift = _ref2.onLift;\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n  var axis = destination.axis;\n  var map = previousImpact.movement.map;\n  var canBeDisplacedBy = previousImpact.movement.displacedBy;\n  var oldMerge = previousImpact.merge;\n  var target = find(insideDestinationWithoutDraggable, function (child) {\n    var id = child.descriptor.id;\n    var displaceBy = getCombinedItemDisplacement({\n      displaced: map,\n      onLift: onLift,\n      combineWith: id,\n      displacedBy: canBeDisplacedBy\n    });\n    return isCombiningWith({\n      id: id,\n      currentCenter: currentCenter,\n      axis: axis,\n      borderBox: child.page.borderBox,\n      displaceBy: displaceBy,\n      currentUserDirection: userDirection,\n      oldMerge: oldMerge\n    });\n  });\n  if (!target) {\n    return null;\n  }\n  var merge = {\n    whenEntered: getWhenEntered(target.descriptor.id, userDirection, oldMerge),\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n  var withMerge = _extends({}, previousImpact, {\n    destination: null,\n    merge: merge\n  });\n  return withMerge;\n};\nvar isPartiallyVisibleThroughFrame = function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    if (isContained) {\n      return true;\n    }\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\n    if (isPartiallyContained) {\n      return true;\n    }\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\n    if (isTargetBiggerThanFrame) {\n      return true;\n    }\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\n    return isTargetBiggerOnOneAxis;\n  };\n};\nvar isTotallyVisibleThroughFrame = function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    return isContained;\n  };\n};\nvar isTotallyVisibleThroughFrameOnAxis = function (axis) {\n  return function (frame) {\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\n    return function (subject) {\n      if (axis === vertical) {\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\n      }\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    };\n  };\n};\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\n  return offsetByPosition(target, displacement);\n};\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\n  if (!destination.subject.active) {\n    return false;\n  }\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\n};\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\n  return isVisibleThroughFrameFn(viewport)(target);\n};\nvar isVisible = function isVisible(_ref) {\n  var toBeDisplaced = _ref.target,\n    destination = _ref.destination,\n    viewport = _ref.viewport,\n    withDroppableDisplacement = _ref.withDroppableDisplacement,\n    isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\n};\nvar isPartiallyVisible = function isPartiallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisible = function isTotallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\n  }));\n};\nvar getShouldAnimate = function getShouldAnimate(forceShouldAnimate, isVisible, previous) {\n  if (typeof forceShouldAnimate === 'boolean') {\n    return forceShouldAnimate;\n  }\n  if (!isVisible) {\n    return false;\n  }\n  if (!previous) {\n    return true;\n  }\n  return previous.shouldAnimate;\n};\nvar getTarget = function getTarget(draggable, onLift) {\n  var marginBox = draggable.page.marginBox;\n  if (!didStartDisplaced(draggable.descriptor.id, onLift)) {\n    return marginBox;\n  }\n  var expandBy = {\n    top: onLift.displacedBy.point.y,\n    right: 0,\n    bottom: 0,\n    left: onLift.displacedBy.point.x\n  };\n  return getRect(expand(marginBox, expandBy));\n};\nvar getDisplacement = function (_ref) {\n  var draggable = _ref.draggable,\n    destination = _ref.destination,\n    previousImpact = _ref.previousImpact,\n    viewport = _ref.viewport,\n    onLift = _ref.onLift,\n    forceShouldAnimate = _ref.forceShouldAnimate;\n  var id = draggable.descriptor.id;\n  var map = previousImpact.movement.map;\n  var target = getTarget(draggable, onLift);\n  var isVisible = isPartiallyVisible({\n    target: target,\n    destination: destination,\n    viewport: viewport,\n    withDroppableDisplacement: true\n  });\n  var shouldAnimate = getShouldAnimate(forceShouldAnimate, isVisible, map[id]);\n  var displacement = {\n    draggableId: id,\n    isVisible: isVisible,\n    shouldAnimate: shouldAnimate\n  };\n  return displacement;\n};\nvar getDisplacementMap = memoizeOne(function (displaced) {\n  return displaced.reduce(function (map, displacement) {\n    map[displacement.draggableId] = displacement;\n    return map;\n  }, {});\n});\nvar getDisplacedBy = memoizeOne(function (axis, displaceBy) {\n  var displacement = displaceBy[axis.line];\n  return {\n    value: displacement,\n    point: patch(axis.line, displacement)\n  };\n});\nvar getReorderImpact = function (_ref) {\n  var currentCenter = _ref.pageBorderBoxCenterWithDroppableScrollChange,\n    draggable = _ref.draggable,\n    destination = _ref.destination,\n    insideDestinationWithoutDraggable = _ref.insideDestinationWithoutDraggable,\n    previousImpact = _ref.previousImpact,\n    viewport = _ref.viewport,\n    userDirection = _ref.userDirection,\n    onLift = _ref.onLift;\n  var axis = destination.axis;\n  var isMovingForward = isUserMovingForward(destination.axis, userDirection);\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var targetCenter = currentCenter[axis.line];\n  var displacement = displacedBy.value;\n  var displaced = insideDestinationWithoutDraggable.filter(function (child) {\n    var borderBox = child.page.borderBox;\n    var start = borderBox[axis.start];\n    var end = borderBox[axis.end];\n    var didStartDisplaced$1 = didStartDisplaced(child.descriptor.id, onLift);\n    if (isMovingForward) {\n      if (didStartDisplaced$1) {\n        return targetCenter < start;\n      }\n      return targetCenter < start + displacement;\n    }\n    if (didStartDisplaced$1) {\n      return targetCenter <= end - displacement;\n    }\n    return targetCenter <= end;\n  }).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      previousImpact: previousImpact,\n      viewport: viewport.frame,\n      onLift: onLift\n    });\n  });\n  var newIndex = insideDestinationWithoutDraggable.length - displaced.length;\n  var movement = {\n    displacedBy: displacedBy,\n    displaced: displaced,\n    map: getDisplacementMap(displaced)\n  };\n  var impact = {\n    movement: movement,\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: newIndex\n    },\n    merge: null\n  };\n  return impact;\n};\nvar noDisplacedBy = {\n  point: origin,\n  value: 0\n};\nvar noMovement = {\n  displaced: [],\n  map: {},\n  displacedBy: noDisplacedBy\n};\nvar noImpact = {\n  movement: noMovement,\n  destination: null,\n  merge: null\n};\nvar removeDraggableFromList = memoizeOne(function (remove, list) {\n  return list.filter(function (item) {\n    return item.descriptor.id !== remove.descriptor.id;\n  });\n});\nvar getDragImpact = function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n    draggable = _ref.draggable,\n    draggables = _ref.draggables,\n    droppables = _ref.droppables,\n    previousImpact = _ref.previousImpact,\n    viewport = _ref.viewport,\n    userDirection = _ref.userDirection,\n    onLift = _ref.onLift;\n  var destinationId = getDroppableOver({\n    target: pageBorderBoxCenter,\n    droppables: droppables\n  });\n  if (!destinationId) {\n    return noImpact;\n  }\n  var destination = droppables[destinationId];\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var insideDestinationWithoutDraggable = removeDraggableFromList(draggable, insideDestination);\n  var pageBorderBoxCenterWithDroppableScrollChange = withDroppableScroll(destination, pageBorderBoxCenter);\n  var withMerge = getCombineImpact({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    previousImpact: previousImpact,\n    destination: destination,\n    insideDestinationWithoutDraggable: insideDestinationWithoutDraggable,\n    userDirection: userDirection,\n    onLift: onLift\n  });\n  if (withMerge) {\n    return withMerge;\n  }\n  return getReorderImpact({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    destination: destination,\n    draggable: draggable,\n    insideDestinationWithoutDraggable: insideDestinationWithoutDraggable,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    userDirection: userDirection,\n    onLift: onLift\n  });\n};\nvar getHomeLocation = function (descriptor) {\n  return {\n    index: descriptor.index,\n    droppableId: descriptor.droppableId\n  };\n};\nvar getHomeOnLift = function (_ref) {\n  var draggable = _ref.draggable,\n    home = _ref.home,\n    draggables = _ref.draggables,\n    viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy);\n  var insideHome = getDraggablesInsideDroppable(home.descriptor.id, draggables);\n  var originallyDisplaced = insideHome.slice(draggable.descriptor.index + 1);\n  var wasDisplaced = originallyDisplaced.reduce(function (previous, item) {\n    previous[item.descriptor.id] = true;\n    return previous;\n  }, {});\n  var onLift = {\n    displacedBy: displacedBy,\n    wasDisplaced: wasDisplaced\n  };\n  var displaced = originallyDisplaced.map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: home,\n      previousImpact: noImpact,\n      viewport: viewport.frame,\n      forceShouldAnimate: false,\n      onLift: onLift\n    });\n  });\n  var movement = {\n    displaced: displaced,\n    map: getDisplacementMap(displaced),\n    displacedBy: displacedBy\n  };\n  var impact = {\n    movement: movement,\n    destination: getHomeLocation(draggable.descriptor),\n    merge: null\n  };\n  return {\n    impact: impact,\n    onLift: onLift\n  };\n};\nvar getDragPositions = function (_ref) {\n  var oldInitial = _ref.initial,\n    oldCurrent = _ref.current,\n    oldClientBorderBoxCenter = _ref.oldClientBorderBoxCenter,\n    newClientBorderBoxCenter = _ref.newClientBorderBoxCenter,\n    viewport = _ref.viewport;\n  var shift = subtract(newClientBorderBoxCenter, oldClientBorderBoxCenter);\n  var initial = function () {\n    var client = {\n      selection: add(oldInitial.client.selection, shift),\n      borderBoxCenter: newClientBorderBoxCenter,\n      offset: origin\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.initial),\n      borderBoxCenter: add(client.selection, viewport.scroll.initial)\n    };\n    return {\n      client: client,\n      page: page\n    };\n  }();\n  var current = function () {\n    var reverse = negate(shift);\n    var offset = add(oldCurrent.client.offset, reverse);\n    var client = {\n      selection: add(initial.client.selection, offset),\n      borderBoxCenter: add(initial.client.borderBoxCenter, offset),\n      offset: offset\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.current),\n      borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current)\n    };\n    !isEqual(oldCurrent.client.borderBoxCenter, client.borderBoxCenter) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n        Incorrect new client center position.\\n        Expected (\" + oldCurrent.client.borderBoxCenter.x + \", \" + oldCurrent.client.borderBoxCenter.y + \")\\n        to equal (\" + client.borderBoxCenter.x + \", \" + client.borderBoxCenter.y + \")\\n      \") : invariant(false) : void 0;\n    return {\n      client: client,\n      page: page\n    };\n  }();\n  return {\n    current: current,\n    initial: initial\n  };\n};\nvar offsetDraggable = function (_ref) {\n  var draggable = _ref.draggable,\n    offset$1 = _ref.offset,\n    initialWindowScroll = _ref.initialWindowScroll;\n  var client = offset(draggable.client, offset$1);\n  var page = withScroll(client, initialWindowScroll);\n  var moved = _extends({}, draggable, {\n    placeholder: _extends({}, draggable.placeholder, {\n      client: client\n    }),\n    client: client,\n    page: page\n  });\n  return moved;\n};\nvar adjustExistingForAdditionsAndRemovals = function (_ref) {\n  var existing = _ref.existing,\n    droppables = _ref.droppables,\n    addedDraggables = _ref.additions,\n    removedDraggables = _ref.removals,\n    viewport = _ref.viewport;\n  var shifted = {};\n  toDroppableList(droppables).forEach(function (droppable) {\n    var axis = droppable.axis;\n    var original = getDraggablesInsideDroppable(droppable.descriptor.id, existing);\n    var toShift = {};\n    var addShift = function addShift(id, shift) {\n      var previous = toShift[id];\n      if (!previous) {\n        toShift[id] = shift;\n        return;\n      }\n      toShift[id] = {\n        indexChange: previous.indexChange + shift.indexChange,\n        offset: add(previous.offset, shift.offset)\n      };\n    };\n    var removals = toDraggableMap(removedDraggables.map(function (id) {\n      var item = existing[id];\n      !item ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Could not find removed draggable \\\"\" + id + \"\\\"\") : invariant(false) : void 0;\n      return item;\n    }).filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    }));\n    var withRemovals = original.filter(function (item, index) {\n      var isBeingRemoved = Boolean(removals[item.descriptor.id]);\n      if (!isBeingRemoved) {\n        return true;\n      }\n      var offset = negate(patch(axis.line, item.displaceBy[axis.line]));\n      original.slice(index).forEach(function (sibling) {\n        if (removals[sibling.descriptor.id]) {\n          return;\n        }\n        addShift(sibling.descriptor.id, {\n          indexChange: -1,\n          offset: offset\n        });\n      });\n      return false;\n    });\n    var additions = addedDraggables.filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    });\n    var withAdditions = withRemovals.slice(0);\n    additions.forEach(function (item) {\n      withAdditions.splice(item.descriptor.index, 0, item);\n    });\n    var additionMap = toDraggableMap(additions);\n    withAdditions.forEach(function (item, index) {\n      var wasAdded = Boolean(additionMap[item.descriptor.id]);\n      if (!wasAdded) {\n        return;\n      }\n      var offset = patch(axis.line, item.client.marginBox[axis.size]);\n      withAdditions.slice(index).forEach(function (sibling) {\n        if (additionMap[sibling.descriptor.id]) {\n          return;\n        }\n        addShift(sibling.descriptor.id, {\n          indexChange: 1,\n          offset: offset\n        });\n      });\n    });\n    withAdditions.forEach(function (item) {\n      if (additionMap[item.descriptor.id]) {\n        return;\n      }\n      var shift = toShift[item.descriptor.id];\n      if (!shift) {\n        return;\n      }\n      var moved = offsetDraggable({\n        draggable: item,\n        offset: shift.offset,\n        initialWindowScroll: viewport.scroll.initial\n      });\n      var index = item.descriptor.index + shift.indexChange;\n      var updated = _extends({}, moved, {\n        descriptor: _extends({}, item.descriptor, {\n          index: index\n        })\n      });\n      shifted[moved.descriptor.id] = updated;\n    });\n  });\n  var map = _extends({}, existing, shifted);\n  return map;\n};\nvar adjustAdditionsForScrollChanges = function (_ref) {\n  var additions = _ref.additions,\n    updatedDroppables = _ref.updatedDroppables,\n    viewport = _ref.viewport;\n  var windowScrollChange = viewport.scroll.diff.value;\n  return additions.map(function (draggable) {\n    var droppableId = draggable.descriptor.droppableId;\n    var modified = updatedDroppables[droppableId];\n    var frame = modified.frame;\n    !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n    var droppableScrollChange = frame.scroll.diff.value;\n    var totalChange = add(windowScrollChange, droppableScrollChange);\n    var moved = offsetDraggable({\n      draggable: draggable,\n      offset: totalChange,\n      initialWindowScroll: viewport.scroll.initial\n    });\n    return moved;\n  });\n};\nvar adjustAdditionsForCollapsedHome = function (_ref) {\n  var additions = _ref.additions,\n    dragging = _ref.dragging,\n    home = _ref.home,\n    viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, dragging.displaceBy);\n  return additions.map(function (draggable) {\n    if (draggable.descriptor.droppableId !== home.descriptor.id) {\n      return draggable;\n    }\n    if (draggable.descriptor.index < dragging.descriptor.index) {\n      return draggable;\n    }\n    return offsetDraggable({\n      draggable: draggable,\n      offset: displacedBy.point,\n      initialWindowScroll: viewport.scroll.initial\n    });\n  });\n};\nvar updateDraggables = function (_ref) {\n  var updatedDroppables = _ref.updatedDroppables,\n    criticalId = _ref.criticalId,\n    unmodifiedExisting = _ref.existing,\n    unmodifiedAdditions = _ref.additions,\n    removals = _ref.removals,\n    viewport = _ref.viewport;\n  var existing = adjustExistingForAdditionsAndRemovals({\n    droppables: updatedDroppables,\n    existing: unmodifiedExisting,\n    additions: unmodifiedAdditions,\n    removals: removals,\n    viewport: viewport\n  });\n  var dragging = existing[criticalId];\n  var home = updatedDroppables[dragging.descriptor.droppableId];\n  var scrolledAdditions = adjustAdditionsForScrollChanges({\n    additions: unmodifiedAdditions,\n    updatedDroppables: updatedDroppables,\n    viewport: viewport\n  });\n  var additions = adjustAdditionsForCollapsedHome({\n    additions: scrolledAdditions,\n    dragging: dragging,\n    home: home,\n    viewport: viewport\n  });\n  var map = _extends({}, existing, toDraggableMap(additions));\n  removals.forEach(function (id) {\n    delete map[id];\n  });\n  return map;\n};\nvar getMaxScroll = function (_ref) {\n  var scrollHeight = _ref.scrollHeight,\n    scrollWidth = _ref.scrollWidth,\n    height = _ref.height,\n    width = _ref.width;\n  var maxScroll = subtract({\n    x: scrollWidth,\n    y: scrollHeight\n  }, {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n};\nvar getDroppableDimension = function (_ref) {\n  var descriptor = _ref.descriptor,\n    isEnabled = _ref.isEnabled,\n    isCombineEnabled = _ref.isCombineEnabled,\n    isFixedOnPage = _ref.isFixedOnPage,\n    direction = _ref.direction,\n    client = _ref.client,\n    page = _ref.page,\n    closest = _ref.closest;\n  var frame = function () {\n    if (!closest) {\n      return null;\n    }\n    var scrollSize = closest.scrollSize,\n      frameClient = closest.client;\n    var maxScroll = getMaxScroll({\n      scrollHeight: scrollSize.scrollHeight,\n      scrollWidth: scrollSize.scrollWidth,\n      height: frameClient.paddingBox.height,\n      width: frameClient.paddingBox.width\n    });\n    return {\n      pageMarginBox: closest.page.marginBox,\n      frameClient: frameClient,\n      scrollSize: scrollSize,\n      shouldClipSubject: closest.shouldClipSubject,\n      scroll: {\n        initial: closest.scroll,\n        current: closest.scroll,\n        max: maxScroll,\n        diff: {\n          value: origin,\n          displacement: origin\n        }\n      }\n    };\n  }();\n  var axis = direction === 'vertical' ? vertical : horizontal;\n  var subject = getSubject({\n    page: page,\n    withPlaceholder: null,\n    axis: axis,\n    frame: frame\n  });\n  var dimension = {\n    descriptor: descriptor,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: isFixedOnPage,\n    axis: axis,\n    isEnabled: isEnabled,\n    client: client,\n    page: page,\n    frame: frame,\n    subject: subject\n  };\n  return dimension;\n};\nvar isHomeOf = function (draggable, destination) {\n  return draggable.descriptor.droppableId === destination.descriptor.id;\n};\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\n  var axis = droppable.axis;\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\n    return sum + dimension.client.marginBox[axis.size];\n  }, 0);\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\n  var needsToGrowBy = requiredSpace - availableSpace;\n  if (needsToGrowBy <= 0) {\n    return null;\n  }\n  return patch(axis.line, needsToGrowBy);\n};\nvar withMaxScroll = function withMaxScroll(frame, max) {\n  return _extends({}, frame, {\n    scroll: _extends({}, frame.scroll, {\n      max: max\n    })\n  });\n};\nvar addPlaceholder = function addPlaceholder(droppable, draggable, draggables) {\n  var frame = droppable.frame;\n  !!isHomeOf(draggable, droppable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not add placeholder space to home list') : invariant(false) : void 0;\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\n  var placeholderSize = getDisplacedBy(droppable.axis, draggable.displaceBy).point;\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\n  var added = {\n    placeholderSize: placeholderSize,\n    increasedBy: requiredGrowth,\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\n  };\n  if (!frame) {\n    var _subject = getSubject({\n      page: droppable.subject.page,\n      withPlaceholder: added,\n      axis: droppable.axis,\n      frame: droppable.frame\n    });\n    return _extends({}, droppable, {\n      subject: _subject\n    });\n  }\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\n  var newFrame = withMaxScroll(frame, maxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: added,\n    axis: droppable.axis,\n    frame: newFrame\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\nvar removePlaceholder = function removePlaceholder(droppable) {\n  var added = droppable.subject.withPlaceholder;\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\n  var frame = droppable.frame;\n  if (!frame) {\n    var _subject2 = getSubject({\n      page: droppable.subject.page,\n      axis: droppable.axis,\n      frame: null,\n      withPlaceholder: null\n    });\n    return _extends({}, droppable, {\n      subject: _subject2\n    });\n  }\n  var oldMaxScroll = added.oldFrameMaxScroll;\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    axis: droppable.axis,\n    frame: newFrame,\n    withPlaceholder: null\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\nvar getFrame = function (droppable) {\n  var frame = droppable.frame;\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\n  return frame;\n};\nvar throwIfSpacingChange = function throwIfSpacingChange(old, fresh) {\n  if (process.env.NODE_ENV !== 'production') {\n    var getMessage = function getMessage(spacingType) {\n      return \"Cannot change the \" + spacingType + \" of a Droppable during a drag\";\n    };\n    !isEqual$1(old.margin, fresh.margin) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('margin')) : invariant(false) : void 0;\n    !isEqual$1(old.border, fresh.border) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('border')) : invariant(false) : void 0;\n    !isEqual$1(old.padding, fresh.padding) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('padding')) : invariant(false) : void 0;\n  }\n};\nvar adjustBorderBoxSize = function adjustBorderBoxSize(axis, old, fresh) {\n  return {\n    top: old.top,\n    left: old.left,\n    right: old.left + fresh.width,\n    bottom: old.top + fresh.height\n  };\n};\nvar updateDroppables = function (_ref) {\n  var modified = _ref.modified,\n    existing = _ref.existing,\n    viewport = _ref.viewport;\n  if (!modified.length) {\n    return existing;\n  }\n  var adjusted = modified.map(function (provided) {\n    var raw = existing[provided.descriptor.id];\n    !raw ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not locate droppable in existing droppables') : invariant(false) : void 0;\n    var hasPlaceholder = Boolean(raw.subject.withPlaceholder);\n    var dimension = hasPlaceholder ? removePlaceholder(raw) : raw;\n    var oldClient = dimension.client;\n    var newClient = provided.client;\n    var oldScrollable = getFrame(dimension);\n    var newScrollable = getFrame(provided);\n    if (process.env.NODE_ENV !== 'production') {\n      throwIfSpacingChange(dimension.client, provided.client);\n      throwIfSpacingChange(oldScrollable.frameClient, newScrollable.frameClient);\n      var isFrameEqual = oldScrollable.frameClient.borderBox.height === newScrollable.frameClient.borderBox.height && oldScrollable.frameClient.borderBox.width === newScrollable.frameClient.borderBox.width;\n      !isFrameEqual ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'The width and height of your Droppable scroll container cannot change when adding or removing Draggables during a drag') : invariant(false) : void 0;\n    }\n    var client = createBox({\n      borderBox: adjustBorderBoxSize(dimension.axis, oldClient.borderBox, newClient.borderBox),\n      margin: oldClient.margin,\n      border: oldClient.border,\n      padding: oldClient.padding\n    });\n    var closest = {\n      client: oldScrollable.frameClient,\n      page: withScroll(oldScrollable.frameClient, viewport.scroll.initial),\n      shouldClipSubject: oldScrollable.shouldClipSubject,\n      scrollSize: newScrollable.scrollSize,\n      scroll: oldScrollable.scroll.initial\n    };\n    var withSizeChanged = getDroppableDimension({\n      descriptor: provided.descriptor,\n      isEnabled: provided.isEnabled,\n      isCombineEnabled: provided.isCombineEnabled,\n      isFixedOnPage: provided.isFixedOnPage,\n      direction: provided.axis.direction,\n      client: client,\n      page: withScroll(client, viewport.scroll.initial),\n      closest: closest\n    });\n    var scrolled = scrollDroppable(withSizeChanged, newScrollable.scroll.current);\n    return scrolled;\n  });\n  var result = _extends({}, existing, toDroppableMap(adjusted));\n  return result;\n};\nvar withNoAnimatedDisplacement = function (impact) {\n  var displaced = impact.movement.displaced;\n  if (!displaced.length) {\n    return impact;\n  }\n  var withoutAnimation = displaced.map(function (displacement) {\n    if (!displacement.isVisible) {\n      return displacement;\n    }\n    if (!displacement.shouldAnimate) {\n      return displacement;\n    }\n    return _extends({}, displacement, {\n      shouldAnimate: false\n    });\n  });\n  var result = _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: withoutAnimation,\n      map: getDisplacementMap(withoutAnimation)\n    })\n  });\n  return result;\n};\nvar patchDroppableMap = function (droppables, updated) {\n  var _extends2;\n  return _extends({}, droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2));\n};\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\n  var previousImpact = _ref.previousImpact,\n    impact = _ref.impact,\n    droppables = _ref.droppables;\n  var last = whatIsDraggedOver(previousImpact);\n  var now = whatIsDraggedOver(impact);\n  if (!last) {\n    return droppables;\n  }\n  if (last === now) {\n    return droppables;\n  }\n  var lastDroppable = droppables[last];\n  if (!lastDroppable.subject.withPlaceholder) {\n    return droppables;\n  }\n  var updated = removePlaceholder(lastDroppable);\n  return patchDroppableMap(droppables, updated);\n};\nvar recomputePlaceholders = function (_ref2) {\n  var draggable = _ref2.draggable,\n    draggables = _ref2.draggables,\n    droppables = _ref2.droppables,\n    previousImpact = _ref2.previousImpact,\n    impact = _ref2.impact;\n  var cleaned = clearUnusedPlaceholder({\n    previousImpact: previousImpact,\n    impact: impact,\n    droppables: droppables\n  });\n  var isOver = whatIsDraggedOver(impact);\n  if (!isOver) {\n    return cleaned;\n  }\n  var droppable = droppables[isOver];\n  if (isHomeOf(draggable, droppable)) {\n    return cleaned;\n  }\n  if (droppable.subject.withPlaceholder) {\n    return cleaned;\n  }\n  var patched = addPlaceholder(droppable, draggable, draggables);\n  return patchDroppableMap(cleaned, patched);\n};\nvar timingsKey = 'Processing dynamic changes';\nvar publishWhileDragging = function (_ref) {\n  var _extends2, _extends3;\n  var state = _ref.state,\n    published = _ref.published;\n  start(timingsKey);\n  var updatedDroppables = updateDroppables({\n    modified: published.modified,\n    existing: state.dimensions.droppables,\n    viewport: state.viewport\n  });\n  var draggables = updateDraggables({\n    updatedDroppables: updatedDroppables,\n    criticalId: state.critical.draggable.id,\n    existing: state.dimensions.draggables,\n    additions: published.additions,\n    removals: published.removals,\n    viewport: state.viewport\n  });\n  var critical = {\n    draggable: draggables[state.critical.draggable.id].descriptor,\n    droppable: updatedDroppables[state.critical.droppable.id].descriptor\n  };\n  var original = state.dimensions.draggables[critical.draggable.id];\n  var updated = draggables[critical.draggable.id];\n  var droppables = recomputePlaceholders({\n    draggable: updated,\n    draggables: draggables,\n    droppables: updatedDroppables,\n    previousImpact: state.impact,\n    impact: state.impact\n  });\n  var dimensions = {\n    draggables: draggables,\n    droppables: droppables\n  };\n  var _getDragPositions = getDragPositions({\n      initial: state.initial,\n      current: state.current,\n      oldClientBorderBoxCenter: original.client.borderBox.center,\n      newClientBorderBoxCenter: updated.client.borderBox.center,\n      viewport: state.viewport\n    }),\n    initial = _getDragPositions.initial,\n    current = _getDragPositions.current;\n  var _getHomeOnLift = getHomeOnLift({\n      draggable: updated,\n      home: dimensions.droppables[critical.droppable.id],\n      draggables: dimensions.draggables,\n      viewport: state.viewport\n    }),\n    homeImpact = _getHomeOnLift.impact,\n    onLift = _getHomeOnLift.onLift;\n  var impact = withNoAnimatedDisplacement(getDragImpact({\n    pageBorderBoxCenter: current.page.borderBoxCenter,\n    draggable: updated,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: homeImpact,\n    viewport: state.viewport,\n    userDirection: state.userDirection,\n    onLift: onLift\n  }));\n  var isOrphaned = Boolean(state.movementMode === 'SNAP' && !whatIsDraggedOver(impact));\n  !!isOrphaned ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Dragging item no longer has a valid merge/destination after a dynamic update. This is not supported') : invariant(false) : void 0;\n  finish(timingsKey);\n  var draggingState = _extends({\n    phase: 'DRAGGING'\n  }, state, (_extends2 = {}, _extends2[\"phase\"] = 'DRAGGING', _extends2.critical = critical, _extends2.current = current, _extends2.initial = initial, _extends2.impact = impact, _extends2.dimensions = dimensions, _extends2.onLift = onLift, _extends2.onLiftImpact = homeImpact, _extends2.forceShouldAnimate = false, _extends2));\n  if (state.phase === 'COLLECTING') {\n    return draggingState;\n  }\n  var dropPending = _extends({\n    phase: 'DROP_PENDING'\n  }, draggingState, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.reason = state.reason, _extends3.isWaiting = false, _extends3));\n  return dropPending;\n};\nvar forward = {\n  vertical: 'down',\n  horizontal: 'right'\n};\nvar backward = {\n  vertical: 'up',\n  horizontal: 'left'\n};\nvar moveToNextCombine = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n    isInHomeList = _ref.isInHomeList,\n    draggable = _ref.draggable,\n    destination = _ref.destination,\n    originalInsideDestination = _ref.insideDestination,\n    previousImpact = _ref.previousImpact;\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n  if (previousImpact.merge) {\n    return null;\n  }\n  var location = previousImpact.destination;\n  !location ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Need a previous location to move from into a combine') : invariant(false) : void 0;\n  var currentIndex = location.index;\n  var currentInsideDestination = function () {\n    var shallow = originalInsideDestination.slice();\n    if (isInHomeList) {\n      shallow.splice(draggable.descriptor.index, 1);\n    }\n    shallow.splice(location.index, 0, draggable);\n    return shallow;\n  }();\n  var targetIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n  if (targetIndex < 0) {\n    return null;\n  }\n  if (targetIndex > currentInsideDestination.length - 1) {\n    return null;\n  }\n  var target = currentInsideDestination[targetIndex];\n  !(target !== draggable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot combine with self') : invariant(false) : void 0;\n  var merge = {\n    whenEntered: isMovingForward ? forward : backward,\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n  var impact = {\n    movement: previousImpact.movement,\n    destination: null,\n    merge: merge\n  };\n  return impact;\n};\nvar addClosest = function addClosest(add, displaced) {\n  var added = {\n    draggableId: add.descriptor.id,\n    isVisible: true,\n    shouldAnimate: true\n  };\n  return [added].concat(displaced);\n};\nvar removeClosest = function removeClosest(displaced) {\n  return displaced.slice(1);\n};\nvar fromReorder = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n    isInHomeList = _ref.isInHomeList,\n    draggable = _ref.draggable,\n    initialInside = _ref.insideDestination,\n    location = _ref.location;\n  var insideDestination = initialInside.slice();\n  var currentIndex = location.index;\n  var isInForeignList = !isInHomeList;\n  if (isInForeignList) {\n    insideDestination.splice(location.index, 0, draggable);\n  }\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n  if (proposedIndex < 0) {\n    return null;\n  }\n  if (proposedIndex > insideDestination.length - 1) {\n    return null;\n  }\n  return {\n    proposedIndex: proposedIndex,\n    modifyDisplacement: true\n  };\n};\nvar fromCombine = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n    destination = _ref.destination,\n    previousImpact = _ref.previousImpact,\n    draggables = _ref.draggables,\n    merge = _ref.merge,\n    onLift = _ref.onLift;\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n  var movement = previousImpact.movement;\n  var combineId = merge.combine.draggableId;\n  var combine = draggables[combineId];\n  var combineIndex = combine.descriptor.index;\n  var wasDisplacedAtStart = didStartDisplaced(combineId, onLift);\n  if (wasDisplacedAtStart) {\n    var hasDisplacedFromStart = !movement.map[combineId];\n    if (hasDisplacedFromStart) {\n      if (isMovingForward) {\n        return {\n          proposedIndex: combineIndex,\n          modifyDisplacement: false\n        };\n      }\n      return {\n        proposedIndex: combineIndex - 1,\n        modifyDisplacement: true\n      };\n    }\n    if (isMovingForward) {\n      return {\n        proposedIndex: combineIndex,\n        modifyDisplacement: true\n      };\n    }\n    return {\n      proposedIndex: combineIndex - 1,\n      modifyDisplacement: false\n    };\n  }\n  var isDisplaced = Boolean(movement.map[combineId]);\n  if (isDisplaced) {\n    if (isMovingForward) {\n      return {\n        proposedIndex: combineIndex + 1,\n        modifyDisplacement: true\n      };\n    }\n    return {\n      proposedIndex: combineIndex,\n      modifyDisplacement: false\n    };\n  }\n  if (isMovingForward) {\n    return {\n      proposedIndex: combineIndex + 1,\n      modifyDisplacement: false\n    };\n  }\n  return {\n    proposedIndex: combineIndex,\n    modifyDisplacement: true\n  };\n};\nvar moveToNextIndex = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n    isInHomeList = _ref.isInHomeList,\n    draggable = _ref.draggable,\n    draggables = _ref.draggables,\n    destination = _ref.destination,\n    insideDestination = _ref.insideDestination,\n    previousImpact = _ref.previousImpact,\n    onLift = _ref.onLift;\n  var instruction = function () {\n    if (previousImpact.destination) {\n      return fromReorder({\n        isMovingForward: isMovingForward,\n        isInHomeList: isInHomeList,\n        draggable: draggable,\n        location: previousImpact.destination,\n        insideDestination: insideDestination\n      });\n    }\n    if (previousImpact.merge) {\n      return fromCombine({\n        isMovingForward: isMovingForward,\n        destination: destination,\n        previousImpact: previousImpact,\n        draggables: draggables,\n        merge: previousImpact.merge,\n        onLift: onLift\n      });\n    }\n    return null;\n  }();\n  if (instruction == null) {\n    return null;\n  }\n  var proposedIndex = instruction.proposedIndex,\n    modifyDisplacement = instruction.modifyDisplacement;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var displaced = function () {\n    var lastDisplaced = previousImpact.movement.displaced;\n    if (!modifyDisplacement) {\n      return lastDisplaced;\n    }\n    if (isMovingForward) {\n      return removeClosest(lastDisplaced);\n    }\n    var withoutDraggable = removeDraggableFromList(draggable, insideDestination);\n    var atProposedIndex = withoutDraggable[proposedIndex];\n    return addClosest(atProposedIndex, lastDisplaced);\n  }();\n  return {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    },\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n};\nvar whenCombining = function (_ref) {\n  var combine = _ref.combine,\n    onLift = _ref.onLift,\n    movement = _ref.movement,\n    draggables = _ref.draggables;\n  var combineWith = combine.draggableId;\n  var center = draggables[combineWith].page.borderBox.center;\n  var displaceBy = getCombinedItemDisplacement({\n    displaced: movement.map,\n    onLift: onLift,\n    combineWith: combineWith,\n    displacedBy: movement.displacedBy\n  });\n  return add(center, displaceBy);\n};\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\n};\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\n};\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\n};\nvar goAfter = function goAfter(_ref) {\n  var axis = _ref.axis,\n    moveRelativeTo = _ref.moveRelativeTo,\n    isMoving = _ref.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goBefore = function goBefore(_ref2) {\n  var axis = _ref2.axis,\n    moveRelativeTo = _ref2.moveRelativeTo,\n    isMoving = _ref2.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goIntoStart = function goIntoStart(_ref3) {\n  var axis = _ref3.axis,\n    moveInto = _ref3.moveInto,\n    isMoving = _ref3.isMoving;\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\n};\nvar whenReordering = function (_ref) {\n  var movement = _ref.movement,\n    draggable = _ref.draggable,\n    draggables = _ref.draggables,\n    droppable = _ref.droppable,\n    onLift = _ref.onLift;\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var draggablePage = draggable.page;\n  var axis = droppable.axis;\n  if (!insideDestination.length) {\n    return goIntoStart({\n      axis: axis,\n      moveInto: droppable.page,\n      isMoving: draggablePage\n    });\n  }\n  var displaced = movement.displaced,\n    displacedBy = movement.displacedBy;\n  if (displaced.length) {\n    var closestAfter = draggables[displaced[0].draggableId];\n    if (didStartDisplaced(closestAfter.descriptor.id, onLift)) {\n      return goBefore({\n        axis: axis,\n        moveRelativeTo: closestAfter.page,\n        isMoving: draggablePage\n      });\n    }\n    var withDisplacement = offset(closestAfter.page, displacedBy.point);\n    return goBefore({\n      axis: axis,\n      moveRelativeTo: withDisplacement,\n      isMoving: draggablePage\n    });\n  }\n  var last = insideDestination[insideDestination.length - 1];\n  if (last.descriptor.id === draggable.descriptor.id) {\n    return draggablePage.borderBox.center;\n  }\n  if (didStartDisplaced(last.descriptor.id, onLift)) {\n    var page = offset(last.page, negate(onLift.displacedBy.point));\n    return goAfter({\n      axis: axis,\n      moveRelativeTo: page,\n      isMoving: draggablePage\n    });\n  }\n  return goAfter({\n    axis: axis,\n    moveRelativeTo: last.page,\n    isMoving: draggablePage\n  });\n};\nvar withDroppableDisplacement = function (droppable, point) {\n  var frame = droppable.frame;\n  if (!frame) {\n    return point;\n  }\n  return add(point, frame.scroll.diff.displacement);\n};\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\n  var impact = _ref.impact,\n    draggable = _ref.draggable,\n    droppable = _ref.droppable,\n    draggables = _ref.draggables,\n    onLift = _ref.onLift;\n  var merge = impact.merge;\n  var destination = impact.destination;\n  var original = draggable.page.borderBox.center;\n  if (!droppable) {\n    return original;\n  }\n  if (destination) {\n    return whenReordering({\n      movement: impact.movement,\n      draggable: draggable,\n      draggables: draggables,\n      droppable: droppable,\n      onLift: onLift\n    });\n  }\n  if (merge) {\n    return whenCombining({\n      movement: impact.movement,\n      combine: merge.combine,\n      draggables: draggables,\n      onLift: onLift\n    });\n  }\n  return original;\n};\nvar getPageBorderBoxCenterFromImpact = function (args) {\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\n  var droppable = args.droppable;\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\n  return withDisplacement;\n};\nvar scrollViewport = function (viewport, newScroll) {\n  var diff = subtract(newScroll, viewport.scroll.initial);\n  var displacement = negate(diff);\n  var frame = getRect({\n    top: newScroll.y,\n    bottom: newScroll.y + viewport.frame.height,\n    left: newScroll.x,\n    right: newScroll.x + viewport.frame.width\n  });\n  var updated = {\n    frame: frame,\n    scroll: {\n      initial: viewport.scroll.initial,\n      max: viewport.scroll.max,\n      current: newScroll,\n      diff: {\n        value: diff,\n        displacement: displacement\n      }\n    }\n  };\n  return updated;\n};\nvar withNewDisplacement = function (impact, displaced) {\n  return _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    })\n  });\n};\nvar speculativelyIncrease = function (_ref) {\n  var impact = _ref.impact,\n    viewport = _ref.viewport,\n    destination = _ref.destination,\n    draggables = _ref.draggables,\n    maxScrollChange = _ref.maxScrollChange,\n    onLift = _ref.onLift;\n  var displaced = impact.movement.displaced;\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\n  var updated = displaced.map(function (entry) {\n    if (entry.isVisible) {\n      return entry;\n    }\n    var draggable = draggables[entry.draggableId];\n    var withScrolledViewport = getDisplacement({\n      draggable: draggable,\n      destination: destination,\n      previousImpact: impact,\n      viewport: scrolledViewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: false\n    });\n    if (withScrolledViewport.isVisible) {\n      return withScrolledViewport;\n    }\n    var withScrolledDroppable = getDisplacement({\n      draggable: draggable,\n      destination: scrolledDroppable,\n      previousImpact: impact,\n      viewport: viewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: false\n    });\n    if (withScrolledDroppable.isVisible) {\n      return withScrolledDroppable;\n    }\n    return entry;\n  });\n  return withNewDisplacement(impact, updated);\n};\nvar withViewportDisplacement = function (viewport, point) {\n  return add(viewport.scroll.diff.displacement, point);\n};\nvar getClientFromPageBorderBoxCenter = function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n    draggable = _ref.draggable,\n    viewport = _ref.viewport;\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\n  var offset = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\n  return add(draggable.client.borderBox.center, offset);\n};\nvar isTotallyVisibleInNewLocation = function (_ref) {\n  var draggable = _ref.draggable,\n    destination = _ref.destination,\n    newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\n    viewport = _ref.viewport,\n    withDroppableDisplacement = _ref.withDroppableDisplacement,\n    _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\n    onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\n  var changeNeeded = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\n  var shifted = offsetByPosition(draggable.page.borderBox, changeNeeded);\n  var args = {\n    target: shifted,\n    destination: destination,\n    withDroppableDisplacement: withDroppableDisplacement,\n    viewport: viewport\n  };\n  return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);\n};\nvar moveToNextPlace = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n    draggable = _ref.draggable,\n    destination = _ref.destination,\n    draggables = _ref.draggables,\n    previousImpact = _ref.previousImpact,\n    viewport = _ref.viewport,\n    previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n    previousClientSelection = _ref.previousClientSelection,\n    onLift = _ref.onLift;\n  if (!destination.isEnabled) {\n    return null;\n  }\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var isInHomeList = isHomeOf(draggable, destination);\n  var impact = moveToNextCombine({\n    isInHomeList: isInHomeList,\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  }) || moveToNextIndex({\n    isMovingForward: isMovingForward,\n    isInHomeList: isInHomeList,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    onLift: onLift\n  });\n  if (!impact) {\n    return null;\n  }\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    onLift: onLift\n  });\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n    draggable: draggable,\n    destination: destination,\n    newPageBorderBoxCenter: pageBorderBoxCenter,\n    viewport: viewport.frame,\n    withDroppableDisplacement: false,\n    onlyOnMainAxis: true\n  });\n  if (isVisibleInNewLocation) {\n    var clientSelection = getClientFromPageBorderBoxCenter({\n      pageBorderBoxCenter: pageBorderBoxCenter,\n      draggable: draggable,\n      viewport: viewport\n    });\n    return {\n      clientSelection: clientSelection,\n      impact: impact,\n      scrollJumpRequest: null\n    };\n  }\n  var distance = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\n  var cautious = speculativelyIncrease({\n    impact: impact,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    maxScrollChange: distance,\n    onLift: onLift\n  });\n  return {\n    clientSelection: previousClientSelection,\n    impact: cautious,\n    scrollJumpRequest: distance\n  };\n};\nvar getKnownActive = function getKnownActive(droppable) {\n  var rect = droppable.subject.active;\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\n  return rect;\n};\nvar getBestCrossAxisDroppable = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n    pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n    source = _ref.source,\n    droppables = _ref.droppables,\n    viewport = _ref.viewport;\n  var active = source.subject.active;\n  if (!active) {\n    return null;\n  }\n  var axis = source.axis;\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\n    return droppable !== source;\n  }).filter(function (droppable) {\n    return droppable.isEnabled;\n  }).filter(function (droppable) {\n    return Boolean(droppable.subject.active);\n  }).filter(function (droppable) {\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    if (isMovingForward) {\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\n    }\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\n  }).sort(function (a, b) {\n    var first = getKnownActive(a)[axis.crossAxisStart];\n    var second = getKnownActive(b)[axis.crossAxisStart];\n    if (isMovingForward) {\n      return first - second;\n    }\n    return second - first;\n  }).filter(function (droppable, index, array) {\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\n  });\n  if (!candidates.length) {\n    return null;\n  }\n  if (candidates.length === 1) {\n    return candidates[0];\n  }\n  var contains = candidates.filter(function (droppable) {\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\n  });\n  if (contains.length === 1) {\n    return contains[0];\n  }\n  if (contains.length > 1) {\n    return contains.sort(function (a, b) {\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n    })[0];\n  }\n  return candidates.sort(function (a, b) {\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\n    if (first !== second) {\n      return first - second;\n    }\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n  })[0];\n};\nvar getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter(draggable, onLift) {\n  var original = draggable.page.borderBox.center;\n  return didStartDisplaced(draggable.descriptor.id, onLift) ? subtract(original, onLift.displacedBy.point) : original;\n};\nvar getCurrentPageBorderBox = function getCurrentPageBorderBox(draggable, onLift) {\n  var original = draggable.page.borderBox;\n  return didStartDisplaced(draggable.descriptor.id, onLift) ? offsetByPosition(original, negate(onLift.displacedBy.point)) : original;\n};\nvar getClosestDraggable = function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n    viewport = _ref.viewport,\n    destination = _ref.destination,\n    insideDestination = _ref.insideDestination,\n    onLift = _ref.onLift;\n  var sorted = insideDestination.filter(function (draggable) {\n    return isTotallyVisible({\n      target: getCurrentPageBorderBox(draggable, onLift),\n      destination: destination,\n      viewport: viewport.frame,\n      withDroppableDisplacement: true\n    });\n  }).sort(function (a, b) {\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a, onLift)));\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b, onLift)));\n    if (distanceToA < distanceToB) {\n      return -1;\n    }\n    if (distanceToB < distanceToA) {\n      return 1;\n    }\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return sorted[0] || null;\n};\nvar moveToNewDroppable = function (_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n    moveRelativeTo = _ref.moveRelativeTo,\n    insideDestination = _ref.insideDestination,\n    draggable = _ref.draggable,\n    draggables = _ref.draggables,\n    destination = _ref.destination,\n    previousImpact = _ref.previousImpact,\n    viewport = _ref.viewport,\n    onLift = _ref.onLift;\n  if (!moveRelativeTo) {\n    if (insideDestination.length) {\n      return null;\n    }\n    var proposed = {\n      movement: noMovement,\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: 0\n      },\n      merge: null\n    };\n    var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n      impact: proposed,\n      draggable: draggable,\n      droppable: destination,\n      draggables: draggables,\n      onLift: onLift\n    });\n    var withPlaceholder = isHomeOf(draggable, destination) ? destination : addPlaceholder(destination, draggable, draggables);\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n      draggable: draggable,\n      destination: withPlaceholder,\n      newPageBorderBoxCenter: proposedPageBorderBoxCenter,\n      viewport: viewport.frame,\n      withDroppableDisplacement: false,\n      onlyOnMainAxis: true\n    });\n    return isVisibleInNewLocation ? proposed : null;\n  }\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] < moveRelativeTo.page.borderBox.center[destination.axis.line]);\n  var targetIndex = insideDestination.indexOf(moveRelativeTo);\n  !(targetIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find target in list') : invariant(false) : void 0;\n  var proposedIndex = function () {\n    if (moveRelativeTo.descriptor.id === draggable.descriptor.id) {\n      return targetIndex;\n    }\n    if (isGoingBeforeTarget) {\n      return targetIndex;\n    }\n    return targetIndex + 1;\n  }();\n  var displaced = removeDraggableFromList(draggable, insideDestination).slice(proposedIndex).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      viewport: viewport.frame,\n      previousImpact: previousImpact,\n      onLift: onLift\n    });\n  });\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var impact = {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    },\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n  return impact;\n};\nvar moveCrossAxis = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n    previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n    draggable = _ref.draggable,\n    isOver = _ref.isOver,\n    draggables = _ref.draggables,\n    droppables = _ref.droppables,\n    previousImpact = _ref.previousImpact,\n    viewport = _ref.viewport,\n    onLift = _ref.onLift;\n  var destination = getBestCrossAxisDroppable({\n    isMovingForward: isMovingForward,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    source: isOver,\n    droppables: droppables,\n    viewport: viewport\n  });\n  if (!destination) {\n    return null;\n  }\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var moveRelativeTo = getClosestDraggable({\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    viewport: viewport,\n    destination: destination,\n    insideDestination: insideDestination,\n    onLift: onLift\n  });\n  var impact = moveToNewDroppable({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    destination: destination,\n    draggable: draggable,\n    draggables: draggables,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    onLift: onLift\n  });\n  if (!impact) {\n    return null;\n  }\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    onLift: onLift\n  });\n  var clientSelection = getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n  return {\n    clientSelection: clientSelection,\n    impact: impact,\n    scrollJumpRequest: null\n  };\n};\nvar getDroppableOver$1 = function getDroppableOver(impact, droppables) {\n  var id = whatIsDraggedOver(impact);\n  return id ? droppables[id] : null;\n};\nvar moveInDirection = function (_ref) {\n  var state = _ref.state,\n    type = _ref.type;\n  var isActuallyOver = getDroppableOver$1(state.impact, state.dimensions.droppables);\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\n  var home = state.dimensions.droppables[state.critical.droppable.id];\n  var isOver = isActuallyOver || home;\n  var direction = isOver.axis.direction;\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\n    return null;\n  }\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\n  var _state$dimensions = state.dimensions,\n    draggables = _state$dimensions.draggables,\n    droppables = _state$dimensions.droppables;\n  return isMovingOnMainAxis ? moveToNextPlace({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    destination: isOver,\n    draggables: draggables,\n    viewport: state.viewport,\n    previousClientSelection: state.current.client.selection,\n    previousImpact: state.impact,\n    onLift: state.onLift\n  }) : moveCrossAxis({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    isOver: isOver,\n    draggables: draggables,\n    droppables: droppables,\n    previousImpact: state.impact,\n    viewport: state.viewport,\n    onLift: state.onLift\n  });\n};\nfunction isMovementAllowed(state) {\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\n}\nvar getVertical = function getVertical(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n  return diff > 0 ? 'down' : 'up';\n};\nvar getHorizontal = function getHorizontal(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n  return diff > 0 ? 'right' : 'left';\n};\nvar getUserDirection = function (previous, oldPageBorderBoxCenter, newPageBorderBoxCenter) {\n  var diff = subtract(newPageBorderBoxCenter, oldPageBorderBoxCenter);\n  return {\n    horizontal: getHorizontal(previous.horizontal, diff.x),\n    vertical: getVertical(previous.vertical, diff.y)\n  };\n};\nvar update = function (_ref) {\n  var state = _ref.state,\n    forcedClientSelection = _ref.clientSelection,\n    forcedDimensions = _ref.dimensions,\n    forcedViewport = _ref.viewport,\n    forcedImpact = _ref.impact,\n    scrollJumpRequest = _ref.scrollJumpRequest;\n  var viewport = forcedViewport || state.viewport;\n  var currentWindowScroll = viewport.scroll.current;\n  var dimensions = forcedDimensions || state.dimensions;\n  var clientSelection = forcedClientSelection || state.current.client.selection;\n  var offset = subtract(clientSelection, state.initial.client.selection);\n  var client = {\n    offset: offset,\n    selection: clientSelection,\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset)\n  };\n  var page = {\n    selection: add(client.selection, currentWindowScroll),\n    borderBoxCenter: add(client.borderBoxCenter, currentWindowScroll)\n  };\n  var current = {\n    client: client,\n    page: page\n  };\n  var userDirection = getUserDirection(state.userDirection, state.current.page.borderBoxCenter, current.page.borderBoxCenter);\n  if (state.phase === 'COLLECTING') {\n    return _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      dimensions: dimensions,\n      viewport: viewport,\n      current: current,\n      userDirection: userDirection\n    });\n  }\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var newImpact = forcedImpact || getDragImpact({\n    pageBorderBoxCenter: page.borderBoxCenter,\n    draggable: draggable,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: state.impact,\n    viewport: viewport,\n    userDirection: userDirection,\n    onLift: state.onLift\n  });\n  var withUpdatedPlaceholders = recomputePlaceholders({\n    draggable: draggable,\n    impact: newImpact,\n    previousImpact: state.impact,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables\n  });\n  var result = _extends({}, state, {\n    current: current,\n    userDirection: userDirection,\n    dimensions: {\n      draggables: dimensions.draggables,\n      droppables: withUpdatedPlaceholders\n    },\n    impact: newImpact,\n    viewport: viewport,\n    scrollJumpRequest: scrollJumpRequest || null,\n    forceShouldAnimate: scrollJumpRequest ? false : null\n  });\n  return result;\n};\nvar recompute = function (_ref) {\n  var impact = _ref.impact,\n    viewport = _ref.viewport,\n    destination = _ref.destination,\n    draggables = _ref.draggables,\n    onLift = _ref.onLift,\n    forceShouldAnimate = _ref.forceShouldAnimate;\n  var updated = impact.movement.displaced.map(function (entry) {\n    return getDisplacement({\n      draggable: draggables[entry.draggableId],\n      destination: destination,\n      previousImpact: impact,\n      viewport: viewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: forceShouldAnimate\n    });\n  });\n  return withNewDisplacement(impact, updated);\n};\nvar getClientBorderBoxCenter = function (_ref) {\n  var impact = _ref.impact,\n    draggable = _ref.draggable,\n    droppable = _ref.droppable,\n    draggables = _ref.draggables,\n    viewport = _ref.viewport,\n    onLift = _ref.onLift;\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: droppable,\n    onLift: onLift\n  });\n  return getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n};\nvar refreshSnap = function (_ref) {\n  var state = _ref.state,\n    forcedDimensions = _ref.dimensions,\n    forcedViewport = _ref.viewport;\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var needsVisibilityCheck = state.impact;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var draggables = dimensions.draggables,\n    droppables = dimensions.droppables;\n  var draggable = draggables[state.critical.draggable.id];\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\n  var destination = droppables[isOver];\n  var impact = recompute({\n    impact: needsVisibilityCheck,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    onLift: state.onLift\n  });\n  var clientSelection = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    viewport: viewport,\n    onLift: state.onLift\n  });\n  return update({\n    impact: impact,\n    clientSelection: clientSelection,\n    state: state,\n    dimensions: dimensions,\n    viewport: viewport\n  });\n};\nvar patchDimensionMap = function (dimensions, updated) {\n  return {\n    draggables: dimensions.draggables,\n    droppables: patchDroppableMap(dimensions.droppables, updated)\n  };\n};\nvar isSnapping = function isSnapping(state) {\n  return state.movementMode === 'SNAP';\n};\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\n  var dimensions = patchDimensionMap(state.dimensions, updated);\n  if (!isSnapping(state) || isEnabledChanging) {\n    return update({\n      state: state,\n      dimensions: dimensions\n    });\n  }\n  return refreshSnap({\n    state: state,\n    dimensions: dimensions\n  });\n};\nvar idle = {\n  phase: 'IDLE',\n  completed: null,\n  shouldFlush: false\n};\nvar reducer = function (state, action) {\n  if (state === void 0) {\n    state = idle;\n  }\n  if (action.type === 'CLEAN') {\n    return _extends({}, idle, {\n      shouldFlush: action.payload.shouldFlush\n    });\n  }\n  if (action.type === 'INITIAL_PUBLISH') {\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\n    var _action$payload = action.payload,\n      critical = _action$payload.critical,\n      clientSelection = _action$payload.clientSelection,\n      viewport = _action$payload.viewport,\n      dimensions = _action$payload.dimensions,\n      movementMode = _action$payload.movementMode;\n    var draggable = dimensions.draggables[critical.draggable.id];\n    var home = dimensions.droppables[critical.droppable.id];\n    var client = {\n      selection: clientSelection,\n      borderBoxCenter: draggable.client.borderBox.center,\n      offset: origin\n    };\n    var initial = {\n      client: client,\n      page: {\n        selection: add(client.selection, viewport.scroll.initial),\n        borderBoxCenter: add(client.selection, viewport.scroll.initial)\n      }\n    };\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\n      return !item.isFixedOnPage;\n    });\n    var _getHomeOnLift = getHomeOnLift({\n        draggable: draggable,\n        home: home,\n        draggables: dimensions.draggables,\n        viewport: viewport\n      }),\n      impact = _getHomeOnLift.impact,\n      onLift = _getHomeOnLift.onLift;\n    var result = {\n      phase: 'DRAGGING',\n      isDragging: true,\n      critical: critical,\n      movementMode: movementMode,\n      dimensions: dimensions,\n      initial: initial,\n      current: initial,\n      isWindowScrollAllowed: isWindowScrollAllowed,\n      impact: impact,\n      onLift: onLift,\n      onLiftImpact: impact,\n      viewport: viewport,\n      userDirection: forward,\n      scrollJumpRequest: null,\n      forceShouldAnimate: null\n    };\n    return result;\n  }\n  if (action.type === 'COLLECTION_STARTING') {\n    var _extends2;\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\n    var _result = _extends({\n      phase: 'COLLECTING'\n    }, state, (_extends2 = {}, _extends2[\"phase\"] = 'COLLECTING', _extends2));\n    return _result;\n  }\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\n    return publishWhileDragging({\n      state: state,\n      published: action.payload\n    });\n  }\n  if (action.type === 'MOVE') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _clientSelection = action.payload.client;\n    if (isEqual(_clientSelection, state.current.client.selection)) {\n      return state;\n    }\n    return update({\n      state: state,\n      clientSelection: _clientSelection,\n      impact: isSnapping(state) ? state.impact : null\n    });\n  }\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n    if (state.phase === 'COLLECTING') {\n      return state;\n    }\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload2 = action.payload,\n      id = _action$payload2.id,\n      offset = _action$payload2.offset;\n    var target = state.dimensions.droppables[id];\n    if (!target) {\n      return state;\n    }\n    var scrolled = scrollDroppable(target, offset);\n    return postDroppableChange(state, scrolled, false);\n  }\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload3 = action.payload,\n      _id = _action$payload3.id,\n      isEnabled = _action$payload3.isEnabled;\n    var _target = state.dimensions.droppables[_id];\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\n    var updated = _extends({}, _target, {\n      isEnabled: isEnabled\n    });\n    return postDroppableChange(state, updated, true);\n  }\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload4 = action.payload,\n      _id2 = _action$payload4.id,\n      isCombineEnabled = _action$payload4.isCombineEnabled;\n    var _target2 = state.dimensions.droppables[_id2];\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\n    var _updated = _extends({}, _target2, {\n      isCombineEnabled: isCombineEnabled\n    });\n    return postDroppableChange(state, _updated, true);\n  }\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\n      return state;\n    }\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists. Aborting drag') : invariant(false) : void 0;\n    var newScroll = action.payload.newScroll;\n    if (isEqual(state.viewport.scroll.current, newScroll)) {\n      return state;\n    }\n    var _viewport = scrollViewport(state.viewport, newScroll);\n    if (isSnapping(state)) {\n      return refreshSnap({\n        state: state,\n        viewport: _viewport\n      });\n    }\n    return update({\n      state: state,\n      viewport: _viewport\n    });\n  }\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\n    if (!isMovementAllowed(state)) {\n      return state;\n    }\n    var maxScroll = action.payload.maxScroll;\n    if (isEqual(maxScroll, state.viewport.scroll.max)) {\n      return state;\n    }\n    var withMaxScroll = _extends({}, state.viewport, {\n      scroll: _extends({}, state.viewport.scroll, {\n        max: maxScroll\n      })\n    });\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      viewport: withMaxScroll\n    });\n  }\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\n    var _result2 = moveInDirection({\n      state: state,\n      type: action.type\n    });\n    if (!_result2) {\n      return state;\n    }\n    return update({\n      state: state,\n      impact: _result2.impact,\n      clientSelection: _result2.clientSelection,\n      scrollJumpRequest: _result2.scrollJumpRequest\n    });\n  }\n  if (action.type === 'DROP_PENDING') {\n    var _extends3;\n    var reason = action.payload.reason;\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\n    var newState = _extends({\n      phase: 'DROP_PENDING'\n    }, state, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.isWaiting = true, _extends3.reason = reason, _extends3));\n    return newState;\n  }\n  if (action.type === 'DROP_ANIMATE') {\n    var _action$payload5 = action.payload,\n      completed = _action$payload5.completed,\n      dropDuration = _action$payload5.dropDuration,\n      newHomeClientOffset = _action$payload5.newHomeClientOffset;\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\n    var _result3 = {\n      phase: 'DROP_ANIMATING',\n      dimensions: state.dimensions,\n      completed: completed,\n      dropDuration: dropDuration,\n      newHomeClientOffset: newHomeClientOffset\n    };\n    return _result3;\n  }\n  if (action.type === 'DROP_COMPLETE') {\n    var _action$payload6 = action.payload,\n      _completed = _action$payload6.completed,\n      shouldFlush = _action$payload6.shouldFlush;\n    return {\n      phase: 'IDLE',\n      completed: _completed,\n      shouldFlush: shouldFlush\n    };\n  }\n  return state;\n};\nvar lift = function lift(args) {\n  return {\n    type: 'LIFT',\n    payload: args\n  };\n};\nvar initialPublish = function initialPublish(args) {\n  return {\n    type: 'INITIAL_PUBLISH',\n    payload: args\n  };\n};\nvar publishWhileDragging$1 = function publishWhileDragging(args) {\n  return {\n    type: 'PUBLISH_WHILE_DRAGGING',\n    payload: args\n  };\n};\nvar collectionStarting = function collectionStarting() {\n  return {\n    type: 'COLLECTION_STARTING',\n    payload: null\n  };\n};\nvar updateDroppableScroll = function updateDroppableScroll(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_SCROLL',\n    payload: args\n  };\n};\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\n    payload: args\n  };\n};\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\n    payload: args\n  };\n};\nvar move = function move(args) {\n  return {\n    type: 'MOVE',\n    payload: args\n  };\n};\nvar moveByWindowScroll = function moveByWindowScroll(args) {\n  return {\n    type: 'MOVE_BY_WINDOW_SCROLL',\n    payload: args\n  };\n};\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\n  return {\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\n    payload: args\n  };\n};\nvar moveUp = function moveUp() {\n  return {\n    type: 'MOVE_UP',\n    payload: null\n  };\n};\nvar moveDown = function moveDown() {\n  return {\n    type: 'MOVE_DOWN',\n    payload: null\n  };\n};\nvar moveRight = function moveRight() {\n  return {\n    type: 'MOVE_RIGHT',\n    payload: null\n  };\n};\nvar moveLeft = function moveLeft() {\n  return {\n    type: 'MOVE_LEFT',\n    payload: null\n  };\n};\nvar clean$1 = function clean(args) {\n  if (args === void 0) {\n    args = {\n      shouldFlush: false\n    };\n  }\n  return {\n    type: 'CLEAN',\n    payload: args\n  };\n};\nvar animateDrop = function animateDrop(args) {\n  return {\n    type: 'DROP_ANIMATE',\n    payload: args\n  };\n};\nvar completeDrop = function completeDrop(args) {\n  return {\n    type: 'DROP_COMPLETE',\n    payload: args\n  };\n};\nvar drop = function drop(args) {\n  return {\n    type: 'DROP',\n    payload: args\n  };\n};\nvar dropPending = function dropPending(args) {\n  return {\n    type: 'DROP_PENDING',\n    payload: args\n  };\n};\nvar dropAnimationFinished = function dropAnimationFinished() {\n  return {\n    type: 'DROP_ANIMATION_FINISHED',\n    payload: null\n  };\n};\nvar lift$1 = function (marshal) {\n  return function (_ref) {\n    var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type !== 'LIFT') {\n          next(action);\n          return;\n        }\n        var _action$payload = action.payload,\n          id = _action$payload.id,\n          clientSelection = _action$payload.clientSelection,\n          movementMode = _action$payload.movementMode;\n        var initial = getState();\n        if (initial.phase === 'DROP_ANIMATING') {\n          dispatch(completeDrop({\n            completed: initial.completed,\n            shouldFlush: true\n          }));\n        }\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Incorrect phase to start a drag') : invariant(false) : void 0;\n        var scrollOptions = {\n          shouldPublishImmediately: movementMode === 'SNAP'\n        };\n        var request = {\n          draggableId: id,\n          scrollOptions: scrollOptions\n        };\n        var _marshal$startPublish = marshal.startPublishing(request),\n          critical = _marshal$startPublish.critical,\n          dimensions = _marshal$startPublish.dimensions,\n          viewport = _marshal$startPublish.viewport;\n        dispatch(initialPublish({\n          critical: critical,\n          dimensions: dimensions,\n          clientSelection: clientSelection,\n          movementMode: movementMode,\n          viewport: viewport\n        }));\n      };\n    };\n  };\n};\nvar style = function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          marshal.dragging();\n        }\n        if (action.type === 'DROP_ANIMATE') {\n          marshal.dropping(action.payload.completed.result.reason);\n        }\n        if (action.type === 'CLEAN' || action.type === 'DROP_COMPLETE') {\n          marshal.resting();\n        }\n        next(action);\n      };\n    };\n  };\n};\nvar curves = {\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\n  drop: 'cubic-bezier(.2,1,.1,1)'\n};\nvar combine = {\n  opacity: {\n    drop: 0,\n    combining: 0.7\n  },\n  scale: {\n    drop: 0.75\n  }\n};\nvar timings = {\n  outOfTheWay: 0.2,\n  minDropTime: 0.33,\n  maxDropTime: 0.55\n};\nvar outOfTheWayTiming = timings.outOfTheWay + \"s \" + curves.outOfTheWay;\nvar transitions = {\n  fluid: \"opacity \" + outOfTheWayTiming,\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\n  drop: function drop(duration) {\n    var timing = duration + \"s \" + curves.drop;\n    return \"transform \" + timing + \", opacity \" + timing;\n  },\n  outOfTheWay: \"transform \" + outOfTheWayTiming,\n  placeholder: \"height \" + outOfTheWayTiming + \", width \" + outOfTheWayTiming + \", margin \" + outOfTheWayTiming\n};\nvar moveTo = function moveTo(offset) {\n  return isEqual(offset, origin) ? null : \"translate(\" + offset.x + \"px, \" + offset.y + \"px)\";\n};\nvar transforms = {\n  moveTo: moveTo,\n  drop: function drop(offset, isCombining) {\n    var translate = moveTo(offset);\n    if (!translate) {\n      return null;\n    }\n    if (!isCombining) {\n      return translate;\n    }\n    return translate + \" scale(\" + combine.scale.drop + \")\";\n  }\n};\nvar minDropTime = timings.minDropTime,\n  maxDropTime = timings.maxDropTime;\nvar dropTimeRange = maxDropTime - minDropTime;\nvar maxDropTimeAtDistance = 1500;\nvar cancelDropModifier = 0.6;\nvar getDropDuration = function (_ref) {\n  var current = _ref.current,\n    destination = _ref.destination,\n    reason = _ref.reason;\n  var distance$1 = distance(current, destination);\n  if (distance$1 <= 0) {\n    return minDropTime;\n  }\n  if (distance$1 >= maxDropTimeAtDistance) {\n    return maxDropTime;\n  }\n  var percentage = distance$1 / maxDropTimeAtDistance;\n  var duration = minDropTime + dropTimeRange * percentage;\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\n  return Number(withDuration.toFixed(2));\n};\nvar getNewHomeClientOffset = function (_ref) {\n  var impact = _ref.impact,\n    draggable = _ref.draggable,\n    dimensions = _ref.dimensions,\n    viewport = _ref.viewport,\n    onLift = _ref.onLift;\n  var draggables = dimensions.draggables,\n    droppables = dimensions.droppables;\n  var droppableId = whatIsDraggedOver(impact);\n  var destination = droppableId ? droppables[droppableId] : null;\n  var home = droppables[draggable.descriptor.droppableId];\n  var newClientCenter = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    onLift: onLift,\n    droppable: destination || home,\n    viewport: viewport\n  });\n  var offset = subtract(newClientCenter, draggable.client.borderBox.center);\n  var merge = impact.merge;\n  if (merge && didStartDisplaced(merge.combine.draggableId, onLift)) {\n    return subtract(offset, onLift.displacedBy.point);\n  }\n  return offset;\n};\nvar getDropImpact = function (_ref) {\n  var reason = _ref.reason,\n    lastImpact = _ref.lastImpact,\n    home = _ref.home,\n    viewport = _ref.viewport,\n    draggables = _ref.draggables,\n    onLiftImpact = _ref.onLiftImpact,\n    onLift = _ref.onLift;\n  var didDropInsideDroppable = reason === 'DROP' && Boolean(whatIsDraggedOver(lastImpact));\n  if (!didDropInsideDroppable) {\n    var impact = recompute({\n      impact: onLiftImpact,\n      destination: home,\n      viewport: viewport,\n      draggables: draggables,\n      onLift: onLift,\n      forceShouldAnimate: true\n    });\n    return {\n      impact: impact,\n      didDropInsideDroppable: didDropInsideDroppable\n    };\n  }\n  if (lastImpact.destination) {\n    return {\n      impact: lastImpact,\n      didDropInsideDroppable: didDropInsideDroppable\n    };\n  }\n  var withoutMovement = _extends({}, lastImpact, {\n    movement: noMovement\n  });\n  return {\n    impact: withoutMovement,\n    didDropInsideDroppable: didDropInsideDroppable\n  };\n};\nvar drop$1 = function (_ref) {\n  var getState = _ref.getState,\n    dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP') {\n        next(action);\n        return;\n      }\n      var state = getState();\n      var reason = action.payload.reason;\n      if (state.phase === 'COLLECTING') {\n        dispatch(dropPending({\n          reason: reason\n        }));\n        return;\n      }\n      if (state.phase === 'IDLE') {\n        return;\n      }\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\n      var critical = state.critical;\n      var dimensions = state.dimensions;\n      var _getDropImpact = getDropImpact({\n          reason: reason,\n          lastImpact: state.impact,\n          onLift: state.onLift,\n          onLiftImpact: state.onLiftImpact,\n          home: state.dimensions.droppables[state.critical.droppable.id],\n          viewport: state.viewport,\n          draggables: state.dimensions.draggables\n        }),\n        impact = _getDropImpact.impact,\n        didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;\n      var draggable = dimensions.draggables[state.critical.draggable.id];\n      var destination = didDropInsideDroppable ? impact.destination : null;\n      var combine = didDropInsideDroppable && impact.merge ? impact.merge.combine : null;\n      var source = {\n        index: critical.draggable.index,\n        droppableId: critical.droppable.id\n      };\n      var result = {\n        draggableId: draggable.descriptor.id,\n        type: draggable.descriptor.type,\n        source: source,\n        reason: reason,\n        mode: state.movementMode,\n        destination: destination,\n        combine: combine\n      };\n      var newHomeClientOffset = getNewHomeClientOffset({\n        impact: impact,\n        draggable: draggable,\n        dimensions: dimensions,\n        viewport: state.viewport,\n        onLift: state.onLift\n      });\n      var completed = {\n        critical: state.critical,\n        result: result,\n        impact: impact\n      };\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\n      if (!isAnimationRequired) {\n        dispatch(completeDrop({\n          completed: completed,\n          shouldFlush: false\n        }));\n        return;\n      }\n      var dropDuration = getDropDuration({\n        current: state.current.client.offset,\n        destination: newHomeClientOffset,\n        reason: reason\n      });\n      var args = {\n        newHomeClientOffset: newHomeClientOffset,\n        dropDuration: dropDuration,\n        completed: completed\n      };\n      dispatch(animateDrop(args));\n    };\n  };\n};\nvar position = function position(index) {\n  return index + 1;\n};\nvar onDragStart = function onDragStart(start) {\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \".\\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\\n\";\n};\nvar withLocation = function withLocation(source, destination) {\n  var isInHomeList = source.droppableId === destination.droppableId;\n  var startPosition = position(source.index);\n  var endPosition = position(destination.index);\n  if (isInHomeList) {\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\n  }\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\n};\nvar withCombine = function withCombine(id, source, combine) {\n  var inHomeList = source.droppableId === combine.droppableId;\n  if (inHomeList) {\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\n  }\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\n};\nvar onDragUpdate = function onDragUpdate(update) {\n  var location = update.destination;\n  if (location) {\n    return withLocation(update.source, location);\n  }\n  var combine = update.combine;\n  if (combine) {\n    return withCombine(update.draggableId, update.source, combine);\n  }\n  return 'You are over an area that cannot be dropped on';\n};\nvar returnedToStart = function returnedToStart(source) {\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\n};\nvar onDragEnd = function onDragEnd(result) {\n  if (result.reason === 'CANCEL') {\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\n  }\n  var location = result.destination;\n  var combine = result.combine;\n  if (location) {\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\n  }\n  if (combine) {\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\n  }\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\n};\nvar preset = {\n  onDragStart: onDragStart,\n  onDragUpdate: onDragUpdate,\n  onDragEnd: onDragEnd\n};\nvar getExpiringAnnounce = function (announce) {\n  var wasCalled = false;\n  var isExpired = false;\n  var timeoutId = setTimeout(function () {\n    isExpired = true;\n  });\n  var result = function result(message) {\n    if (wasCalled) {\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\n      return;\n    }\n    if (isExpired) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\n      return;\n    }\n    wasCalled = true;\n    announce(message);\n    clearTimeout(timeoutId);\n  };\n  result.wasCalled = function () {\n    return wasCalled;\n  };\n  return result;\n};\nvar getAsyncMarshal = function () {\n  var entries = [];\n  var execute = function execute(timerId) {\n    var index = findIndex(entries, function (item) {\n      return item.timerId === timerId;\n    });\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\n    var _entries$splice = entries.splice(index, 1),\n      entry = _entries$splice[0];\n    entry.callback();\n  };\n  var add = function add(fn) {\n    var timerId = setTimeout(function () {\n      return execute(timerId);\n    });\n    var entry = {\n      timerId: timerId,\n      callback: fn\n    };\n    entries.push(entry);\n  };\n  var flush = function flush() {\n    if (!entries.length) {\n      return;\n    }\n    var shallow = [].concat(entries);\n    entries.length = 0;\n    shallow.forEach(function (entry) {\n      clearTimeout(entry.timerId);\n      entry.callback();\n    });\n  };\n  return {\n    add: add,\n    flush: flush\n  };\n};\nvar areLocationsEqual = function areLocationsEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n  if (first == null || second == null) {\n    return false;\n  }\n  return first.droppableId === second.droppableId && first.index === second.index;\n};\nvar isCombineEqual = function isCombineEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n  if (first == null || second == null) {\n    return false;\n  }\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\n};\nvar isCriticalEqual = function isCriticalEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\n  return isDraggableEqual && isDroppableEqual;\n};\nvar withTimings = function withTimings(key, fn) {\n  start(key);\n  fn();\n  finish(key);\n};\nvar getDragStart = function getDragStart(critical, mode) {\n  return {\n    draggableId: critical.draggable.id,\n    type: critical.droppable.type,\n    source: {\n      droppableId: critical.droppable.id,\n      index: critical.draggable.index\n    },\n    mode: mode\n  };\n};\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\n  if (!responder) {\n    announce(getDefaultMessage(data));\n    return;\n  }\n  var willExpire = getExpiringAnnounce(announce);\n  var provided = {\n    announce: willExpire\n  };\n  responder(data, provided);\n  if (!willExpire.wasCalled()) {\n    announce(getDefaultMessage(data));\n  }\n};\nvar getPublisher = function (getResponders, announce) {\n  var asyncMarshal = getAsyncMarshal();\n  var dragging = null;\n  var beforeStart = function beforeStart(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeDragStart', function () {\n      var fn = getResponders().onBeforeDragStart;\n      if (fn) {\n        fn(getDragStart(critical, mode));\n      }\n    });\n  };\n  var start = function start(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    var data = getDragStart(critical, mode);\n    dragging = {\n      mode: mode,\n      lastCritical: critical,\n      lastLocation: data.source,\n      lastCombine: null\n    };\n    asyncMarshal.add(function () {\n      withTimings('onDragStart', function () {\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\n      });\n    });\n  };\n  var update = function update(critical, impact) {\n    var location = impact.destination;\n    var combine = impact.merge ? impact.merge.combine : null;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\n    if (hasCriticalChanged) {\n      dragging.lastCritical = critical;\n    }\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\n    if (hasLocationChanged) {\n      dragging.lastLocation = location;\n    }\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\n    if (hasGroupingChanged) {\n      dragging.lastCombine = combine;\n    }\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\n      return;\n    }\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\n      combine: combine,\n      destination: location\n    });\n    asyncMarshal.add(function () {\n      withTimings('onDragUpdate', function () {\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\n      });\n    });\n  };\n  var flush = function flush() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\n    asyncMarshal.flush();\n  };\n  var drop = function drop(result) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\n    dragging = null;\n    withTimings('onDragEnd', function () {\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\n    });\n  };\n  var abort = function abort() {\n    if (!dragging) {\n      return;\n    }\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\n      combine: null,\n      destination: null,\n      reason: 'CANCEL'\n    });\n    drop(result);\n  };\n  return {\n    beforeStart: beforeStart,\n    start: start,\n    update: update,\n    flush: flush,\n    drop: drop,\n    abort: abort\n  };\n};\nvar responders = function (getResponders, announce) {\n  var publisher = getPublisher(getResponders, announce);\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          var critical = action.payload.critical;\n          publisher.beforeStart(critical, action.payload.movementMode);\n          next(action);\n          publisher.start(critical, action.payload.movementMode);\n          return;\n        }\n        if (action.type === 'DROP_COMPLETE') {\n          var result = action.payload.completed.result;\n          publisher.flush();\n          next(action);\n          publisher.drop(result);\n          return;\n        }\n        next(action);\n        if (action.type === 'CLEAN') {\n          publisher.abort();\n          return;\n        }\n        var state = store.getState();\n        if (state.phase === 'DRAGGING') {\n          publisher.update(state.critical, state.impact);\n        }\n      };\n    };\n  };\n};\nvar dropAnimationFinish = function (store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\n        next(action);\n        return;\n      }\n      var state = store.getState();\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\n      store.dispatch(completeDrop({\n        completed: state.completed,\n        shouldFlush: false\n      }));\n    };\n  };\n};\nvar dimensionMarshalStopper = function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'DROP_COMPLETE' || action.type === 'CLEAN' || action.type === 'DROP_ANIMATE') {\n          marshal.stopPublishing();\n        }\n        next(action);\n      };\n    };\n  };\n};\nvar shouldEnd = function shouldEnd(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'CLEAN';\n};\nvar shouldCancelPending = function shouldCancelPending(action) {\n  return action.type === 'COLLECTION_STARTING';\n};\nvar autoScroll = function (autoScroller) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (shouldEnd(action)) {\n          autoScroller.stop();\n          next(action);\n          return;\n        }\n        if (shouldCancelPending(action)) {\n          autoScroller.cancelPending();\n          next(action);\n          return;\n        }\n        if (action.type === 'INITIAL_PUBLISH') {\n          next(action);\n          var state = store.getState();\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\n          autoScroller.start(state);\n          return;\n        }\n        next(action);\n        autoScroller.scroll(store.getState());\n      };\n    };\n  };\n};\nvar pendingDrop = function (store) {\n  return function (next) {\n    return function (action) {\n      next(action);\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\n        return;\n      }\n      var postActionState = store.getState();\n      if (postActionState.phase !== 'DROP_PENDING') {\n        return;\n      }\n      if (postActionState.isWaiting) {\n        return;\n      }\n      store.dispatch(drop({\n        reason: postActionState.reason\n      }));\n    };\n  };\n};\nvar composeEnhancers = process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\nvar createStore = function (_ref) {\n  var dimensionMarshal = _ref.dimensionMarshal,\n    styleMarshal = _ref.styleMarshal,\n    getResponders = _ref.getResponders,\n    announce = _ref.announce,\n    autoScroller = _ref.autoScroller;\n  return createStore$1(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(dimensionMarshal), lift$1(dimensionMarshal), drop$1, dropAnimationFinish, pendingDrop, autoScroll(autoScroller), responders(getResponders, announce))));\n};\nvar clean$2 = function clean() {\n  return {\n    additions: {},\n    removals: {},\n    modified: {}\n  };\n};\nvar timingKey = 'Publish collection from DOM';\nvar createPublisher = function (_ref) {\n  var getEntries = _ref.getEntries,\n    callbacks = _ref.callbacks;\n  var advancedUsageWarning = function () {\n    if (process.env.NODE_ENV === 'production') {\n      return function () {};\n    }\n    var hasAnnounced = false;\n    return function () {\n      if (hasAnnounced) {\n        return;\n      }\n      hasAnnounced = true;\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Advanced usage warning: you are adding or removing a dimension during a drag\\n        This an advanced feature.\\n\\n        More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/changes-while-dragging.md\\n      \") : void 0;\n    };\n  }();\n  var staging = clean$2();\n  var frameId = null;\n  var collect = function collect() {\n    advancedUsageWarning();\n    if (frameId) {\n      return;\n    }\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      callbacks.collectionStarting();\n      var critical = callbacks.getCritical();\n      start(timingKey);\n      var entries = getEntries();\n      var _staging = staging,\n        additions = _staging.additions,\n        removals = _staging.removals,\n        modified = _staging.modified;\n      var added = _Object$keys(additions).map(function (id) {\n        return entries.draggables[id].getDimension(origin);\n      }).sort(function (a, b) {\n        return a.descriptor.index - b.descriptor.index;\n      });\n      var updated = _Object$keys(modified).map(function (id) {\n        var entry = entries.droppables[id];\n        !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find dynamically added droppable in cache') : invariant(false) : void 0;\n        var isHome = entry.descriptor.id === critical.droppable.id;\n        var options = {\n          withoutPlaceholder: !isHome\n        };\n        return entry.callbacks.recollect(options);\n      });\n      var result = {\n        additions: added,\n        removals: _Object$keys(removals),\n        modified: updated\n      };\n      staging = clean$2();\n      finish(timingKey);\n      callbacks.publish(result);\n    });\n  };\n  var add = function add(descriptor) {\n    staging.additions[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n    if (staging.removals[descriptor.id]) {\n      delete staging.removals[descriptor.id];\n    }\n    collect();\n  };\n  var remove = function remove(descriptor) {\n    staging.removals[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n    if (staging.additions[descriptor.id]) {\n      delete staging.additions[descriptor.id];\n    }\n    collect();\n  };\n  var stop = function stop() {\n    if (!frameId) {\n      return;\n    }\n    cancelAnimationFrame(frameId);\n    frameId = null;\n    staging = clean$2();\n  };\n  return {\n    add: add,\n    remove: remove,\n    stop: stop\n  };\n};\nvar getWindowScroll = function () {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n};\nvar getDocumentElement = function () {\n  var doc = document.documentElement;\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\n  return doc;\n};\nvar getMaxWindowScroll = function () {\n  var doc = getDocumentElement();\n  var maxScroll = getMaxScroll({\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n};\nvar getViewport = function () {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n  var doc = getDocumentElement();\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n  var right = left + width;\n  var bottom = top + height;\n  var frame = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    frame: frame,\n    scroll: {\n      initial: scroll,\n      current: scroll,\n      max: maxScroll,\n      diff: {\n        value: origin,\n        displacement: origin\n      }\n    }\n  };\n  return viewport;\n};\nvar getInitialPublish = function (_ref) {\n  var critical = _ref.critical,\n    scrollOptions = _ref.scrollOptions,\n    entries = _ref.entries;\n  var timingKey = 'Initial collection from DOM';\n  start(timingKey);\n  var viewport = getViewport();\n  var windowScroll = viewport.scroll.current;\n  var home = critical.droppable;\n  var droppables = values(entries.droppables).filter(function (entry) {\n    return entry.descriptor.type === home.type;\n  }).map(function (entry) {\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\n  });\n  var draggables = values(entries.draggables).filter(function (entry) {\n    return entry.descriptor.type === critical.draggable.type;\n  }).map(function (entry) {\n    return entry.getDimension(windowScroll);\n  });\n  var dimensions = {\n    draggables: toDraggableMap(draggables),\n    droppables: toDroppableMap(droppables)\n  };\n  finish(timingKey);\n  var result = {\n    dimensions: dimensions,\n    critical: critical,\n    viewport: viewport\n  };\n  return result;\n};\nvar throwIfAddOrRemoveOfWrongType = function throwIfAddOrRemoveOfWrongType(collection, descriptor) {\n  !(collection.critical.draggable.type === descriptor.type) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"We have detected that you have added a Draggable during a drag.\\n      This is not of the same type as the dragging item\\n\\n      Dragging type: \" + collection.critical.draggable.type + \".\\n      Added type: \" + descriptor.type + \"\\n\\n      We are not allowing this as you can run into problems if your change\\n      has shifted the positioning of other Droppables, or has changed the size of the page\") : invariant(false) : void 0;\n};\nvar createDimensionMarshal = function (callbacks) {\n  var entries = {\n    droppables: {},\n    draggables: {}\n  };\n  var collection = null;\n  var publisher = createPublisher({\n    callbacks: {\n      publish: callbacks.publishWhileDragging,\n      collectionStarting: callbacks.collectionStarting,\n      getCritical: function getCritical() {\n        !collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get critical when there is no collection') : invariant(false) : void 0;\n        return collection.critical;\n      }\n    },\n    getEntries: function getEntries() {\n      return entries;\n    }\n  });\n  var registerDraggable = function registerDraggable(descriptor, getDimension) {\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n    if (!collection) {\n      return;\n    }\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.add(descriptor);\n  };\n  var updateDraggable = function updateDraggable(published, descriptor, getDimension) {\n    var existing = entries.draggables[published.id];\n    !existing ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update draggable registration as no published registration was found') : invariant(false) : void 0;\n    if (existing.descriptor === published) {\n      delete entries.draggables[published.id];\n    } else {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Detected incorrect usage of 'key' on '<Draggable draggableId=\\\"\" + published.id + \"\\\"$ />\\n\\n        Your 'key' should be:\\n        - Unique for each Draggable in a list\\n        - Not be based on the index of the Draggable\\n\\n        Usually you want your 'key' to just be the 'draggableId'\\n\\n        More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/draggable.md#keys-for-a-list-of-draggable-\\n      \") : void 0;\n    }\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n  };\n  var unregisterDraggable = function unregisterDraggable(descriptor) {\n    var entry = entries.draggables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Draggable with id:\\n      \" + descriptor.id + \" as it is not registered\") : invariant(false) : void 0;\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n    delete entries.draggables[descriptor.id];\n    if (!collection) {\n      return;\n    }\n    !(collection.critical.draggable.id !== descriptor.id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove the dragging item during a drag') : invariant(false) : void 0;\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.remove(descriptor);\n  };\n  var registerDroppable = function registerDroppable(descriptor, droppableCallbacks) {\n    var id = descriptor.id;\n    entries.droppables[id] = {\n      descriptor: descriptor,\n      callbacks: droppableCallbacks\n    };\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n  var unregisterDroppable = function unregisterDroppable(descriptor) {\n    var entry = entries.droppables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Droppable with id \" + descriptor.id + \" as as it is not registered\") : invariant(false) : void 0;\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n    delete entries.droppables[descriptor.id];\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    if (!collection) {\n      return;\n    }\n    callbacks.updateDroppableIsEnabled({\n      id: id,\n      isEnabled: isEnabled\n    });\n  };\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    if (!collection) {\n      return;\n    }\n    callbacks.updateDroppableIsCombineEnabled({\n      id: id,\n      isCombineEnabled: isCombineEnabled\n    });\n  };\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    if (!collection) {\n      return;\n    }\n    callbacks.updateDroppableScroll({\n      id: id,\n      offset: newScroll\n    });\n  };\n  var scrollDroppable = function scrollDroppable(id, change) {\n    var entry = entries.droppables[id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot scroll Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    if (!collection) {\n      return;\n    }\n    entry.callbacks.scroll(change);\n  };\n  var stopPublishing = function stopPublishing() {\n    if (!collection) {\n      return;\n    }\n    publisher.stop();\n    var home = collection.critical.droppable;\n    values(entries.droppables).filter(function (entry) {\n      return entry.descriptor.type === home.type;\n    }).forEach(function (entry) {\n      return entry.callbacks.dragStopped();\n    });\n    collection = null;\n  };\n  var startPublishing = function startPublishing(request) {\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\n    var entry = entries.draggables[request.draggableId];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical draggable entry') : invariant(false) : void 0;\n    var home = entries.droppables[entry.descriptor.droppableId];\n    !home ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical droppable entry') : invariant(false) : void 0;\n    var critical = {\n      draggable: entry.descriptor,\n      droppable: home.descriptor\n    };\n    collection = {\n      critical: critical\n    };\n    return getInitialPublish({\n      critical: critical,\n      entries: entries,\n      scrollOptions: request.scrollOptions\n    });\n  };\n  var marshal = {\n    registerDraggable: registerDraggable,\n    updateDraggable: updateDraggable,\n    unregisterDraggable: unregisterDraggable,\n    registerDroppable: registerDroppable,\n    unregisterDroppable: unregisterDroppable,\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n    scrollDroppable: scrollDroppable,\n    updateDroppableScroll: updateDroppableScroll,\n    startPublishing: startPublishing,\n    stopPublishing: stopPublishing\n  };\n  return marshal;\n};\nvar canStartDrag = function (state, id) {\n  if (state.phase === 'IDLE') {\n    return true;\n  }\n  if (state.phase !== 'DROP_ANIMATING') {\n    return false;\n  }\n  if (state.completed.result.draggableId === id) {\n    return false;\n  }\n  return state.completed.result.reason === 'DROP';\n};\nvar scrollWindow = function (change) {\n  window.scrollBy(change.x, change.y);\n};\nvar getScrollableDroppables = memoizeOne(function (droppables) {\n  return toDroppableList(droppables).filter(function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n    if (!droppable.frame) {\n      return false;\n    }\n    return true;\n  });\n});\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\n  });\n  return maybe;\n};\nvar getBestScrollableDroppable = function (_ref) {\n  var center = _ref.center,\n    destination = _ref.destination,\n    droppables = _ref.droppables;\n  if (destination) {\n    var _dimension = droppables[destination];\n    if (!_dimension.frame) {\n      return null;\n    }\n    return _dimension;\n  }\n  var dimension = getScrollableDroppableOver(center, droppables);\n  return dimension;\n};\nvar config = {\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  maxPixelScroll: 28,\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    stopDampeningAt: 1200,\n    accelerateAt: 360\n  }\n};\nvar getDistanceThresholds = function (container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n};\nvar getPercentage = function (_ref) {\n  var startOfRange = _ref.startOfRange,\n    endOfRange = _ref.endOfRange,\n    current = _ref.current;\n  var range = endOfRange - startOfRange;\n  if (range === 0) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\n    return 0;\n  }\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n};\nvar minScroll = 1;\nvar getValueFromDistance = function (distanceToEdge, thresholds) {\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n  return Math.ceil(scroll);\n};\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\nvar dampenValueByTime = function (proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n  var now = _Date$now();\n  var runTime = now - startOfRange;\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n};\nvar getValue = function (_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n    thresholds = _ref.thresholds,\n    dragStartTime = _ref.dragStartTime,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n  if (scroll === 0) {\n    return 0;\n  }\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n};\nvar getScrollOnAxis = function (_ref) {\n  var container = _ref.container,\n    distanceToEdges = _ref.distanceToEdges,\n    dragStartTime = _ref.dragStartTime,\n    axis = _ref.axis,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n};\nvar adjustForSizeLimits = function (_ref) {\n  var container = _ref.container,\n    subject = _ref.subject,\n    proposedScroll = _ref.proposedScroll;\n  var isTooBigVertically = subject.height > container.height;\n  var isTooBigHorizontally = subject.width > container.width;\n  if (!isTooBigHorizontally && !isTooBigVertically) {\n    return proposedScroll;\n  }\n  if (isTooBigHorizontally && isTooBigVertically) {\n    return null;\n  }\n  return {\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\n    y: isTooBigVertically ? 0 : proposedScroll.y\n  };\n};\nvar clean$3 = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\nvar getScroll = function (_ref) {\n  var dragStartTime = _ref.dragStartTime,\n    container = _ref.container,\n    subject = _ref.subject,\n    center = _ref.center,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean$3({\n    x: x,\n    y: y\n  });\n  if (isEqual(required, origin)) {\n    return null;\n  }\n  var limited = adjustForSizeLimits({\n    container: container,\n    subject: subject,\n    proposedScroll: required\n  });\n  if (!limited) {\n    return null;\n  }\n  return isEqual(limited, origin) ? null : limited;\n};\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n  return value > 0 ? 1 : -1;\n});\nvar getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n    if (target > max) {\n      return target - max;\n    }\n    return 0;\n  };\n  return function (_ref) {\n    var current = _ref.current,\n      max = _ref.max,\n      change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n    return overlap;\n  };\n}();\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n    current = _ref2.current,\n    change = _ref2.change;\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n  if (!overlap) {\n    return true;\n  }\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n  return false;\n};\nvar canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\n  var frame = droppable.frame;\n  if (!frame) {\n    return false;\n  }\n  return canPartiallyScroll({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\n  var frame = droppable.frame;\n  if (!frame) {\n    return null;\n  }\n  if (!canScrollDroppable(droppable, change)) {\n    return null;\n  }\n  return getOverlap({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\nvar getWindowScrollChange = function (_ref) {\n  var viewport = _ref.viewport,\n    subject = _ref.subject,\n    center = _ref.center,\n    dragStartTime = _ref.dragStartTime,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.frame,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n};\nvar getDroppableScrollChange = function (_ref) {\n  var droppable = _ref.droppable,\n    subject = _ref.subject,\n    center = _ref.center,\n    dragStartTime = _ref.dragStartTime,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var frame = droppable.frame;\n  if (!frame) {\n    return null;\n  }\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: frame.pageMarginBox,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\n};\nvar scroll$1 = function (_ref) {\n  var state = _ref.state,\n    dragStartTime = _ref.dragStartTime,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n    scrollWindow = _ref.scrollWindow,\n    scrollDroppable = _ref.scrollDroppable;\n  var center = state.current.page.borderBoxCenter;\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var subject = draggable.page.marginBox;\n  if (state.isWindowScrollAllowed) {\n    var viewport = state.viewport;\n    var _change = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      subject: subject,\n      center: center,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n    if (_change) {\n      scrollWindow(_change);\n      return;\n    }\n  }\n  var droppable = getBestScrollableDroppable({\n    center: center,\n    destination: whatIsDraggedOver(state.impact),\n    droppables: state.dimensions.droppables\n  });\n  if (!droppable) {\n    return;\n  }\n  var change = getDroppableScrollChange({\n    dragStartTime: dragStartTime,\n    droppable: droppable,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  if (change) {\n    scrollDroppable(droppable.descriptor.id, change);\n  }\n};\nvar createFluidScroller = function (_ref) {\n  var scrollWindow = _ref.scrollWindow,\n    scrollDroppable = _ref.scrollDroppable;\n  var scheduleWindowScroll = rafSchd(scrollWindow);\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\n  var dragging = null;\n  var tryScroll = function tryScroll(state) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\n    var _dragging = dragging,\n      shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\n      dragStartTime = _dragging.dragStartTime;\n    scroll$1({\n      state: state,\n      scrollWindow: scheduleWindowScroll,\n      scrollDroppable: scheduleDroppableScroll,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  };\n  var cancelPending = function cancelPending() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot cancel pending fluid scroll when not started') : invariant(false) : void 0;\n    scheduleWindowScroll.cancel();\n    scheduleDroppableScroll.cancel();\n  };\n  var start$1 = function start$1(state) {\n    start('starting fluid scroller');\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\n    var dragStartTime = _Date$now();\n    var wasScrollNeeded = false;\n    var fakeScrollCallback = function fakeScrollCallback() {\n      wasScrollNeeded = true;\n    };\n    scroll$1({\n      state: state,\n      dragStartTime: 0,\n      shouldUseTimeDampening: false,\n      scrollWindow: fakeScrollCallback,\n      scrollDroppable: fakeScrollCallback\n    });\n    dragging = {\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: wasScrollNeeded\n    };\n    finish('starting fluid scroller');\n    if (wasScrollNeeded) {\n      tryScroll(state);\n    }\n  };\n  var stop = function stop() {\n    if (!dragging) {\n      return;\n    }\n    cancelPending();\n    dragging = null;\n  };\n  return {\n    start: start$1,\n    stop: stop,\n    cancelPending: cancelPending,\n    scroll: tryScroll\n  };\n};\nvar createJumpScroller = function (_ref) {\n  var move = _ref.move,\n    scrollDroppable = _ref.scrollDroppable,\n    scrollWindow = _ref.scrollWindow;\n  var moveByOffset = function moveByOffset(state, offset) {\n    var client = add(state.current.client.selection, offset);\n    move({\n      client: client\n    });\n  };\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\n    if (!canScrollDroppable(droppable, change)) {\n      return change;\n    }\n    var overlap = getDroppableOverlap(droppable, change);\n    if (!overlap) {\n      scrollDroppable(droppable.descriptor.id, change);\n      return null;\n    }\n    var whatTheDroppableCanScroll = subtract(change, overlap);\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\n    var remainder = subtract(change, whatTheDroppableCanScroll);\n    return remainder;\n  };\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\n    if (!isWindowScrollAllowed) {\n      return change;\n    }\n    if (!canScrollWindow(viewport, change)) {\n      return change;\n    }\n    var overlap = getWindowOverlap(viewport, change);\n    if (!overlap) {\n      scrollWindow(change);\n      return null;\n    }\n    var whatTheWindowCanScroll = subtract(change, overlap);\n    scrollWindow(whatTheWindowCanScroll);\n    var remainder = subtract(change, whatTheWindowCanScroll);\n    return remainder;\n  };\n  var jumpScroller = function jumpScroller(state) {\n    var request = state.scrollJumpRequest;\n    if (!request) {\n      return;\n    }\n    var destination = whatIsDraggedOver(state.impact);\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\n    if (!droppableRemainder) {\n      return;\n    }\n    var viewport = state.viewport;\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\n    if (!windowRemainder) {\n      return;\n    }\n    moveByOffset(state, windowRemainder);\n  };\n  return jumpScroller;\n};\nvar createAutoScroller = function (_ref) {\n  var scrollDroppable = _ref.scrollDroppable,\n    scrollWindow = _ref.scrollWindow,\n    move = _ref.move;\n  var fluidScroller = createFluidScroller({\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var jumpScroll = createJumpScroller({\n    move: move,\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var scroll = function scroll(state) {\n    if (state.phase !== 'DRAGGING') {\n      return;\n    }\n    if (state.movementMode === 'FLUID') {\n      fluidScroller.scroll(state);\n      return;\n    }\n    if (!state.scrollJumpRequest) {\n      return;\n    }\n    jumpScroll(state);\n  };\n  var scroller = {\n    scroll: scroll,\n    cancelPending: fluidScroller.cancelPending,\n    start: fluidScroller.start,\n    stop: fluidScroller.stop\n  };\n  return scroller;\n};\nvar prefix = 'data-react-beautiful-dnd';\nvar dragHandle = prefix + \"-drag-handle\";\nvar draggable = prefix + \"-draggable\";\nvar droppable = prefix + \"-droppable\";\nvar makeGetSelector = function makeGetSelector(context) {\n  return function (attribute) {\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\n  };\n};\nvar getStyles = function getStyles(rules, property) {\n  return rules.map(function (rule) {\n    var value = rule.styles[property];\n    if (!value) {\n      return '';\n    }\n    return rule.selector + \" { \" + value + \" }\";\n  }).join(' ');\n};\nvar noPointerEvents = 'pointer-events: none;';\nvar getStyles$1 = function (uniqueContext) {\n  var getSelector = makeGetSelector(uniqueContext);\n  var dragHandle$1 = function () {\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\n    return {\n      selector: getSelector(dragHandle),\n      styles: {\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\n        resting: grabCursor,\n        dragging: noPointerEvents,\n        dropAnimating: grabCursor\n      }\n    };\n  }();\n  var draggable$1 = function () {\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\n    return {\n      selector: getSelector(draggable),\n      styles: {\n        dragging: transition,\n        dropAnimating: transition,\n        userCancel: transition\n      }\n    };\n  }();\n  var droppable$1 = {\n    selector: getSelector(droppable),\n    styles: {\n      always: \"overflow-anchor: none;\"\n    }\n  };\n  var body = {\n    selector: 'body',\n    styles: {\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\n    }\n  };\n  var rules = [draggable$1, dragHandle$1, droppable$1, body];\n  return {\n    always: getStyles(rules, 'always'),\n    resting: getStyles(rules, 'resting'),\n    dragging: getStyles(rules, 'dragging'),\n    dropAnimating: getStyles(rules, 'dropAnimating'),\n    userCancel: getStyles(rules, 'userCancel')\n  };\n};\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\nvar getHead = function getHead() {\n  var head = document.querySelector('head');\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\n  return head;\n};\nvar createStyleEl = function createStyleEl() {\n  var el = document.createElement('style');\n  el.type = 'text/css';\n  return el;\n};\nfunction useStyleMarshal(uniqueId) {\n  var uniqueContext = useMemo(function () {\n    return \"\" + uniqueId;\n  }, [uniqueId]);\n  var styles = useMemo(function () {\n    return getStyles$1(uniqueContext);\n  }, [uniqueContext]);\n  var alwaysRef = useRef(null);\n  var dynamicRef = useRef(null);\n  var setDynamicStyle = useCallback(memoizeOne(function (proposed) {\n    var el = dynamicRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }), []);\n  var setAlwaysStyle = useCallback(function (proposed) {\n    var el = alwaysRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    !(!alwaysRef.current && !dynamicRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'style elements already mounted') : invariant(false) : void 0;\n    var always = createStyleEl();\n    var dynamic = createStyleEl();\n    alwaysRef.current = always;\n    dynamicRef.current = dynamic;\n    always.setAttribute(prefix + \"-always\", uniqueContext);\n    dynamic.setAttribute(prefix + \"-dynamic\", uniqueContext);\n    getHead().appendChild(always);\n    getHead().appendChild(dynamic);\n    setAlwaysStyle(styles.always);\n    setDynamicStyle(styles.resting);\n    return function () {\n      var remove = function remove(ref) {\n        var current = ref.current;\n        !current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount ref as it is not set') : invariant(false) : void 0;\n        getHead().removeChild(current);\n        ref.current = null;\n      };\n      remove(alwaysRef);\n      remove(dynamicRef);\n    };\n  }, [setAlwaysStyle, setDynamicStyle, styles.always, styles.resting, uniqueContext]);\n  var dragging = useCallback(function () {\n    return setDynamicStyle(styles.dragging);\n  }, [setDynamicStyle, styles.dragging]);\n  var dropping = useCallback(function (reason) {\n    if (reason === 'DROP') {\n      setDynamicStyle(styles.dropAnimating);\n      return;\n    }\n    setDynamicStyle(styles.userCancel);\n  }, [setDynamicStyle, styles.dropAnimating, styles.userCancel]);\n  var resting = useCallback(function () {\n    if (!dynamicRef.current) {\n      return;\n    }\n    setDynamicStyle(styles.resting);\n  }, [setDynamicStyle, styles.resting]);\n  var marshal = useMemo(function () {\n    return {\n      dragging: dragging,\n      dropping: dropping,\n      resting: resting,\n      styleContext: uniqueContext\n    };\n  }, [dragging, dropping, resting, uniqueContext]);\n  return marshal;\n}\nvar StoreContext = React.createContext(null);\nvar getBodyElement = function () {\n  var body = document.body;\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\n  return body;\n};\nvar visuallyHidden = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  margin: '-1px',\n  border: '0',\n  padding: '0',\n  overflow: 'hidden',\n  clip: 'rect(0 0 0 0)',\n  'clip-path': 'inset(100%)'\n};\nvar getId = function getId(uniqueId) {\n  return \"react-beautiful-dnd-announcement-\" + uniqueId;\n};\nfunction useAnnouncer(uniqueId) {\n  var id = useMemo(function () {\n    return getId(uniqueId);\n  }, [uniqueId]);\n  var ref = useRef(null);\n  useEffect(function () {\n    !!ref.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Announcement node already mounted') : invariant(false) : void 0;\n    var el = document.createElement('div');\n    ref.current = el;\n    el.id = id;\n    el.setAttribute('aria-live', 'assertive');\n    el.setAttribute('role', 'log');\n    el.setAttribute('aria-atomic', 'true');\n    _Object$assign(el.style, visuallyHidden);\n    getBodyElement().appendChild(el);\n    return function () {\n      var toBeRemoved = ref.current;\n      !toBeRemoved ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount announcement node') : invariant(false) : void 0;\n      getBodyElement().removeChild(toBeRemoved);\n      ref.current = null;\n    };\n  }, [id]);\n  var announce = useCallback(function (message) {\n    var el = ref.current;\n    if (el) {\n      el.textContent = message;\n      return;\n    }\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\n  }, []);\n  return announce;\n}\nvar AppContext = React.createContext(null);\nvar peerDependencies = {\n  react: \"^16.8.5\"\n};\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\nvar getVersion = function getVersion(value) {\n  var result = semver.exec(value);\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\n  var major = Number(result[1]);\n  var minor = Number(result[2]);\n  var patch = Number(result[3]);\n  return {\n    major: major,\n    minor: minor,\n    patch: patch,\n    raw: value\n  };\n};\nvar isSatisfied = function isSatisfied(expected, actual) {\n  if (actual.major > expected.major) {\n    return true;\n  }\n  if (actual.major < expected.major) {\n    return false;\n  }\n  if (actual.minor > expected.minor) {\n    return true;\n  }\n  if (actual.minor < expected.minor) {\n    return false;\n  }\n  return actual.patch >= expected.patch;\n};\nvar checkReactVersion = function (peerDepValue, actualValue) {\n  var peerDep = getVersion(peerDepValue);\n  var actual = getVersion(actualValue);\n  if (isSatisfied(peerDep, actual)) {\n    return;\n  }\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\n};\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\\n\";\nvar checkDoctype = function (doc) {\n  var doctype = doc.doctype;\n  if (!doctype) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\n    return;\n  }\n  if (doctype.name.toLowerCase() !== 'html') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n  if (doctype.publicId !== '') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n};\nfunction useStartupValidation() {\n  useEffect(function () {\n    if (process.env.NODE_ENV === 'production') {\n      return;\n    }\n    checkReactVersion(peerDependencies.react, React.version);\n    checkDoctype(document);\n  }, []);\n}\nfunction usePrevious(current) {\n  var ref = useRef(current);\n  useEffect(function () {\n    ref.current = current;\n  });\n  return ref;\n}\nvar createResponders = function createResponders(props) {\n  return {\n    onBeforeDragStart: props.onBeforeDragStart,\n    onDragStart: props.onDragStart,\n    onDragEnd: props.onDragEnd,\n    onDragUpdate: props.onDragUpdate\n  };\n};\nfunction getStore(lazyRef) {\n  !lazyRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find store from lazy ref') : invariant(false) : void 0;\n  return lazyRef.current;\n}\nfunction App(props) {\n  var uniqueId = props.uniqueId,\n    setOnError = props.setOnError;\n  var lazyStoreRef = useRef(null);\n  useStartupValidation();\n  var lastPropsRef = usePrevious(props);\n  var getResponders = useCallback(function () {\n    return createResponders(lastPropsRef.current);\n  }, [lastPropsRef]);\n  var announce = useAnnouncer(uniqueId);\n  var styleMarshal = useStyleMarshal(uniqueId);\n  var lazyDispatch = useCallback(function (action) {\n    getStore(lazyStoreRef).dispatch(action);\n  }, []);\n  var callbacks = useMemo(function () {\n    return bindActionCreators({\n      publishWhileDragging: publishWhileDragging$1,\n      updateDroppableScroll: updateDroppableScroll,\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n      collectionStarting: collectionStarting\n    }, lazyDispatch);\n  }, [lazyDispatch]);\n  var dimensionMarshal = useMemo(function () {\n    return createDimensionMarshal(callbacks);\n  }, [callbacks]);\n  var autoScroller = useMemo(function () {\n    return createAutoScroller(_extends({\n      scrollWindow: scrollWindow,\n      scrollDroppable: dimensionMarshal.scrollDroppable\n    }, bindActionCreators({\n      move: move\n    }, lazyDispatch)));\n  }, [dimensionMarshal.scrollDroppable, lazyDispatch]);\n  var store = useMemo(function () {\n    return createStore({\n      dimensionMarshal: dimensionMarshal,\n      styleMarshal: styleMarshal,\n      announce: announce,\n      autoScroller: autoScroller,\n      getResponders: getResponders\n    });\n  }, [announce, autoScroller, dimensionMarshal, getResponders, styleMarshal]);\n  if (process.env.NODE_ENV !== 'production') {\n    if (lazyStoreRef.current && lazyStoreRef.current !== store) {\n      process.env.NODE_ENV !== \"production\" ? warning('unexpected store change') : void 0;\n    }\n  }\n  lazyStoreRef.current = store;\n  var tryResetStore = useCallback(function () {\n    var current = getStore(lazyStoreRef);\n    var state = current.getState();\n    if (state.phase !== 'IDLE') {\n      current.dispatch(clean$1({\n        shouldFlush: true\n      }));\n    }\n  }, []);\n  setOnError(tryResetStore);\n  var getCanLift = useCallback(function (id) {\n    return canStartDrag(getStore(lazyStoreRef).getState(), id);\n  }, []);\n  var getIsMovementAllowed = useCallback(function () {\n    return isMovementAllowed(getStore(lazyStoreRef).getState());\n  }, []);\n  var appContext = useMemo(function () {\n    return {\n      marshal: dimensionMarshal,\n      style: styleMarshal.styleContext,\n      canLift: getCanLift,\n      isMovementAllowed: getIsMovementAllowed\n    };\n  }, [dimensionMarshal, getCanLift, getIsMovementAllowed, styleMarshal.styleContext]);\n  useEffect(function () {\n    return tryResetStore;\n  }, [tryResetStore]);\n  return React.createElement(AppContext.Provider, {\n    value: appContext\n  }, React.createElement(Provider, {\n    context: StoreContext,\n    store: store\n  }, props.children));\n}\nvar instanceCount = 0;\nfunction resetServerContext() {\n  instanceCount = 0;\n}\nfunction DragDropContext(props) {\n  var uniqueId = useMemo(function () {\n    return instanceCount++;\n  }, []);\n  return React.createElement(ErrorBoundary, null, function (setOnError) {\n    return React.createElement(App, _extends({\n      setOnError: setOnError,\n      uniqueId: uniqueId\n    }, props), props.children);\n  });\n}\nvar isEqual$2 = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\nvar isScroll = isEqual$2('scroll');\nvar isAuto = isEqual$2('auto');\nvar isVisible$1 = isEqual$2('visible');\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\nvar isBoth = function isBoth(overflow, fn) {\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\n};\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\nvar isBodyScrollable = function isBodyScrollable() {\n  if (process.env.NODE_ENV === 'production') {\n    return false;\n  }\n  var body = getBodyElement();\n  var html = document.documentElement;\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  if (!isElementScrollable(body)) {\n    return false;\n  }\n  var htmlStyle = window.getComputedStyle(html);\n  var htmlOverflow = {\n    overflowX: htmlStyle.overflowX,\n    overflowY: htmlStyle.overflowY\n  };\n  if (isBoth(htmlOverflow, isVisible$1)) {\n    return false;\n  }\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\n  return false;\n};\nvar getClosestScrollable = function getClosestScrollable(el) {\n  if (el == null) {\n    return null;\n  }\n  if (el === document.body) {\n    return isBodyScrollable() ? el : null;\n  }\n  if (el === document.documentElement) {\n    return null;\n  }\n  if (!isElementScrollable(el)) {\n    return getClosestScrollable(el.parentElement);\n  }\n  return el;\n};\nvar checkForNestedScrollContainers = function (scrollable) {\n  if (!scrollable) {\n    return;\n  }\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\n  if (!anotherScrollParent) {\n    return;\n  }\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\n};\nvar getScroll$1 = function (el) {\n  return {\n    x: el.scrollLeft,\n    y: el.scrollTop\n  };\n};\nvar getIsFixed = function getIsFixed(el) {\n  if (!el) {\n    return false;\n  }\n  var style = window.getComputedStyle(el);\n  if (style.position === 'fixed') {\n    return true;\n  }\n  return getIsFixed(el.parentElement);\n};\nvar getEnv = function (start) {\n  var closestScrollable = getClosestScrollable(start);\n  var isFixedOnPage = getIsFixed(start);\n  return {\n    closestScrollable: closestScrollable,\n    isFixedOnPage: isFixedOnPage\n  };\n};\nvar getClient = function getClient(targetRef, closestScrollable) {\n  var base = getBox(targetRef);\n  if (!closestScrollable) {\n    return base;\n  }\n  if (targetRef !== closestScrollable) {\n    return base;\n  }\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\n  var bottom = top + closestScrollable.scrollHeight;\n  var right = left + closestScrollable.scrollWidth;\n  var paddingBox = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  var borderBox = expand(paddingBox, base.border);\n  var client = createBox({\n    borderBox: borderBox,\n    margin: base.margin,\n    border: base.border,\n    padding: base.padding\n  });\n  return client;\n};\nvar getDimension = function (_ref) {\n  var ref = _ref.ref,\n    descriptor = _ref.descriptor,\n    env = _ref.env,\n    windowScroll = _ref.windowScroll,\n    direction = _ref.direction,\n    isDropDisabled = _ref.isDropDisabled,\n    isCombineEnabled = _ref.isCombineEnabled,\n    shouldClipSubject = _ref.shouldClipSubject;\n  var closestScrollable = env.closestScrollable;\n  var client = getClient(ref, closestScrollable);\n  var page = withScroll(client, windowScroll);\n  var closest = function () {\n    if (!closestScrollable) {\n      return null;\n    }\n    var frameClient = getBox(closestScrollable);\n    var scrollSize = {\n      scrollHeight: closestScrollable.scrollHeight,\n      scrollWidth: closestScrollable.scrollWidth\n    };\n    return {\n      client: frameClient,\n      page: withScroll(frameClient, windowScroll),\n      scroll: getScroll$1(closestScrollable),\n      scrollSize: scrollSize,\n      shouldClipSubject: shouldClipSubject\n    };\n  }();\n  var dimension = getDroppableDimension({\n    descriptor: descriptor,\n    isEnabled: !isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: env.isFixedOnPage,\n    direction: direction,\n    client: client,\n    page: page,\n    closest: closest\n  });\n  return dimension;\n};\nfunction withoutPlaceholder(placeholder, fn) {\n  if (!placeholder) {\n    return fn();\n  }\n  var last = placeholder.style.display;\n  placeholder.style.display = 'none';\n  var result = fn();\n  placeholder.style.display = last;\n  return result;\n}\nvar immediate = {\n  passive: false\n};\nvar delayed = {\n  passive: true\n};\nvar getListenerOptions = function (options) {\n  return options.shouldPublishImmediately ? immediate : delayed;\n};\nfunction useRequiredContext(Context) {\n  var result = useContext(Context);\n  !result ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find required context') : invariant(false) : void 0;\n  return result;\n}\nvar getClosestScrollableFromDrag = function getClosestScrollableFromDrag(dragging) {\n  return dragging && dragging.env.closestScrollable || null;\n};\nfunction useDroppableDimensionPublisher(args) {\n  var whileDraggingRef = useRef(null);\n  var appContext = useRequiredContext(AppContext);\n  var marshal = appContext.marshal;\n  var previousRef = usePrevious(args);\n  var descriptor = useMemo(function () {\n    return {\n      id: args.droppableId,\n      type: args.type\n    };\n  }, [args.droppableId, args.type]);\n  var publishedDescriptorRef = useRef(descriptor);\n  var memoizedUpdateScroll = useMemo(function () {\n    return memoizeOne(function (x, y) {\n      !whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only update scroll when dragging') : invariant(false) : void 0;\n      var scroll = {\n        x: x,\n        y: y\n      };\n      marshal.updateDroppableScroll(descriptor.id, scroll);\n    });\n  }, [descriptor.id, marshal]);\n  var getClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    if (!dragging || !dragging.env.closestScrollable) {\n      return origin;\n    }\n    return getScroll$1(dragging.env.closestScrollable);\n  }, []);\n  var updateScroll = useCallback(function () {\n    var scroll = getClosestScroll();\n    memoizedUpdateScroll(scroll.x, scroll.y);\n  }, [getClosestScroll, memoizedUpdateScroll]);\n  var scheduleScrollUpdate = useMemo(function () {\n    return rafSchd(updateScroll);\n  }, [updateScroll]);\n  var onClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\n    var options = dragging.scrollOptions;\n    if (options.shouldPublishImmediately) {\n      updateScroll();\n      return;\n    }\n    scheduleScrollUpdate();\n  }, [scheduleScrollUpdate, updateScroll]);\n  var getDimensionAndWatchScroll = useCallback(function (windowScroll, options) {\n    !!whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\n    var previous = previousRef.current;\n    var ref = previous.getDroppableRef();\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\n    var env = getEnv(ref);\n    var dragging = {\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      scrollOptions: options\n    };\n    whileDraggingRef.current = dragging;\n    var dimension = getDimension({\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      windowScroll: windowScroll,\n      direction: previous.direction,\n      isDropDisabled: previous.isDropDisabled,\n      isCombineEnabled: previous.isCombineEnabled,\n      shouldClipSubject: !previous.ignoreContainerClipping\n    });\n    if (env.closestScrollable) {\n      env.closestScrollable.addEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n      if (process.env.NODE_ENV !== 'production') {\n        checkForNestedScrollContainers(env.closestScrollable);\n      }\n    }\n    return dimension;\n  }, [descriptor, onClosestScroll, previousRef]);\n  var recollect = useCallback(function (options) {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\n    var previous = previousRef.current;\n    var execute = function execute() {\n      return getDimension({\n        ref: dragging.ref,\n        descriptor: dragging.descriptor,\n        env: dragging.env,\n        windowScroll: origin,\n        direction: previous.direction,\n        isDropDisabled: previous.isDropDisabled,\n        isCombineEnabled: previous.isCombineEnabled,\n        shouldClipSubject: !previous.ignoreContainerClipping\n      });\n    };\n    if (!options.withoutPlaceholder) {\n      return execute();\n    }\n    return withoutPlaceholder(previous.getPlaceholderRef(), execute);\n  }, [previousRef]);\n  var dragStopped = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    whileDraggingRef.current = null;\n    if (!closest) {\n      return;\n    }\n    scheduleScrollUpdate.cancel();\n    closest.removeEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n  }, [onClosestScroll, scheduleScrollUpdate]);\n  var scroll = useCallback(function (change) {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll when there is no drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !closest ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\n    closest.scrollTop += change.y;\n    closest.scrollLeft += change.x;\n  }, []);\n  var callbacks = useMemo(function () {\n    return {\n      getDimensionAndWatchScroll: getDimensionAndWatchScroll,\n      recollect: recollect,\n      dragStopped: dragStopped,\n      scroll: scroll\n    };\n  }, [dragStopped, getDimensionAndWatchScroll, recollect, scroll]);\n  useIsomorphicLayoutEffect(function () {\n    publishedDescriptorRef.current = descriptor;\n    marshal.registerDroppable(descriptor, callbacks);\n    return function () {\n      if (whileDraggingRef.current) {\n        process.env.NODE_ENV !== \"production\" ? warning('Unsupported: changing the droppableId or type of a Droppable during a drag') : void 0;\n        dragStopped();\n      }\n      marshal.unregisterDroppable(descriptor);\n    };\n  }, [callbacks, descriptor, dragStopped, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n    marshal.updateDroppableIsEnabled(publishedDescriptorRef.current.id, !args.isDropDisabled);\n  }, [args.isDropDisabled, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n    marshal.updateDroppableIsCombineEnabled(publishedDescriptorRef.current.id, args.isCombineEnabled);\n  }, [args.isCombineEnabled, marshal]);\n}\nfunction noop() {}\nvar empty = {\n  width: 0,\n  height: 0,\n  margin: noSpacing\n};\nvar getSize = function getSize(_ref) {\n  var isAnimatingOpenOnMount = _ref.isAnimatingOpenOnMount,\n    placeholder = _ref.placeholder,\n    animate = _ref.animate;\n  if (isAnimatingOpenOnMount) {\n    return empty;\n  }\n  if (animate === 'close') {\n    return empty;\n  }\n  return {\n    height: placeholder.client.borderBox.height,\n    width: placeholder.client.borderBox.width,\n    margin: placeholder.client.margin\n  };\n};\nvar getStyle = function getStyle(_ref2) {\n  var isAnimatingOpenOnMount = _ref2.isAnimatingOpenOnMount,\n    placeholder = _ref2.placeholder,\n    animate = _ref2.animate;\n  var size = getSize({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    placeholder: placeholder,\n    animate: animate\n  });\n  return {\n    display: placeholder.display,\n    boxSizing: 'border-box',\n    width: size.width,\n    height: size.height,\n    marginTop: size.margin.top,\n    marginRight: size.margin.right,\n    marginBottom: size.margin.bottom,\n    marginLeft: size.margin.left,\n    flexShrink: '0',\n    flexGrow: '0',\n    pointerEvents: 'none',\n    transition: transitions.placeholder\n  };\n};\nfunction Placeholder(props) {\n  var animateOpenTimerRef = useRef(null);\n  var tryClearAnimateOpenTimer = useCallback(function () {\n    if (!animateOpenTimerRef.current) {\n      return;\n    }\n    clearTimeout(animateOpenTimerRef.current);\n    animateOpenTimerRef.current = null;\n  }, []);\n  var animate = props.animate,\n    onTransitionEnd = props.onTransitionEnd,\n    onClose = props.onClose,\n    styleContext = props.styleContext;\n  var _useState = useState(props.animate === 'open'),\n    isAnimatingOpenOnMount = _useState[0],\n    setIsAnimatingOpenOnMount = _useState[1];\n  useEffect(function () {\n    if (!isAnimatingOpenOnMount) {\n      return noop;\n    }\n    if (animate !== 'open') {\n      tryClearAnimateOpenTimer();\n      setIsAnimatingOpenOnMount(false);\n      return noop;\n    }\n    if (animateOpenTimerRef.current) {\n      return noop;\n    }\n    animateOpenTimerRef.current = setTimeout(function () {\n      animateOpenTimerRef.current = null;\n      setIsAnimatingOpenOnMount(false);\n    });\n    return tryClearAnimateOpenTimer;\n  }, [animate, isAnimatingOpenOnMount, tryClearAnimateOpenTimer]);\n  var onSizeChangeEnd = useCallback(function (event) {\n    if (event.propertyName !== 'height') {\n      return;\n    }\n    onTransitionEnd();\n    if (animate === 'close') {\n      onClose();\n    }\n  }, [animate, onClose, onTransitionEnd]);\n  var style = getStyle({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    animate: props.animate,\n    placeholder: props.placeholder\n  });\n  return React.createElement(props.placeholder.tagName, {\n    style: style,\n    'data-react-beautiful-dnd-placeholder': styleContext,\n    onTransitionEnd: onSizeChangeEnd,\n    ref: props.innerRef\n  });\n}\nvar Placeholder$1 = React.memo(Placeholder);\nvar DroppableContext = React.createContext(null);\nvar getWindowFromEl = function (el) {\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\n};\nfunction isHtmlElement(el) {\n  return el instanceof getWindowFromEl(el).HTMLElement;\n}\nfunction checkIsValidInnerRef(el) {\n  !(el && isHtmlElement(el)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\n}\nfunction checkOwnProps(props) {\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\n  !(typeof props.isDropDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.isCombineEnabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.ignoreContainerClipping === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\n}\nfunction checkPlaceholderRef(props, placeholderEl) {\n  if (!props.placeholder) {\n    return;\n  }\n  if (placeholderEl) {\n    return;\n  }\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable setup issue [droppableId: \\\"\" + props.droppableId + \"\\\"]:\\n    DroppableProvided > placeholder could not be found.\\n\\n    Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\\n  \") : void 0;\n}\nfunction useValidation(_ref) {\n  var props = _ref.props,\n    getDroppableRef = _ref.getDroppableRef,\n    getPlaceholderRef = _ref.getPlaceholderRef;\n  useEffect(function () {\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps(props);\n      checkIsValidInnerRef(getDroppableRef());\n      checkPlaceholderRef(props, getPlaceholderRef());\n    }\n  });\n}\nvar AnimateInOut = function (_React$PureComponent) {\n  _inheritsLoose(AnimateInOut, _React$PureComponent);\n  function AnimateInOut() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      isVisible: Boolean(_this.props.on),\n      data: _this.props.on,\n      animate: _this.props.shouldAnimate && _this.props.on ? 'open' : 'none'\n    };\n    _this.onClose = function () {\n      if (_this.state.animate !== 'close') {\n        return;\n      }\n      _this.setState({\n        isVisible: false\n      });\n    };\n    return _this;\n  }\n  AnimateInOut.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (!props.shouldAnimate) {\n      return {\n        isVisible: Boolean(props.on),\n        data: props.on,\n        animate: 'none'\n      };\n    }\n    if (props.on) {\n      return {\n        isVisible: true,\n        data: props.on,\n        animate: 'open'\n      };\n    }\n    if (state.isVisible) {\n      return {\n        isVisible: true,\n        data: state.data,\n        animate: 'close'\n      };\n    }\n    return {\n      isVisible: false,\n      animate: 'close',\n      data: null\n    };\n  };\n  var _proto = AnimateInOut.prototype;\n  _proto.render = function render() {\n    if (!this.state.isVisible) {\n      return null;\n    }\n    var provided = {\n      onClose: this.onClose,\n      data: this.state.data,\n      animate: this.state.animate\n    };\n    return this.props.children(provided);\n  };\n  return AnimateInOut;\n}(React.PureComponent);\nfunction Droppable(props) {\n  var appContext = useContext(AppContext);\n  !appContext ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find app context') : invariant(false) : void 0;\n  var styleContext = appContext.style,\n    isMovementAllowed = appContext.isMovementAllowed;\n  var droppableRef = useRef(null);\n  var placeholderRef = useRef(null);\n  var children = props.children,\n    droppableId = props.droppableId,\n    type = props.type,\n    direction = props.direction,\n    ignoreContainerClipping = props.ignoreContainerClipping,\n    isDropDisabled = props.isDropDisabled,\n    isCombineEnabled = props.isCombineEnabled,\n    snapshot = props.snapshot,\n    updateViewportMaxScroll = props.updateViewportMaxScroll;\n  var getDroppableRef = useCallback(function () {\n    return droppableRef.current;\n  }, []);\n  var getPlaceholderRef = useCallback(function () {\n    return placeholderRef.current;\n  }, []);\n  var setDroppableRef = useCallback(function (value) {\n    droppableRef.current = value;\n  }, []);\n  var setPlaceholderRef = useCallback(function (value) {\n    placeholderRef.current = value;\n  }, []);\n  var onPlaceholderTransitionEnd = useCallback(function () {\n    if (isMovementAllowed()) {\n      updateViewportMaxScroll({\n        maxScroll: getMaxWindowScroll()\n      });\n    }\n  }, [isMovementAllowed, updateViewportMaxScroll]);\n  useDroppableDimensionPublisher({\n    droppableId: droppableId,\n    type: type,\n    direction: direction,\n    isDropDisabled: isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    ignoreContainerClipping: ignoreContainerClipping,\n    getDroppableRef: getDroppableRef,\n    getPlaceholderRef: getPlaceholderRef\n  });\n  var placeholder = React.createElement(AnimateInOut, {\n    on: props.placeholder,\n    shouldAnimate: props.shouldAnimatePlaceholder\n  }, function (_ref) {\n    var onClose = _ref.onClose,\n      data = _ref.data,\n      animate = _ref.animate;\n    return React.createElement(Placeholder$1, {\n      placeholder: data,\n      onClose: onClose,\n      innerRef: setPlaceholderRef,\n      animate: animate,\n      styleContext: styleContext,\n      onTransitionEnd: onPlaceholderTransitionEnd\n    });\n  });\n  var provided = useMemo(function () {\n    return {\n      innerRef: setDroppableRef,\n      placeholder: placeholder,\n      droppableProps: {\n        'data-react-beautiful-dnd-droppable': styleContext\n      }\n    };\n  }, [placeholder, setDroppableRef, styleContext]);\n  var droppableContext = useMemo(function () {\n    return {\n      droppableId: droppableId,\n      type: type\n    };\n  }, [droppableId, type]);\n  useValidation({\n    props: props,\n    getDroppableRef: function getDroppableRef() {\n      return droppableRef.current;\n    },\n    getPlaceholderRef: function getPlaceholderRef() {\n      return placeholderRef.current;\n    }\n  });\n  return React.createElement(DroppableContext.Provider, {\n    value: droppableContext\n  }, children(provided, snapshot));\n}\nvar isStrictEqual = function (a, b) {\n  return a === b;\n};\nvar whatIsDraggedOverFromResult = function (result) {\n  var combine = result.combine,\n    destination = result.destination;\n  if (destination) {\n    return destination.droppableId;\n  }\n  if (combine) {\n    return combine.droppableId;\n  }\n  return null;\n};\nvar isMatchingType = function isMatchingType(type, critical) {\n  return type === critical.droppable.type;\n};\nvar getDraggable = function getDraggable(critical, dimensions) {\n  return dimensions.draggables[critical.draggable.id];\n};\nvar makeMapStateToProps = function makeMapStateToProps() {\n  var idle = {\n    placeholder: null,\n    shouldAnimatePlaceholder: true,\n    snapshot: {\n      isDraggingOver: false,\n      draggingOverWith: null,\n      draggingFromThisWith: null\n    }\n  };\n  var idleWithoutAnimation = _extends({}, idle, {\n    shouldAnimatePlaceholder: false\n  });\n  var getMapProps = memoizeOne(function (id, isDraggingOver, dragging, snapshot) {\n    var isHome = dragging.descriptor.droppableId === id;\n    if (isHome) {\n      return {\n        placeholder: dragging.placeholder,\n        shouldAnimatePlaceholder: false,\n        snapshot: snapshot\n      };\n    }\n    if (!isDraggingOver) {\n      return idle;\n    }\n    return {\n      placeholder: dragging.placeholder,\n      shouldAnimatePlaceholder: true,\n      snapshot: snapshot\n    };\n  });\n  var getSnapshot = memoizeOne(function (id, isDraggingOver, dragging) {\n    var draggableId = dragging.descriptor.id;\n    var isHome = dragging.descriptor.droppableId === id;\n    var draggingOverWith = isDraggingOver ? draggableId : null;\n    var draggingFromThisWith = isHome ? draggableId : null;\n    return {\n      isDraggingOver: isDraggingOver,\n      draggingOverWith: draggingOverWith,\n      draggingFromThisWith: draggingFromThisWith\n    };\n  });\n  var selector = function selector(state, ownProps) {\n    var id = ownProps.droppableId;\n    var type = ownProps.type;\n    if (state.isDragging) {\n      var critical = state.critical;\n      if (!isMatchingType(type, critical)) {\n        return idle;\n      }\n      var dragging = getDraggable(critical, state.dimensions);\n      var isDraggingOver = whatIsDraggedOver(state.impact) === id;\n      var snapshot = getSnapshot(id, isDraggingOver, dragging);\n      return getMapProps(id, isDraggingOver, dragging, snapshot);\n    }\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n      if (!isMatchingType(type, completed.critical)) {\n        return idle;\n      }\n      var _dragging = getDraggable(completed.critical, state.dimensions);\n      var _snapshot = getSnapshot(id, whatIsDraggedOverFromResult(completed.result) === id, _dragging);\n      return getMapProps(id, whatIsDraggedOver(completed.impact) === id, _dragging, _snapshot);\n    }\n    if (state.phase === 'IDLE' && !state.completed && state.shouldFlush) {\n      return idleWithoutAnimation;\n    }\n    if (state.phase === 'IDLE' && state.completed) {\n      var _completed = state.completed;\n      if (!isMatchingType(type, _completed.critical)) {\n        return idle;\n      }\n      var wasOver = whatIsDraggedOver(_completed.impact) === id;\n      var wasCombining = Boolean(_completed.impact.merge);\n      if (state.shouldFlush) {\n        return idleWithoutAnimation;\n      }\n      if (wasOver) {\n        return wasCombining ? idle : idleWithoutAnimation;\n      }\n      return idle;\n    }\n    return idle;\n  };\n  return selector;\n};\nvar mapDispatchToProps = {\n  updateViewportMaxScroll: updateViewportMaxScroll\n};\nvar defaultProps = {\n  type: 'DEFAULT',\n  direction: 'vertical',\n  isDropDisabled: false,\n  isCombineEnabled: false,\n  ignoreContainerClipping: false\n};\nvar ConnectedDroppable = connect(makeMapStateToProps, mapDispatchToProps, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Droppable);\nConnectedDroppable.defaultProps = defaultProps;\nvar zIndexOptions = {\n  dragging: 5000,\n  dropAnimating: 4500\n};\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\n  if (dropping) {\n    return transitions.drop(dropping.duration);\n  }\n  if (shouldAnimateDragMovement) {\n    return transitions.snap;\n  }\n  return transitions.fluid;\n};\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\n  if (!isCombining) {\n    return null;\n  }\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\n};\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\n  if (dragging.forceShouldAnimate != null) {\n    return dragging.forceShouldAnimate;\n  }\n  return dragging.mode === 'SNAP';\n};\nfunction getDraggingStyle(dragging) {\n  var dimension = dragging.dimension;\n  var box = dimension.client;\n  var offset = dragging.offset,\n    combineWith = dragging.combineWith,\n    dropping = dragging.dropping;\n  var isCombining = Boolean(combineWith);\n  var shouldAnimate = getShouldDraggingAnimate(dragging);\n  var isDropAnimating = Boolean(dropping);\n  var transform = isDropAnimating ? transforms.drop(offset, isCombining) : transforms.moveTo(offset);\n  var style = {\n    position: 'fixed',\n    top: box.marginBox.top,\n    left: box.marginBox.left,\n    boxSizing: 'border-box',\n    width: box.borderBox.width,\n    height: box.borderBox.height,\n    transition: getDraggingTransition(shouldAnimate, dropping),\n    transform: transform,\n    opacity: getDraggingOpacity(isCombining, isDropAnimating),\n    zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\n    pointerEvents: 'none'\n  };\n  return style;\n}\nfunction getSecondaryStyle(secondary) {\n  return {\n    transform: transforms.moveTo(secondary.offset),\n    transition: secondary.shouldAnimateDisplacement ? null : 'none'\n  };\n}\nfunction getStyle$1(mapped) {\n  return mapped.type === 'DRAGGING' ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);\n}\nvar createEventMarshal = function () {\n  var isMouseDownHandled = false;\n  var handle = function handle() {\n    !!isMouseDownHandled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot handle mouse down as it is already handled') : invariant(false) : void 0;\n    isMouseDownHandled = true;\n  };\n  var isHandled = function isHandled() {\n    return isMouseDownHandled;\n  };\n  var reset = function reset() {\n    isMouseDownHandled = false;\n  };\n  return {\n    handle: handle,\n    isHandled: isHandled,\n    reset: reset\n  };\n};\nvar getOptions = function getOptions(shared, fromBinding) {\n  return _extends({}, shared, fromBinding);\n};\nvar bindEvents = function bindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.addEventListener(binding.eventName, binding.fn, options);\n  });\n};\nvar unbindEvents = function unbindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.removeEventListener(binding.eventName, binding.fn, options);\n  });\n};\nvar createScheduler = function (callbacks) {\n  var memoizedMove = memoizeOne(function (x, y) {\n    var point = {\n      x: x,\n      y: y\n    };\n    callbacks.onMove(point);\n  });\n  var move = rafSchd(function (point) {\n    return memoizedMove(point.x, point.y);\n  });\n  var moveUp = rafSchd(callbacks.onMoveUp);\n  var moveDown = rafSchd(callbacks.onMoveDown);\n  var moveRight = rafSchd(callbacks.onMoveRight);\n  var moveLeft = rafSchd(callbacks.onMoveLeft);\n  var windowScrollMove = rafSchd(callbacks.onWindowScroll);\n  var cancel = function cancel() {\n    move.cancel();\n    moveUp.cancel();\n    moveDown.cancel();\n    moveRight.cancel();\n    moveLeft.cancel();\n    windowScrollMove.cancel();\n  };\n  return {\n    move: move,\n    moveUp: moveUp,\n    moveDown: moveDown,\n    moveRight: moveRight,\n    moveLeft: moveLeft,\n    windowScrollMove: windowScrollMove,\n    cancel: cancel\n  };\n};\nvar tab = 9;\nvar enter = 13;\nvar escape = 27;\nvar space = 32;\nvar pageUp = 33;\nvar pageDown = 34;\nvar end = 35;\nvar home = 36;\nvar arrowLeft = 37;\nvar arrowUp = 38;\nvar arrowRight = 39;\nvar arrowDown = 40;\nvar supportedEventName = function () {\n  var base = 'visibilitychange';\n  if (typeof document === 'undefined') {\n    return base;\n  }\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\n  var supported = find(candidates, function (eventName) {\n    return \"on\" + eventName in document;\n  });\n  return supported || base;\n}();\nvar sharedOptions = {\n  capture: true\n};\nvar createPostDragEventPreventer = function (getWindow) {\n  var isBound = false;\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n    isBound = true;\n    bindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n    isBound = false;\n    unbindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n  var pointerEvents = [{\n    eventName: 'click',\n    fn: function fn(event) {\n      event.preventDefault();\n      unbind();\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: unbind\n  }, {\n    eventName: 'touchstart',\n    fn: unbind\n  }];\n  var preventNext = function preventNext() {\n    if (isBound) {\n      unbind();\n    }\n    bind();\n  };\n  var preventer = {\n    preventNext: preventNext,\n    abort: unbind\n  };\n  return preventer;\n};\nvar sloppyClickThreshold = 5;\nvar isSloppyClickThresholdExceeded = function (original, current) {\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\n};\nvar _preventedKeys;\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\nvar preventStandardKeyEvents = function (event) {\n  if (preventedKeys[event.keyCode]) {\n    event.preventDefault();\n  }\n};\nvar primaryButton = 0;\nvar noop$1 = function noop() {};\nvar mouseDownMarshal = createEventMarshal();\nfunction useMouseSensor(args) {\n  var canStartCapturing = args.canStartCapturing,\n    getWindow = args.getWindow,\n    callbacks = args.callbacks,\n    onCaptureStart = args.onCaptureStart,\n    onCaptureEnd = args.onCaptureEnd;\n  var pendingRef = useRef(null);\n  var isDraggingRef = useRef(false);\n  var unbindWindowEventsRef = useRef(noop$1);\n  var getIsCapturing = useCallback(function () {\n    return Boolean(pendingRef.current || isDraggingRef.current);\n  }, []);\n  var schedule = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\n    return createScheduler(callbacks);\n  }, [callbacks, getIsCapturing]);\n  var postDragEventPreventer = useMemo(function () {\n    return createPostDragEventPreventer(getWindow);\n  }, [getWindow]);\n  var stop = useCallback(function () {\n    if (!getIsCapturing()) {\n      return;\n    }\n    schedule.cancel();\n    unbindWindowEventsRef.current();\n    var shouldBlockClick = isDraggingRef.current;\n    mouseDownMarshal.reset();\n    if (shouldBlockClick) {\n      postDragEventPreventer.preventNext();\n    }\n    pendingRef.current = null;\n    isDraggingRef.current = false;\n    onCaptureEnd();\n  }, [getIsCapturing, onCaptureEnd, postDragEventPreventer, schedule]);\n  var cancel = useCallback(function () {\n    var wasDragging = isDraggingRef.current;\n    stop();\n    if (wasDragging) {\n      callbacks.onCancel();\n    }\n  }, [callbacks, stop]);\n  var startDragging = useCallback(function () {\n    !!isDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag while dragging') : invariant(false) : void 0;\n    var pending = pendingRef.current;\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag without a pending drag') : invariant(false) : void 0;\n    pendingRef.current = null;\n    isDraggingRef.current = true;\n    callbacks.onLift({\n      clientSelection: pending,\n      movementMode: 'FLUID'\n    });\n  }, [callbacks]);\n  var windowBindings = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings while capturing') : invariant(false) : void 0;\n    var bindings = [{\n      eventName: 'mousemove',\n      fn: function fn(event) {\n        var button = event.button,\n          clientX = event.clientX,\n          clientY = event.clientY;\n        if (button !== primaryButton) {\n          return;\n        }\n        var point = {\n          x: clientX,\n          y: clientY\n        };\n        if (isDraggingRef.current) {\n          event.preventDefault();\n          schedule.move(point);\n          return;\n        }\n        var pending = pendingRef.current;\n        if (!pending) {\n          stop();\n          process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be an active or pending drag when window mousemove event is received') : invariant(false);\n        }\n        if (!isSloppyClickThresholdExceeded(pending, point)) {\n          return;\n        }\n        event.preventDefault();\n        startDragging();\n      }\n    }, {\n      eventName: 'mouseup',\n      fn: function fn(event) {\n        var wasDragging = isDraggingRef.current;\n        stop();\n        if (wasDragging) {\n          event.preventDefault();\n          callbacks.onDrop();\n        }\n      }\n    }, {\n      eventName: 'mousedown',\n      fn: function fn(event) {\n        if (isDraggingRef.current) {\n          event.preventDefault();\n        }\n        cancel();\n      }\n    }, {\n      eventName: 'keydown',\n      fn: function fn(event) {\n        if (pendingRef.current) {\n          stop();\n          return;\n        }\n        if (event.keyCode === escape) {\n          event.preventDefault();\n          cancel();\n          return;\n        }\n        preventStandardKeyEvents(event);\n      }\n    }, {\n      eventName: 'resize',\n      fn: cancel\n    }, {\n      eventName: 'scroll',\n      options: {\n        passive: true,\n        capture: false\n      },\n      fn: function fn(event) {\n        if (event.currentTarget !== getWindow()) {\n          return;\n        }\n        if (pendingRef.current) {\n          stop();\n          return;\n        }\n        schedule.windowScrollMove();\n      }\n    }, {\n      eventName: 'webkitmouseforcedown',\n      fn: function fn() {\n        cancel();\n      }\n    }, {\n      eventName: supportedEventName,\n      fn: cancel\n    }];\n    return bindings;\n  }, [getIsCapturing, cancel, startDragging, schedule, stop, callbacks, getWindow]);\n  var bindWindowEvents = useCallback(function () {\n    var win = getWindow();\n    var options = {\n      capture: true\n    };\n    unbindWindowEventsRef.current = function () {\n      return unbindEvents(win, windowBindings, options);\n    };\n    bindEvents(win, windowBindings, options);\n  }, [getWindow, windowBindings]);\n  var startPendingDrag = useCallback(function (point) {\n    !!pendingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be no pending drag') : invariant(false) : void 0;\n    pendingRef.current = point;\n    onCaptureStart(stop);\n    bindWindowEvents();\n  }, [bindWindowEvents, onCaptureStart, stop]);\n  var onMouseDown = useCallback(function (event) {\n    if (mouseDownMarshal.isHandled()) {\n      return;\n    }\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a mouse down while a drag or pending drag is occurring') : invariant(false) : void 0;\n    if (!canStartCapturing(event)) {\n      return;\n    }\n    if (event.button !== primaryButton) {\n      return;\n    }\n    if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\n      return;\n    }\n    mouseDownMarshal.handle();\n    event.preventDefault();\n    var point = {\n      x: event.clientX,\n      y: event.clientY\n    };\n    startPendingDrag(point);\n  }, [canStartCapturing, getIsCapturing, startPendingDrag]);\n  return onMouseDown;\n}\nfunction isElement(el) {\n  return el instanceof getWindowFromEl(el).Element;\n}\nvar interactiveTagNames = {\n  input: true,\n  button: true,\n  textarea: true,\n  select: true,\n  option: true,\n  optgroup: true,\n  video: true,\n  audio: true\n};\nvar isAnInteractiveElement = function isAnInteractiveElement(parent, current) {\n  if (current == null) {\n    return false;\n  }\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\n  if (hasAnInteractiveTag) {\n    return true;\n  }\n  var attribute = current.getAttribute('contenteditable');\n  if (attribute === 'true' || attribute === '') {\n    return true;\n  }\n  if (current === parent) {\n    return false;\n  }\n  return isAnInteractiveElement(parent, current.parentElement);\n};\nvar shouldAllowDraggingFromTarget = function (event, canDragInteractiveElements) {\n  if (canDragInteractiveElements) {\n    return true;\n  }\n  var target = event.target,\n    currentTarget = event.currentTarget;\n  if (!isElement(target) || !isElement(currentTarget)) {\n    return true;\n  }\n  return !isAnInteractiveElement(currentTarget, target);\n};\nvar getBorderBoxCenterPosition = function (el) {\n  return getRect(el.getBoundingClientRect()).center;\n};\nvar _scrollJumpKeys;\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\nfunction noop$2() {}\nfunction useKeyboardSensor(args) {\n  var canStartCapturing = args.canStartCapturing,\n    getWindow = args.getWindow,\n    callbacks = args.callbacks,\n    onCaptureStart = args.onCaptureStart,\n    onCaptureEnd = args.onCaptureEnd,\n    getDraggableRef = args.getDraggableRef;\n  var isDraggingRef = useRef(false);\n  var unbindWindowEventsRef = useRef(noop$2);\n  var getIsDragging = useCallback(function () {\n    return isDraggingRef.current;\n  }, []);\n  var schedule = useMemo(function () {\n    !!getIsDragging() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\n    return createScheduler(callbacks);\n  }, [callbacks, getIsDragging]);\n  var stop = useCallback(function () {\n    if (!getIsDragging()) {\n      return;\n    }\n    schedule.cancel();\n    unbindWindowEventsRef.current();\n    isDraggingRef.current = false;\n    onCaptureEnd();\n  }, [getIsDragging, onCaptureEnd, schedule]);\n  var cancel = useCallback(function () {\n    var wasDragging = isDraggingRef.current;\n    stop();\n    if (wasDragging) {\n      callbacks.onCancel();\n    }\n  }, [callbacks, stop]);\n  var windowBindings = useMemo(function () {\n    !!getIsDragging() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings when dragging') : invariant(false) : void 0;\n    return [{\n      eventName: 'mousedown',\n      fn: cancel\n    }, {\n      eventName: 'mouseup',\n      fn: cancel\n    }, {\n      eventName: 'click',\n      fn: cancel\n    }, {\n      eventName: 'touchstart',\n      fn: cancel\n    }, {\n      eventName: 'resize',\n      fn: cancel\n    }, {\n      eventName: 'wheel',\n      fn: cancel,\n      options: {\n        passive: true\n      }\n    }, {\n      eventName: 'scroll',\n      options: {\n        capture: false\n      },\n      fn: function fn(event) {\n        if (event.currentTarget !== getWindow()) {\n          return;\n        }\n        callbacks.onWindowScroll();\n      }\n    }, {\n      eventName: supportedEventName,\n      fn: cancel\n    }];\n  }, [callbacks, cancel, getIsDragging, getWindow]);\n  var bindWindowEvents = useCallback(function () {\n    var win = getWindow();\n    var options = {\n      capture: true\n    };\n    unbindWindowEventsRef.current = function () {\n      return unbindEvents(win, windowBindings, options);\n    };\n    bindEvents(win, windowBindings, options);\n  }, [getWindow, windowBindings]);\n  var startDragging = useCallback(function () {\n    !!isDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag while dragging') : invariant(false) : void 0;\n    var ref = getDraggableRef();\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a keyboard drag without a draggable ref') : invariant(false) : void 0;\n    isDraggingRef.current = true;\n    onCaptureStart(stop);\n    bindWindowEvents();\n    var center = getBorderBoxCenterPosition(ref);\n    callbacks.onLift({\n      clientSelection: center,\n      movementMode: 'SNAP'\n    });\n  }, [bindWindowEvents, callbacks, getDraggableRef, onCaptureStart, stop]);\n  var onKeyDown = useCallback(function (event) {\n    if (!getIsDragging()) {\n      if (event.defaultPrevented) {\n        return;\n      }\n      if (!canStartCapturing(event)) {\n        return;\n      }\n      if (event.keyCode !== space) {\n        return;\n      }\n      event.preventDefault();\n      startDragging();\n      return;\n    }\n    if (event.keyCode === escape) {\n      event.preventDefault();\n      cancel();\n      return;\n    }\n    if (event.keyCode === space) {\n      event.preventDefault();\n      stop();\n      callbacks.onDrop();\n      return;\n    }\n    if (event.keyCode === arrowDown) {\n      event.preventDefault();\n      schedule.moveDown();\n      return;\n    }\n    if (event.keyCode === arrowUp) {\n      event.preventDefault();\n      schedule.moveUp();\n      return;\n    }\n    if (event.keyCode === arrowRight) {\n      event.preventDefault();\n      schedule.moveRight();\n      return;\n    }\n    if (event.keyCode === arrowLeft) {\n      event.preventDefault();\n      schedule.moveLeft();\n      return;\n    }\n    if (scrollJumpKeys[event.keyCode]) {\n      event.preventDefault();\n      return;\n    }\n    preventStandardKeyEvents(event);\n  }, [callbacks, canStartCapturing, cancel, getIsDragging, schedule, startDragging, stop]);\n  return onKeyDown;\n}\nvar timeForLongPress = 120;\nvar forcePressThreshold = 0.15;\nvar touchStartMarshal = createEventMarshal();\nvar noop$3 = function noop() {};\nfunction useTouchSensor(args) {\n  var callbacks = args.callbacks,\n    getWindow = args.getWindow,\n    canStartCapturing = args.canStartCapturing,\n    getShouldRespectForcePress = args.getShouldRespectForcePress,\n    onCaptureStart = args.onCaptureStart,\n    onCaptureEnd = args.onCaptureEnd;\n  var pendingRef = useRef(null);\n  var isDraggingRef = useRef(false);\n  var hasMovedRef = useRef(false);\n  var unbindWindowEventsRef = useRef(noop$3);\n  var getIsCapturing = useCallback(function () {\n    return Boolean(pendingRef.current || isDraggingRef.current);\n  }, []);\n  var postDragClickPreventer = useMemo(function () {\n    return createPostDragEventPreventer(getWindow);\n  }, [getWindow]);\n  var schedule = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\n    return createScheduler(callbacks);\n  }, [callbacks, getIsCapturing]);\n  var stop = useCallback(function () {\n    if (!getIsCapturing()) {\n      return;\n    }\n    schedule.cancel();\n    unbindWindowEventsRef.current();\n    touchStartMarshal.reset();\n    hasMovedRef.current = false;\n    onCaptureEnd();\n    if (isDraggingRef.current) {\n      postDragClickPreventer.preventNext();\n      isDraggingRef.current = false;\n      return;\n    }\n    var pending = pendingRef.current;\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected a pending drag') : invariant(false) : void 0;\n    clearTimeout(pending.longPressTimerId);\n    pendingRef.current = null;\n  }, [getIsCapturing, onCaptureEnd, postDragClickPreventer, schedule]);\n  var cancel = useCallback(function () {\n    var wasDragging = isDraggingRef.current;\n    stop();\n    if (wasDragging) {\n      callbacks.onCancel();\n    }\n  }, [callbacks, stop]);\n  var windowBindings = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings while capturing') : invariant(false) : void 0;\n    var bindings = [{\n      eventName: 'touchmove',\n      options: {\n        passive: false,\n        capture: false\n      },\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          stop();\n          return;\n        }\n        if (!hasMovedRef.current) {\n          hasMovedRef.current = true;\n        }\n        var touch = event.touches[0];\n        if (!touch) {\n          return;\n        }\n        var point = {\n          x: touch.clientX,\n          y: touch.clientY\n        };\n        event.preventDefault();\n        schedule.move(point);\n      }\n    }, {\n      eventName: 'touchend',\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          stop();\n          return;\n        }\n        event.preventDefault();\n        stop();\n        callbacks.onDrop();\n      }\n    }, {\n      eventName: 'touchcancel',\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          stop();\n          return;\n        }\n        event.preventDefault();\n        cancel();\n      }\n    }, {\n      eventName: 'touchstart',\n      fn: cancel\n    }, {\n      eventName: 'orientationchange',\n      fn: cancel\n    }, {\n      eventName: 'resize',\n      fn: cancel\n    }, {\n      eventName: 'scroll',\n      options: {\n        passive: true,\n        capture: false\n      },\n      fn: function fn() {\n        if (pendingRef.current) {\n          stop();\n          return;\n        }\n        schedule.windowScrollMove();\n      }\n    }, {\n      eventName: 'contextmenu',\n      fn: function fn(event) {\n        event.preventDefault();\n      }\n    }, {\n      eventName: 'keydown',\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          cancel();\n          return;\n        }\n        if (event.keyCode === escape) {\n          event.preventDefault();\n        }\n        cancel();\n      }\n    }, {\n      eventName: 'touchforcechange',\n      fn: function fn(event) {\n        var touch = event.touches[0];\n        var isForcePress = touch.force >= forcePressThreshold;\n        if (!isForcePress) {\n          return;\n        }\n        var shouldRespect = getShouldRespectForcePress();\n        if (pendingRef.current) {\n          if (shouldRespect) {\n            cancel();\n          }\n          return;\n        }\n        if (shouldRespect) {\n          if (hasMovedRef.current) {\n            event.preventDefault();\n            return;\n          }\n          cancel();\n          return;\n        }\n        event.preventDefault();\n      }\n    }, {\n      eventName: supportedEventName,\n      fn: cancel\n    }];\n    return bindings;\n  }, [callbacks, cancel, getIsCapturing, getShouldRespectForcePress, schedule, stop]);\n  var bindWindowEvents = useCallback(function () {\n    var win = getWindow();\n    var options = {\n      capture: true\n    };\n    unbindWindowEventsRef.current = function () {\n      return unbindEvents(win, windowBindings, options);\n    };\n    bindEvents(win, windowBindings, options);\n  }, [getWindow, windowBindings]);\n  var startDragging = useCallback(function () {\n    var pending = pendingRef.current;\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag without a pending drag') : invariant(false) : void 0;\n    isDraggingRef.current = true;\n    pendingRef.current = null;\n    hasMovedRef.current = false;\n    callbacks.onLift({\n      clientSelection: pending.point,\n      movementMode: 'FLUID'\n    });\n  }, [callbacks]);\n  var startPendingDrag = useCallback(function (event) {\n    !!pendingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be no pending drag') : invariant(false) : void 0;\n    var touch = event.touches[0];\n    var clientX = touch.clientX,\n      clientY = touch.clientY;\n    var point = {\n      x: clientX,\n      y: clientY\n    };\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\n    var pending = {\n      point: point,\n      longPressTimerId: longPressTimerId\n    };\n    pendingRef.current = pending;\n    onCaptureStart(stop);\n    bindWindowEvents();\n  }, [bindWindowEvents, onCaptureStart, startDragging, stop]);\n  var onTouchStart = function onTouchStart(event) {\n    if (touchStartMarshal.isHandled()) {\n      return;\n    }\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a touch start while a drag or pending drag is occurring') : invariant(false) : void 0;\n    if (!canStartCapturing(event)) {\n      return;\n    }\n    touchStartMarshal.handle();\n    startPendingDrag(event);\n  };\n  useIsomorphicLayoutEffect(function webkitHack() {\n    var unbind = bindEvents(window, [{\n      eventName: 'touchmove',\n      fn: noop$3,\n      options: {\n        capture: false,\n        passive: false\n      }\n    }]);\n    return unbind;\n  }, []);\n  return onTouchStart;\n}\nfunction isSvgElement(el) {\n  return Boolean(getWindowFromEl(el).SVGElement) && el instanceof getWindowFromEl(el).SVGElement;\n}\nvar selector = \"[\" + dragHandle + \"]\";\nvar throwIfSVG = function throwIfSVG(el) {\n  !!isSvgElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A drag handle cannot be an SVGElement: it has inconsistent focus support.\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/dragging-svgs.md\") : invariant(false) : void 0;\n};\nvar getDragHandleRef = function getDragHandleRef(draggableRef) {\n  if (draggableRef.hasAttribute(dragHandle)) {\n    throwIfSVG(draggableRef);\n    return draggableRef;\n  }\n  var el = draggableRef.querySelector(selector);\n  throwIfSVG(draggableRef);\n  !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n      Cannot find drag handle element inside of Draggable.\\n      Please be sure to apply the {...provided.dragHandleProps} to your Draggable\\n\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/draggable.md\\n    \") : invariant(false) : void 0;\n  !isHtmlElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A drag handle must be a HTMLElement') : invariant(false) : void 0;\n  return el;\n};\nfunction useValidation$1(_ref) {\n  var isEnabled = _ref.isEnabled,\n    getDraggableRef = _ref.getDraggableRef;\n  useEffect(function () {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!isEnabled) {\n        return;\n      }\n      var draggableRef = getDraggableRef();\n      !draggableRef ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Drag handle was unable to find draggable ref') : invariant(false) : void 0;\n      getDragHandleRef(draggableRef);\n    }\n  }, [getDraggableRef, isEnabled]);\n}\nvar retainingFocusFor = null;\nvar listenerOptions = {\n  capture: true\n};\nvar clearRetentionOnFocusChange = function () {\n  var isBound = false;\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n    isBound = true;\n    window.addEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n    isBound = false;\n    window.removeEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n  var onWindowFocusChange = function onWindowFocusChange() {\n    unbind();\n    retainingFocusFor = null;\n  };\n  var result = function result() {\n    return bind();\n  };\n  result.cancel = function () {\n    return unbind();\n  };\n  return result;\n}();\nvar retain = function retain(id) {\n  retainingFocusFor = id;\n  clearRetentionOnFocusChange();\n};\nvar tryRestoreFocus = function tryRestoreFocus(id, draggableRef) {\n  if (!retainingFocusFor) {\n    return;\n  }\n  if (id !== retainingFocusFor) {\n    return;\n  }\n  retainingFocusFor = null;\n  clearRetentionOnFocusChange.cancel();\n  var dragHandleRef = getDragHandleRef(draggableRef);\n  if (!dragHandleRef) {\n    process.env.NODE_ENV !== \"production\" ? warning('Could not find drag handle in the DOM to focus on it') : void 0;\n    return;\n  }\n  dragHandleRef.focus();\n};\nvar retainer = {\n  retain: retain,\n  tryRestoreFocus: tryRestoreFocus\n};\nfunction noop$4() {}\nfunction useFocusRetainer(args) {\n  var isFocusedRef = useRef(false);\n  var lastArgsRef = usePrevious(args);\n  var getDraggableRef = args.getDraggableRef;\n  var onFocus = useCallback(function () {\n    isFocusedRef.current = true;\n  }, []);\n  var onBlur = useCallback(function () {\n    isFocusedRef.current = false;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    var first = lastArgsRef.current;\n    if (!first.isEnabled) {\n      return noop$4;\n    }\n    var draggable = getDraggableRef();\n    !draggable ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Drag handle could not obtain draggable ref') : invariant(false) : void 0;\n    var dragHandle = getDragHandleRef(draggable);\n    retainer.tryRestoreFocus(first.draggableId, dragHandle);\n    return function () {\n      var last = lastArgsRef.current;\n      var shouldRetainFocus = function () {\n        if (!last.isEnabled) {\n          return false;\n        }\n        if (!isFocusedRef.current) {\n          return false;\n        }\n        return last.isDragging || last.isDropAnimating;\n      }();\n      if (shouldRetainFocus) {\n        retainer.retain(last.draggableId);\n      }\n    };\n  }, [getDraggableRef, lastArgsRef]);\n  var lastDraggableRef = useRef(null);\n  useIsomorphicLayoutEffect(function () {\n    if (!lastDraggableRef.current) {\n      return;\n    }\n    var draggableRef = getDraggableRef();\n    if (!draggableRef) {\n      return;\n    }\n    if (draggableRef === lastDraggableRef.current) {\n      return;\n    }\n    if (isFocusedRef.current && lastArgsRef.current.isEnabled) {\n      getDragHandleRef(draggableRef).focus();\n    }\n  });\n  useIsomorphicLayoutEffect(function () {\n    lastDraggableRef.current = getDraggableRef();\n  });\n  return {\n    onBlur: onBlur,\n    onFocus: onFocus\n  };\n}\nfunction preventHtml5Dnd(event) {\n  event.preventDefault();\n}\nfunction useDragHandle(args) {\n  var capturingRef = useRef(null);\n  var onCaptureStart = useCallback(function (abort) {\n    !!capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing while something else is') : invariant(false) : void 0;\n    capturingRef.current = {\n      abort: abort\n    };\n  }, []);\n  var onCaptureEnd = useCallback(function () {\n    !capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop capturing while nothing is capturing') : invariant(false) : void 0;\n    capturingRef.current = null;\n  }, []);\n  var abortCapture = useCallback(function () {\n    !capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot abort capture when there is none') : invariant(false) : void 0;\n    capturingRef.current.abort();\n  }, []);\n  var _useRequiredContext = useRequiredContext(AppContext),\n    canLift = _useRequiredContext.canLift,\n    styleContext = _useRequiredContext.style;\n  var isDragging = args.isDragging,\n    isEnabled = args.isEnabled,\n    draggableId = args.draggableId,\n    callbacks = args.callbacks,\n    getDraggableRef = args.getDraggableRef,\n    getShouldRespectForcePress = args.getShouldRespectForcePress,\n    canDragInteractiveElements = args.canDragInteractiveElements;\n  var lastArgsRef = usePrevious(args);\n  useValidation$1({\n    isEnabled: isEnabled,\n    getDraggableRef: getDraggableRef\n  });\n  var getWindow = useCallback(function () {\n    return getWindowFromEl(getDraggableRef());\n  }, [getDraggableRef]);\n  var canStartCapturing = useCallback(function (event) {\n    if (!isEnabled) {\n      return false;\n    }\n    if (capturingRef.current) {\n      return false;\n    }\n    if (!canLift(draggableId)) {\n      return false;\n    }\n    return shouldAllowDraggingFromTarget(event, canDragInteractiveElements);\n  }, [canDragInteractiveElements, canLift, draggableId, isEnabled]);\n  var _useFocusRetainer = useFocusRetainer(args),\n    onBlur = _useFocusRetainer.onBlur,\n    onFocus = _useFocusRetainer.onFocus;\n  var mouseArgs = useMemo(function () {\n    return {\n      callbacks: callbacks,\n      getDraggableRef: getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: canStartCapturing,\n      onCaptureStart: onCaptureStart,\n      onCaptureEnd: onCaptureEnd,\n      getShouldRespectForcePress: getShouldRespectForcePress\n    };\n  }, [callbacks, getDraggableRef, getWindow, canStartCapturing, onCaptureStart, onCaptureEnd, getShouldRespectForcePress]);\n  var onMouseDown = useMouseSensor(mouseArgs);\n  var keyboardArgs = useMemo(function () {\n    return {\n      callbacks: callbacks,\n      getDraggableRef: getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: canStartCapturing,\n      onCaptureStart: onCaptureStart,\n      onCaptureEnd: onCaptureEnd\n    };\n  }, [callbacks, canStartCapturing, getDraggableRef, getWindow, onCaptureEnd, onCaptureStart]);\n  var onKeyDown = useKeyboardSensor(keyboardArgs);\n  var touchArgs = useMemo(function () {\n    return {\n      callbacks: callbacks,\n      getDraggableRef: getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: canStartCapturing,\n      getShouldRespectForcePress: getShouldRespectForcePress,\n      onCaptureStart: onCaptureStart,\n      onCaptureEnd: onCaptureEnd\n    };\n  }, [callbacks, getDraggableRef, getWindow, canStartCapturing, getShouldRespectForcePress, onCaptureStart, onCaptureEnd]);\n  var onTouchStart = useTouchSensor(touchArgs);\n  useIsomorphicLayoutEffect(function () {\n    return function () {\n      if (!capturingRef.current) {\n        return;\n      }\n      abortCapture();\n      if (lastArgsRef.current.isDragging) {\n        lastArgsRef.current.callbacks.onCancel();\n      }\n    };\n  }, []);\n  if (!isEnabled && capturingRef.current) {\n    abortCapture();\n    if (lastArgsRef.current.isDragging) {\n      process.env.NODE_ENV !== \"production\" ? warning('You have disabled dragging on a Draggable while it was dragging. The drag has been cancelled') : void 0;\n      callbacks.onCancel();\n    }\n  }\n  useIsomorphicLayoutEffect(function () {\n    if (!isDragging && capturingRef.current) {\n      abortCapture();\n    }\n  }, [abortCapture, isDragging]);\n  var props = useMemo(function () {\n    if (!isEnabled) {\n      return null;\n    }\n    return {\n      onMouseDown: onMouseDown,\n      onKeyDown: onKeyDown,\n      onTouchStart: onTouchStart,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      tabIndex: 0,\n      'data-react-beautiful-dnd-drag-handle': styleContext,\n      'aria-roledescription': 'Draggable item. Press space bar to lift',\n      draggable: false,\n      onDragStart: preventHtml5Dnd\n    };\n  }, [isEnabled, onBlur, onFocus, onKeyDown, onMouseDown, onTouchStart, styleContext]);\n  return props;\n}\nfunction getDimension$1(descriptor, el, windowScroll) {\n  if (windowScroll === void 0) {\n    windowScroll = origin;\n  }\n  var computedStyles = window.getComputedStyle(el);\n  var borderBox = el.getBoundingClientRect();\n  var client = calculateBox(borderBox, computedStyles);\n  var page = withScroll(client, windowScroll);\n  var placeholder = {\n    client: client,\n    tagName: el.tagName.toLowerCase(),\n    display: computedStyles.display\n  };\n  var displaceBy = {\n    x: client.marginBox.width,\n    y: client.marginBox.height\n  };\n  var dimension = {\n    descriptor: descriptor,\n    placeholder: placeholder,\n    displaceBy: displaceBy,\n    client: client,\n    page: page\n  };\n  return dimension;\n}\nfunction useDraggableDimensionPublisher(args) {\n  var draggableId = args.draggableId,\n    index = args.index,\n    getDraggableRef = args.getDraggableRef;\n  var appContext = useRequiredContext(AppContext);\n  var marshal = appContext.marshal;\n  var droppableContext = useRequiredContext(DroppableContext);\n  var droppableId = droppableContext.droppableId,\n    type = droppableContext.type;\n  var descriptor = useMemo(function () {\n    var result = {\n      id: draggableId,\n      droppableId: droppableId,\n      type: type,\n      index: index\n    };\n    return result;\n  }, [draggableId, droppableId, index, type]);\n  var publishedDescriptorRef = useRef(descriptor);\n  var makeDimension = useCallback(function (windowScroll) {\n    var latest = publishedDescriptorRef.current;\n    var el = getDraggableRef();\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension when no ref is set') : invariant(false) : void 0;\n    return getDimension$1(latest, el, windowScroll);\n  }, [getDraggableRef]);\n  useIsomorphicLayoutEffect(function () {\n    marshal.registerDraggable(publishedDescriptorRef.current, makeDimension);\n    return function () {\n      return marshal.unregisterDraggable(publishedDescriptorRef.current);\n    };\n  }, [makeDimension, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (publishedDescriptorRef.current === descriptor) {\n      return;\n    }\n    var previous = publishedDescriptorRef.current;\n    publishedDescriptorRef.current = descriptor;\n    marshal.updateDraggable(previous, descriptor, makeDimension);\n  }, [descriptor, makeDimension, marshal]);\n}\nfunction checkOwnProps$1(props) {\n  !_Number$isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires an integer index prop') : invariant(false) : void 0;\n  !props.draggableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\n  !(typeof props.isDragDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDragDisabled must be a boolean') : invariant(false) : void 0;\n}\nfunction checkForOutdatedProps(props) {\n  if (Object.prototype.hasOwnProperty.call(props, 'shouldRespectForceTouch')) {\n    process.env.NODE_ENV !== \"production\" ? warning('shouldRespectForceTouch has been renamed to shouldRespectForcePress') : void 0;\n  }\n}\nfunction useValidation$2(props, getRef) {\n  useEffect(function () {\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps$1(props);\n      checkForOutdatedProps(props);\n      checkIsValidInnerRef(getRef());\n    }\n  });\n}\nfunction Draggable(props) {\n  var ref = useRef(null);\n  var setRef = useCallback(function (el) {\n    ref.current = el;\n  }, []);\n  var getRef = useCallback(function () {\n    return ref.current;\n  }, []);\n  var appContext = useRequiredContext(AppContext);\n  useValidation$2(props, getRef);\n  var children = props.children,\n    draggableId = props.draggableId,\n    isDragDisabled = props.isDragDisabled,\n    shouldRespectForcePress = props.shouldRespectForcePress,\n    canDragInteractiveElements = props.disableInteractiveElementBlocking,\n    index = props.index,\n    mapped = props.mapped,\n    moveUpAction = props.moveUp,\n    moveAction = props.move,\n    dropAction = props.drop,\n    moveDownAction = props.moveDown,\n    moveRightAction = props.moveRight,\n    moveLeftAction = props.moveLeft,\n    moveByWindowScrollAction = props.moveByWindowScroll,\n    liftAction = props.lift,\n    dropAnimationFinishedAction = props.dropAnimationFinished;\n  var forPublisher = useMemo(function () {\n    return {\n      draggableId: draggableId,\n      index: index,\n      getDraggableRef: getRef\n    };\n  }, [draggableId, getRef, index]);\n  useDraggableDimensionPublisher(forPublisher);\n  var onLift = useCallback(function (options) {\n    start('LIFT');\n    var el = ref.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n    !!isDragDisabled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot lift a Draggable when it is disabled') : invariant(false) : void 0;\n    var clientSelection = options.clientSelection,\n      movementMode = options.movementMode;\n    liftAction({\n      id: draggableId,\n      clientSelection: clientSelection,\n      movementMode: movementMode\n    });\n    finish('LIFT');\n  }, [draggableId, isDragDisabled, liftAction]);\n  var getShouldRespectForcePress = useCallback(function () {\n    return shouldRespectForcePress;\n  }, [shouldRespectForcePress]);\n  var callbacks = useMemo(function () {\n    return {\n      onLift: onLift,\n      onMove: function onMove(clientSelection) {\n        return moveAction({\n          client: clientSelection\n        });\n      },\n      onDrop: function onDrop() {\n        return dropAction({\n          reason: 'DROP'\n        });\n      },\n      onCancel: function onCancel() {\n        return dropAction({\n          reason: 'CANCEL'\n        });\n      },\n      onMoveUp: moveUpAction,\n      onMoveDown: moveDownAction,\n      onMoveRight: moveRightAction,\n      onMoveLeft: moveLeftAction,\n      onWindowScroll: function onWindowScroll() {\n        return moveByWindowScrollAction({\n          newScroll: getWindowScroll()\n        });\n      }\n    };\n  }, [dropAction, moveAction, moveByWindowScrollAction, moveDownAction, moveLeftAction, moveRightAction, moveUpAction, onLift]);\n  var isDragging = mapped.type === 'DRAGGING';\n  var isDropAnimating = mapped.type === 'DRAGGING' && Boolean(mapped.dropping);\n  var dragHandleArgs = useMemo(function () {\n    return {\n      draggableId: draggableId,\n      isDragging: isDragging,\n      isDropAnimating: isDropAnimating,\n      isEnabled: !isDragDisabled,\n      callbacks: callbacks,\n      getDraggableRef: getRef,\n      canDragInteractiveElements: canDragInteractiveElements,\n      getShouldRespectForcePress: getShouldRespectForcePress\n    };\n  }, [callbacks, canDragInteractiveElements, draggableId, getRef, getShouldRespectForcePress, isDragDisabled, isDragging, isDropAnimating]);\n  var dragHandleProps = useDragHandle(dragHandleArgs);\n  var onMoveEnd = useCallback(function (event) {\n    if (mapped.type !== 'DRAGGING') {\n      return;\n    }\n    if (!mapped.dropping) {\n      return;\n    }\n    if (event.propertyName !== 'transform') {\n      return;\n    }\n    dropAnimationFinishedAction();\n  }, [dropAnimationFinishedAction, mapped]);\n  var provided = useMemo(function () {\n    var style = getStyle$1(mapped);\n    var onTransitionEnd = mapped.type === 'DRAGGING' && mapped.dropping ? onMoveEnd : null;\n    var result = {\n      innerRef: setRef,\n      draggableProps: {\n        'data-react-beautiful-dnd-draggable': appContext.style,\n        style: style,\n        onTransitionEnd: onTransitionEnd\n      },\n      dragHandleProps: dragHandleProps\n    };\n    return result;\n  }, [appContext.style, dragHandleProps, mapped, onMoveEnd, setRef]);\n  return children(provided, mapped.snapshot);\n}\nvar getCombineWithFromResult = function getCombineWithFromResult(result) {\n  return result.combine ? result.combine.draggableId : null;\n};\nvar getCombineWithFromImpact = function getCombineWithFromImpact(impact) {\n  return impact.merge ? impact.merge.combine.draggableId : null;\n};\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\n  var getDraggingSnapshot = memoizeOne(function (mode, draggingOver, combineWith, dropping) {\n    return {\n      isDragging: true,\n      isDropAnimating: Boolean(dropping),\n      dropAnimation: dropping,\n      mode: mode,\n      draggingOver: draggingOver,\n      combineWith: combineWith,\n      combineTargetFor: null\n    };\n  });\n  var getSecondarySnapshot = memoizeOne(function (combineTargetFor) {\n    return {\n      isDragging: false,\n      isDropAnimating: false,\n      dropAnimation: null,\n      mode: null,\n      draggingOver: null,\n      combineTargetFor: combineTargetFor,\n      combineWith: null\n    };\n  });\n  var defaultMapProps = {\n    mapped: {\n      type: 'SECONDARY',\n      offset: origin,\n      combineTargetFor: null,\n      shouldAnimateDisplacement: true,\n      snapshot: getSecondarySnapshot(null)\n    }\n  };\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getDraggingProps = memoizeOne(function (offset, mode, dimension, draggingOver, combineWith, forceShouldAnimate) {\n    return {\n      mapped: {\n        type: 'DRAGGING',\n        dropping: null,\n        draggingOver: draggingOver,\n        combineWith: combineWith,\n        mode: mode,\n        offset: offset,\n        dimension: dimension,\n        forceShouldAnimate: forceShouldAnimate,\n        snapshot: getDraggingSnapshot(mode, draggingOver, combineWith, null)\n      }\n    };\n  });\n  var getSecondaryProps = memoizeOne(function (offset, combineTargetFor, shouldAnimateDisplacement) {\n    if (combineTargetFor === void 0) {\n      combineTargetFor = null;\n    }\n    return {\n      mapped: {\n        type: 'SECONDARY',\n        offset: offset,\n        combineTargetFor: combineTargetFor,\n        shouldAnimateDisplacement: shouldAnimateDisplacement,\n        snapshot: getSecondarySnapshot(combineTargetFor)\n      }\n    };\n  });\n  var getSecondaryMovement = function getSecondaryMovement(ownId, draggingId, impact) {\n    var map = impact.movement.map;\n    var displacement = map[ownId];\n    var movement = impact.movement;\n    var merge = impact.merge;\n    var isCombinedWith = Boolean(merge && merge.combine.draggableId === ownId);\n    var displacedBy = movement.displacedBy.point;\n    var offset = memoizedOffset(displacedBy.x, displacedBy.y);\n    if (isCombinedWith) {\n      return getSecondaryProps(displacement ? offset : origin, draggingId, displacement ? displacement.shouldAnimate : true);\n    }\n    if (!displacement) {\n      return null;\n    }\n    if (!displacement.isVisible) {\n      return null;\n    }\n    return getSecondaryProps(offset, null, displacement.shouldAnimate);\n  };\n  var draggingSelector = function draggingSelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id !== ownProps.draggableId) {\n        return null;\n      }\n      var offset = state.current.client.offset;\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\n      var mode = state.movementMode;\n      var draggingOver = whatIsDraggedOver(state.impact);\n      var combineWith = getCombineWithFromImpact(state.impact);\n      var forceShouldAnimate = state.forceShouldAnimate;\n      return getDraggingProps(memoizedOffset(offset.x, offset.y), mode, dimension, draggingOver, combineWith, forceShouldAnimate);\n    }\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n      if (completed.result.draggableId !== ownProps.draggableId) {\n        return null;\n      }\n      var _dimension = state.dimensions.draggables[ownProps.draggableId];\n      var result = completed.result;\n      var _mode = result.mode;\n      var _draggingOver = whatIsDraggedOverFromResult(result);\n      var _combineWith = getCombineWithFromResult(result);\n      var duration = state.dropDuration;\n      var dropping = {\n        duration: duration,\n        curve: curves.drop,\n        moveTo: state.newHomeClientOffset,\n        opacity: _combineWith ? combine.opacity.drop : null,\n        scale: _combineWith ? combine.scale.drop : null\n      };\n      return {\n        mapped: {\n          type: 'DRAGGING',\n          offset: state.newHomeClientOffset,\n          dimension: _dimension,\n          dropping: dropping,\n          draggingOver: _draggingOver,\n          combineWith: _combineWith,\n          mode: _mode,\n          forceShouldAnimate: null,\n          snapshot: getDraggingSnapshot(_mode, _draggingOver, _combineWith, dropping)\n        }\n      };\n    }\n    return null;\n  };\n  var secondarySelector = function secondarySelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id === ownProps.draggableId) {\n        return null;\n      }\n      return getSecondaryMovement(ownProps.draggableId, state.critical.draggable.id, state.impact);\n    }\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n      if (completed.result.draggableId === ownProps.draggableId) {\n        return null;\n      }\n      return getSecondaryMovement(ownProps.draggableId, completed.result.draggableId, completed.impact);\n    }\n    return null;\n  };\n  var selector = function selector(state, ownProps) {\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || defaultMapProps;\n  };\n  return selector;\n};\nvar mapDispatchToProps$1 = {\n  lift: lift,\n  move: move,\n  moveUp: moveUp,\n  moveDown: moveDown,\n  moveLeft: moveLeft,\n  moveRight: moveRight,\n  moveByWindowScroll: moveByWindowScroll,\n  drop: drop,\n  dropAnimationFinished: dropAnimationFinished\n};\nvar defaultProps$1 = {\n  isDragDisabled: false,\n  disableInteractiveElementBlocking: false,\n  shouldRespectForcePress: false\n};\nvar ConnectedDraggable = connect(makeMapStateToProps$1, mapDispatchToProps$1, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Draggable);\nConnectedDraggable.defaultProps = defaultProps$1;\nexport { DragDropContext, ConnectedDraggable as Draggable, ConnectedDroppable as Droppable, resetServerContext };","map":{"version":3,"names":["_extends","React","useLayoutEffect","useEffect","useRef","useContext","useState","useMemo","useCallback","_inheritsLoose","invariant","createStore","createStore$1","applyMiddleware","compose","bindActionCreators","Provider","connect","getRect","expand","offset","withScroll","createBox","getBox","calculateBox","memoizeOne","_Object$values","_Object$keys","_Date$now","rafSchd","_Object$assign","_Number$isInteger","isProduction","process","env","NODE_ENV","spacesAndTabs","lineStartWithSpaces","clean","value","replace","trim","getDevMessage","message","getFormattedMessage","isDisabledFlag","warning","_console","window","console","warn","apply","printFatalError","error","shouldRecover","indexOf","ErrorBoundary","_React$Component","_this","_len","arguments","length","args","Array","_key","call","concat","onError","setOnError","fn","onFatalError","setState","_proto","prototype","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","componentDidCatch","render","props","children","Component","origin","x","y","add","point1","point2","subtract","isEqual","negate","point","patch","line","otherValue","_ref","distance","Math","sqrt","pow","closest","target","points","min","map","executeClip","frame","subject","result","top","max","right","bottom","left","width","height","isEqual$1","first","second","offsetByPosition","spacing","getCorners","noSpacing","scroll","diff","displacement","increase","axis","withPlaceholder","increasedBy","_extends2","end","clip","shouldClipSubject","pageMarginBox","getSubject","page","scrolled","marginBox","increased","clipped","active","scrollDroppable","droppable","newScroll","scrollable","scrollDiff","initial","scrollDisplacement","current","records","isEnabled","isTimingsEnabled","start","key","now","performance","finish","previous","rounded","toFixed","style","textColor","symbol","log","whatIsDraggedOver","impact","merge","destination","droppableId","combine","values","findIndex","list","predicate","i","find","index","undefined","toDroppableMap","droppables","reduce","descriptor","id","toDraggableMap","draggables","toDroppableList","toDraggableList","isWithin","lowerBound","upperBound","isPositionInFrame","isWithinVertical","isWithinHorizontal","getDroppableOver","maybe","getDraggablesInsideDroppable","filter","draggable","sort","a","b","withDroppableScroll","vertical","direction","crossAxisLine","size","crossAxisStart","crossAxisEnd","crossAxisSize","horizontal","isUserMovingForward","didStartDisplaced","draggableId","onLift","Boolean","wasDisplaced","getCombinedItemDisplacement","displaced","combineWith","displacedBy","isDisplaced","getWhenEntered","oldMerge","whenEntered","isCombiningWith","currentCenter","borderBox","displaceBy","currentUserDirection","twoThirdsOfSize","isMovingForward","targetCenter","getCombineImpact","_ref2","pageBorderBoxCenterWithDroppableScrollChange","previousImpact","insideDestinationWithoutDraggable","userDirection","isCombineEnabled","movement","canBeDisplacedBy","child","withMerge","isPartiallyVisibleThroughFrame","isContained","isPartiallyVisibleVertically","isPartiallyVisibleHorizontally","isPartiallyContained","isBiggerVertically","isBiggerHorizontally","isTargetBiggerThanFrame","isTargetBiggerOnOneAxis","isTotallyVisibleThroughFrame","isTotallyVisibleThroughFrameOnAxis","getDroppableDisplaced","isVisibleInDroppable","isVisibleThroughFrameFn","isVisibleInViewport","viewport","isVisible","toBeDisplaced","withDroppableDisplacement","displacedTarget","isPartiallyVisible","isTotallyVisible","isTotallyVisibleOnAxis","getShouldAnimate","forceShouldAnimate","shouldAnimate","getTarget","expandBy","getDisplacement","getDisplacementMap","getDisplacedBy","getReorderImpact","didStartDisplaced$1","dimension","newIndex","noDisplacedBy","noMovement","noImpact","removeDraggableFromList","remove","item","getDragImpact","pageBorderBoxCenter","destinationId","insideDestination","getHomeLocation","getHomeOnLift","home","insideHome","originallyDisplaced","slice","getDragPositions","oldInitial","oldCurrent","oldClientBorderBoxCenter","newClientBorderBoxCenter","shift","client","selection","borderBoxCenter","reverse","offsetDraggable","offset$1","initialWindowScroll","moved","placeholder","adjustExistingForAdditionsAndRemovals","existing","addedDraggables","additions","removedDraggables","removals","shifted","forEach","original","toShift","addShift","indexChange","withRemovals","isBeingRemoved","sibling","withAdditions","splice","additionMap","wasAdded","updated","adjustAdditionsForScrollChanges","updatedDroppables","windowScrollChange","modified","droppableScrollChange","totalChange","adjustAdditionsForCollapsedHome","dragging","updateDraggables","criticalId","unmodifiedExisting","unmodifiedAdditions","scrolledAdditions","getMaxScroll","scrollHeight","scrollWidth","maxScroll","adjustedMaxScroll","getDroppableDimension","isFixedOnPage","scrollSize","frameClient","paddingBox","isHomeOf","getRequiredGrowthForPlaceholder","placeholderSize","availableSpace","contentBox","insideDroppable","spaceUsed","sum","requiredSpace","needsToGrowBy","withMaxScroll","addPlaceholder","requiredGrowth","added","oldFrameMaxScroll","_subject","newFrame","removePlaceholder","_subject2","oldMaxScroll","getFrame","throwIfSpacingChange","old","fresh","getMessage","spacingType","margin","border","padding","adjustBorderBoxSize","updateDroppables","adjusted","provided","raw","hasPlaceholder","oldClient","newClient","oldScrollable","newScrollable","isFrameEqual","withSizeChanged","withNoAnimatedDisplacement","withoutAnimation","patchDroppableMap","clearUnusedPlaceholder","last","lastDroppable","recomputePlaceholders","cleaned","isOver","patched","timingsKey","publishWhileDragging","_extends3","state","published","dimensions","critical","_getDragPositions","center","_getHomeOnLift","homeImpact","isOrphaned","movementMode","draggingState","phase","onLiftImpact","dropPending","reason","isWaiting","forward","backward","moveToNextCombine","isInHomeList","originalInsideDestination","location","currentIndex","currentInsideDestination","shallow","targetIndex","addClosest","removeClosest","fromReorder","initialInside","isInForeignList","proposedIndex","modifyDisplacement","fromCombine","combineId","combineIndex","wasDisplacedAtStart","hasDisplacedFromStart","moveToNextIndex","instruction","lastDisplaced","withoutDraggable","atProposedIndex","whenCombining","distanceFromStartToBorderBoxCenter","box","distanceFromEndToBorderBoxCenter","getCrossAxisBorderBoxCenter","isMoving","goAfter","moveRelativeTo","goBefore","goIntoStart","_ref3","moveInto","whenReordering","draggablePage","closestAfter","withDisplacement","getResultWithoutDroppableDisplacement","getPageBorderBoxCenterFromImpact","withoutDisplacement","scrollViewport","withNewDisplacement","speculativelyIncrease","maxScrollChange","scrolledViewport","scrolledDroppable","entry","withScrolledViewport","withScrolledDroppable","withViewportDisplacement","getClientFromPageBorderBoxCenter","withoutPageScrollChange","isTotallyVisibleInNewLocation","newPageBorderBoxCenter","_ref$onlyOnMainAxis","onlyOnMainAxis","changeNeeded","moveToNextPlace","previousPageBorderBoxCenter","previousClientSelection","isVisibleInNewLocation","clientSelection","scrollJumpRequest","cautious","getKnownActive","rect","getBestCrossAxisDroppable","source","isBetweenSourceClipped","candidates","activeOfTarget","isBetweenDestinationClipped","array","contains","isWithinDroppable","getCurrentPageBorderBoxCenter","getCurrentPageBorderBox","getClosestDraggable","sorted","distanceToA","distanceToB","moveToNewDroppable","proposed","proposedPageBorderBoxCenter","isGoingBeforeTarget","moveCrossAxis","getDroppableOver$1","moveInDirection","type","isActuallyOver","isMainAxisMovementAllowed","isMovingOnMainAxis","_state$dimensions","isMovementAllowed","getVertical","getHorizontal","getUserDirection","oldPageBorderBoxCenter","update","forcedClientSelection","forcedDimensions","forcedViewport","forcedImpact","currentWindowScroll","newImpact","withUpdatedPlaceholders","recompute","getClientBorderBoxCenter","refreshSnap","needsVisibilityCheck","patchDimensionMap","isSnapping","postDroppableChange","isEnabledChanging","idle","completed","shouldFlush","reducer","action","payload","_action$payload","isWindowScrollAllowed","every","isDragging","_result","_clientSelection","_action$payload2","_action$payload3","_id","_target","String","_action$payload4","_id2","_target2","_updated","_viewport","_result2","newState","_action$payload5","dropDuration","newHomeClientOffset","_result3","_action$payload6","_completed","lift","initialPublish","publishWhileDragging$1","collectionStarting","updateDroppableScroll","updateDroppableIsEnabled","updateDroppableIsCombineEnabled","move","moveByWindowScroll","updateViewportMaxScroll","moveUp","moveDown","moveRight","moveLeft","clean$1","animateDrop","completeDrop","drop","dropAnimationFinished","lift$1","marshal","getState","dispatch","next","scrollOptions","shouldPublishImmediately","request","_marshal$startPublish","startPublishing","dropping","resting","curves","outOfTheWay","opacity","combining","scale","timings","minDropTime","maxDropTime","outOfTheWayTiming","transitions","fluid","snap","duration","timing","moveTo","transforms","isCombining","translate","dropTimeRange","maxDropTimeAtDistance","cancelDropModifier","getDropDuration","distance$1","percentage","withDuration","Number","getNewHomeClientOffset","newClientCenter","getDropImpact","lastImpact","didDropInsideDroppable","withoutMovement","drop$1","isWaitingForDrop","_getDropImpact","mode","isAnimationRequired","position","onDragStart","withLocation","startPosition","endPosition","withCombine","inHomeList","onDragUpdate","returnedToStart","onDragEnd","preset","getExpiringAnnounce","announce","wasCalled","isExpired","timeoutId","setTimeout","clearTimeout","getAsyncMarshal","entries","execute","timerId","_entries$splice","callback","push","flush","areLocationsEqual","isCombineEqual","isCriticalEqual","isDraggableEqual","isDroppableEqual","withTimings","getDragStart","responder","data","getDefaultMessage","willExpire","getPublisher","getResponders","asyncMarshal","beforeStart","onBeforeDragStart","lastCritical","lastLocation","lastCombine","hasCriticalChanged","hasLocationChanged","hasGroupingChanged","abort","responders","publisher","store","dropAnimationFinish","dimensionMarshalStopper","stopPublishing","shouldEnd","shouldCancelPending","autoScroll","autoScroller","stop","cancelPending","pendingDrop","postActionState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","dimensionMarshal","styleMarshal","clean$2","timingKey","createPublisher","getEntries","callbacks","advancedUsageWarning","hasAnnounced","staging","frameId","collect","requestAnimationFrame","getCritical","_staging","getDimension","isHome","options","withoutPlaceholder","recollect","publish","cancelAnimationFrame","getWindowScroll","pageXOffset","pageYOffset","getDocumentElement","doc","document","documentElement","getMaxWindowScroll","clientWidth","clientHeight","getViewport","getInitialPublish","windowScroll","getDimensionAndWatchScroll","throwIfAddOrRemoveOfWrongType","collection","createDimensionMarshal","registerDraggable","updateDraggable","unregisterDraggable","registerDroppable","droppableCallbacks","unregisterDroppable","change","dragStopped","canStartDrag","scrollWindow","scrollBy","getScrollableDroppables","getScrollableDroppableOver","getBestScrollableDroppable","_dimension","config","startFromPercentage","maxScrollAtPercentage","maxPixelScroll","ease","durationDampening","stopDampeningAt","accelerateAt","getDistanceThresholds","container","startScrollingFrom","maxScrollValueAt","thresholds","getPercentage","startOfRange","endOfRange","range","currentInRange","minScroll","getValueFromDistance","distanceToEdge","percentageFromMaxScrollValueAt","percentageFromStartScrollingFrom","ceil","stopAt","dampenValueByTime","proposedScroll","dragStartTime","runTime","betweenAccelerateAtAndStopAtPercentage","getValue","shouldUseTimeDampening","getScrollOnAxis","distanceToEdges","isCloserToEnd","adjustForSizeLimits","isTooBigVertically","isTooBigHorizontally","clean$3","getScroll","required","limited","smallestSigned","getOverlap","getRemainder","targetScroll","overlap","canPartiallyScroll","rawMax","smallestChange","canScrollWindow","getWindowOverlap","canScrollDroppable","getDroppableOverlap","getWindowScrollChange","getDroppableScrollChange","scroll$1","_change","createFluidScroller","scheduleWindowScroll","scheduleDroppableScroll","tryScroll","_dragging","cancel","start$1","wasScrollNeeded","fakeScrollCallback","createJumpScroller","moveByOffset","scrollDroppableAsMuchAsItCan","whatTheDroppableCanScroll","remainder","scrollWindowAsMuchAsItCan","whatTheWindowCanScroll","jumpScroller","droppableRemainder","windowRemainder","createAutoScroller","fluidScroller","jumpScroll","scroller","prefix","dragHandle","makeGetSelector","context","attribute","getStyles","rules","property","rule","styles","selector","join","noPointerEvents","getStyles$1","uniqueContext","getSelector","dragHandle$1","grabCursor","always","dropAnimating","draggable$1","transition","userCancel","droppable$1","body","useIsomorphicLayoutEffect","getHead","head","querySelector","createStyleEl","el","createElement","useStyleMarshal","uniqueId","alwaysRef","dynamicRef","setDynamicStyle","textContent","setAlwaysStyle","dynamic","setAttribute","appendChild","ref","removeChild","styleContext","StoreContext","createContext","getBodyElement","visuallyHidden","overflow","getId","useAnnouncer","toBeRemoved","AppContext","peerDependencies","react","semver","getVersion","exec","major","minor","isSatisfied","expected","actual","checkReactVersion","peerDepValue","actualValue","peerDep","suffix","checkDoctype","doctype","name","toLowerCase","publicId","useStartupValidation","version","usePrevious","createResponders","getStore","lazyRef","App","lazyStoreRef","lastPropsRef","lazyDispatch","tryResetStore","getCanLift","getIsMovementAllowed","appContext","canLift","instanceCount","resetServerContext","DragDropContext","isEqual$2","base","isScroll","isAuto","isVisible$1","isEither","overflowX","overflowY","isBoth","isElementScrollable","getComputedStyle","isBodyScrollable","html","htmlStyle","htmlOverflow","getClosestScrollable","parentElement","checkForNestedScrollContainers","anotherScrollParent","getScroll$1","scrollLeft","scrollTop","getIsFixed","getEnv","closestScrollable","getClient","targetRef","isDropDisabled","display","immediate","passive","delayed","getListenerOptions","useRequiredContext","Context","getClosestScrollableFromDrag","useDroppableDimensionPublisher","whileDraggingRef","previousRef","publishedDescriptorRef","memoizedUpdateScroll","getClosestScroll","updateScroll","scheduleScrollUpdate","onClosestScroll","getDroppableRef","ignoreContainerClipping","getPlaceholderRef","noop","empty","getSize","isAnimatingOpenOnMount","animate","getStyle","boxSizing","marginTop","marginRight","marginBottom","marginLeft","flexShrink","flexGrow","pointerEvents","Placeholder","animateOpenTimerRef","tryClearAnimateOpenTimer","onTransitionEnd","onClose","_useState","setIsAnimatingOpenOnMount","onSizeChangeEnd","event","propertyName","tagName","innerRef","Placeholder$1","memo","DroppableContext","getWindowFromEl","ownerDocument","defaultView","isHtmlElement","HTMLElement","checkIsValidInnerRef","checkOwnProps","checkPlaceholderRef","placeholderEl","useValidation","AnimateInOut","_React$PureComponent","on","getDerivedStateFromProps","PureComponent","Droppable","droppableRef","placeholderRef","snapshot","setDroppableRef","setPlaceholderRef","onPlaceholderTransitionEnd","shouldAnimatePlaceholder","droppableProps","droppableContext","isStrictEqual","whatIsDraggedOverFromResult","isMatchingType","getDraggable","makeMapStateToProps","isDraggingOver","draggingOverWith","draggingFromThisWith","idleWithoutAnimation","getMapProps","getSnapshot","ownProps","_snapshot","wasOver","wasCombining","mapDispatchToProps","defaultProps","ConnectedDroppable","pure","areStatePropsEqual","zIndexOptions","getDraggingTransition","shouldAnimateDragMovement","getDraggingOpacity","isDropAnimating","getShouldDraggingAnimate","getDraggingStyle","transform","zIndex","getSecondaryStyle","secondary","shouldAnimateDisplacement","getStyle$1","mapped","createEventMarshal","isMouseDownHandled","handle","isHandled","reset","getOptions","shared","fromBinding","bindEvents","bindings","sharedOptions","binding","eventName","unbindEvents","createScheduler","memoizedMove","onMove","onMoveUp","onMoveDown","onMoveRight","onMoveLeft","windowScrollMove","onWindowScroll","tab","enter","escape","space","pageUp","pageDown","arrowLeft","arrowUp","arrowRight","arrowDown","supportedEventName","supported","capture","createPostDragEventPreventer","getWindow","isBound","bind","unbind","preventDefault","preventNext","preventer","sloppyClickThreshold","isSloppyClickThresholdExceeded","abs","_preventedKeys","preventedKeys","preventStandardKeyEvents","keyCode","primaryButton","noop$1","mouseDownMarshal","useMouseSensor","canStartCapturing","onCaptureStart","onCaptureEnd","pendingRef","isDraggingRef","unbindWindowEventsRef","getIsCapturing","schedule","postDragEventPreventer","shouldBlockClick","wasDragging","onCancel","startDragging","pending","windowBindings","button","clientX","clientY","onDrop","currentTarget","bindWindowEvents","win","startPendingDrag","onMouseDown","ctrlKey","metaKey","shiftKey","altKey","isElement","Element","interactiveTagNames","input","textarea","select","option","optgroup","video","audio","isAnInteractiveElement","parent","hasAnInteractiveTag","getAttribute","shouldAllowDraggingFromTarget","canDragInteractiveElements","getBorderBoxCenterPosition","getBoundingClientRect","_scrollJumpKeys","scrollJumpKeys","noop$2","useKeyboardSensor","getDraggableRef","getIsDragging","onKeyDown","defaultPrevented","timeForLongPress","forcePressThreshold","touchStartMarshal","noop$3","useTouchSensor","getShouldRespectForcePress","hasMovedRef","postDragClickPreventer","longPressTimerId","touch","touches","isForcePress","force","shouldRespect","onTouchStart","webkitHack","isSvgElement","SVGElement","throwIfSVG","getDragHandleRef","draggableRef","hasAttribute","useValidation$1","retainingFocusFor","listenerOptions","clearRetentionOnFocusChange","onWindowFocusChange","retain","tryRestoreFocus","dragHandleRef","focus","retainer","noop$4","useFocusRetainer","isFocusedRef","lastArgsRef","onFocus","onBlur","shouldRetainFocus","lastDraggableRef","preventHtml5Dnd","useDragHandle","capturingRef","abortCapture","_useRequiredContext","_useFocusRetainer","mouseArgs","keyboardArgs","touchArgs","tabIndex","getDimension$1","computedStyles","useDraggableDimensionPublisher","makeDimension","latest","checkOwnProps$1","isDragDisabled","checkForOutdatedProps","Object","hasOwnProperty","useValidation$2","getRef","Draggable","setRef","shouldRespectForcePress","disableInteractiveElementBlocking","moveUpAction","moveAction","dropAction","moveDownAction","moveRightAction","moveLeftAction","moveByWindowScrollAction","liftAction","dropAnimationFinishedAction","forPublisher","dragHandleArgs","dragHandleProps","onMoveEnd","draggableProps","getCombineWithFromResult","getCombineWithFromImpact","makeMapStateToProps$1","getDraggingSnapshot","draggingOver","dropAnimation","combineTargetFor","getSecondarySnapshot","defaultMapProps","memoizedOffset","getDraggingProps","getSecondaryProps","getSecondaryMovement","ownId","draggingId","isCombinedWith","draggingSelector","_mode","_draggingOver","_combineWith","curve","secondarySelector","mapDispatchToProps$1","defaultProps$1","ConnectedDraggable"],"sources":["/Users/tyna/code/select_critique_package/my_component/frontend/node_modules/react-beautiful-dnd-next/dist/react-beautiful-dnd.esm.js"],"sourcesContent":["import _extends from '@babel/runtime-corejs2/helpers/esm/extends';\nimport React, { useLayoutEffect, useEffect, useRef, useContext, useState } from 'react';\nimport { useMemo, useCallback } from 'use-memo-one';\nimport _inheritsLoose from '@babel/runtime-corejs2/helpers/esm/inheritsLoose';\nimport invariant from 'tiny-invariant';\nimport { createStore as createStore$1, applyMiddleware, compose, bindActionCreators } from 'redux';\nimport { Provider, connect } from 'react-redux';\nimport { getRect, expand, offset, withScroll, createBox, getBox, calculateBox } from 'css-box-model';\nimport memoizeOne from 'memoize-one';\nimport _Object$values from '@babel/runtime-corejs2/core-js/object/values';\nimport _Object$keys from '@babel/runtime-corejs2/core-js/object/keys';\nimport _Date$now from '@babel/runtime-corejs2/core-js/date/now';\nimport rafSchd from 'raf-schd';\nimport _Object$assign from '@babel/runtime-corejs2/core-js/object/assign';\nimport _Number$isInteger from '@babel/runtime-corejs2/core-js/number/is-integer';\n\nvar isProduction = process.env.NODE_ENV === 'production';\nvar spacesAndTabs = /[ \\t]{2,}/g;\nvar lineStartWithSpaces = /^[ \\t]*/gm;\n\nvar clean = function clean(value) {\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n};\n\nvar getDevMessage = function getDevMessage(message) {\n  return clean(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\n};\n\nvar getFormattedMessage = function getFormattedMessage(message) {\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\n};\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\nvar warning = function warning(message) {\n  var _console;\n\n  if (isProduction) {\n    return;\n  }\n\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\n    return;\n  }\n\n  (_console = console).warn.apply(_console, getFormattedMessage(message));\n};\n\nfunction printFatalError(error) {\n  var _console;\n\n  if (process.env.NODE_ENV === 'production') {\n    return;\n  }\n\n  (_console = console).error.apply(_console, getFormattedMessage(\"\\n        An error has occurred while a drag is occurring.\\n        Any existing drag will be cancelled.\\n\\n        > \" + error.message + \"\\n        \"));\n\n  console.error('raw', error);\n}\n\nfunction shouldRecover(error) {\n  return error.message.indexOf('Invariant failed') !== -1;\n}\n\nvar ErrorBoundary = function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.onError = void 0;\n\n    _this.setOnError = function (fn) {\n      _this.onError = fn;\n    };\n\n    _this.onFatalError = function (error) {\n      printFatalError(error);\n\n      if (_this.onError) {\n        _this.onError();\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning('Could not find recovering function') : void 0;\n      }\n\n      if (shouldRecover(error)) {\n        _this.setState({});\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('error', this.onFatalError);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('error', this.onFatalError);\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(error) {\n    this.onFatalError(error);\n\n    if (!shouldRecover(error)) {\n      throw error;\n    }\n  };\n\n  _proto.render = function render() {\n    return this.props.children(this.setOnError);\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n\nvar origin = {\n  x: 0,\n  y: 0\n};\nvar add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\nvar subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};\nvar isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\nvar negate = function negate(point) {\n  return {\n    x: point.x !== 0 ? -point.x : 0,\n    y: point.y !== 0 ? -point.y : 0\n  };\n};\nvar patch = function patch(line, value, otherValue) {\n  var _ref;\n\n  if (otherValue === void 0) {\n    otherValue = 0;\n  }\n\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\n};\nvar distance = function distance(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n};\nvar closest = function closest(target, points) {\n  return Math.min.apply(Math, points.map(function (point) {\n    return distance(target, point);\n  }));\n};\nvar apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\n\nvar executeClip = (function (frame, subject) {\n  var result = getRect({\n    top: Math.max(subject.top, frame.top),\n    right: Math.min(subject.right, frame.right),\n    bottom: Math.min(subject.bottom, frame.bottom),\n    left: Math.max(subject.left, frame.left)\n  });\n\n  if (result.width <= 0 || result.height <= 0) {\n    return null;\n  }\n\n  return result;\n});\n\nvar isEqual$1 = function isEqual(first, second) {\n  return first.top === second.top && first.right === second.right && first.bottom === second.bottom && first.left === second.left;\n};\nvar offsetByPosition = function offsetByPosition(spacing, point) {\n  return {\n    top: spacing.top + point.y,\n    left: spacing.left + point.x,\n    bottom: spacing.bottom + point.y,\n    right: spacing.right + point.x\n  };\n};\nvar getCorners = function getCorners(spacing) {\n  return [{\n    x: spacing.left,\n    y: spacing.top\n  }, {\n    x: spacing.right,\n    y: spacing.top\n  }, {\n    x: spacing.left,\n    y: spacing.bottom\n  }, {\n    x: spacing.right,\n    y: spacing.bottom\n  }];\n};\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\n\nvar scroll = function scroll(target, frame) {\n  if (!frame) {\n    return target;\n  }\n\n  return offsetByPosition(target, frame.scroll.diff.displacement);\n};\n\nvar increase = function increase(target, axis, withPlaceholder) {\n  if (withPlaceholder && withPlaceholder.increasedBy) {\n    var _extends2;\n\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\n  }\n\n  return target;\n};\n\nvar clip = function clip(target, frame) {\n  if (frame && frame.shouldClipSubject) {\n    return executeClip(frame.pageMarginBox, target);\n  }\n\n  return getRect(target);\n};\n\nvar getSubject = (function (_ref) {\n  var page = _ref.page,\n      withPlaceholder = _ref.withPlaceholder,\n      axis = _ref.axis,\n      frame = _ref.frame;\n  var scrolled = scroll(page.marginBox, frame);\n  var increased = increase(scrolled, axis, withPlaceholder);\n  var clipped = clip(increased, frame);\n  return {\n    page: page,\n    withPlaceholder: withPlaceholder,\n    active: clipped\n  };\n});\n\nvar scrollDroppable = (function (droppable, newScroll) {\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var scrollable = droppable.frame;\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\n  var scrollDisplacement = negate(scrollDiff);\n\n  var frame = _extends({}, scrollable, {\n    scroll: {\n      initial: scrollable.scroll.initial,\n      current: newScroll,\n      diff: {\n        value: scrollDiff,\n        displacement: scrollDisplacement\n      },\n      max: scrollable.scroll.max\n    }\n  });\n\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: droppable.subject.withPlaceholder,\n    axis: droppable.axis,\n    frame: frame\n  });\n\n  var result = _extends({}, droppable, {\n    frame: frame,\n    subject: subject\n  });\n\n  return result;\n});\n\nvar records = {};\nvar isEnabled = false;\n\nvar isTimingsEnabled = function isTimingsEnabled() {\n  return isEnabled;\n};\nvar start = function start(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    records[key] = now;\n  }\n};\nvar finish = function finish(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    var previous = records[key];\n\n    if (!previous) {\n      console.warn('cannot finish timing as no previous time found', key);\n      return;\n    }\n\n    var result = now - previous;\n    var rounded = result.toFixed(2);\n\n    var style = function () {\n      if (result < 12) {\n        return {\n          textColor: 'green',\n          symbol: '✅'\n        };\n      }\n\n      if (result < 40) {\n        return {\n          textColor: 'orange',\n          symbol: '⚠️'\n        };\n      }\n\n      return {\n        textColor: 'red',\n        symbol: '❌'\n      };\n    }();\n\n    console.log(style.symbol + \" %cTiming %c\" + rounded + \" %cms %c\" + key, 'color: blue; font-weight: bold;', \"color: \" + style.textColor + \"; font-size: 1.1em;\", 'color: grey;', 'color: purple; font-weight: bold;');\n  }\n};\n\nvar whatIsDraggedOver = (function (impact) {\n  var merge = impact.merge,\n      destination = impact.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (merge) {\n    return merge.combine.droppableId;\n  }\n\n  return null;\n});\n\nfunction values(map) {\n  return _Object$values(map);\n}\nfunction findIndex(list, predicate) {\n  if (list.findIndex) {\n    return list.findIndex(predicate);\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    if (predicate(list[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\nfunction find(list, predicate) {\n  if (list.find) {\n    return list.find(predicate);\n  }\n\n  var index = findIndex(list, predicate);\n\n  if (index !== -1) {\n    return list[index];\n  }\n\n  return undefined;\n}\n\nvar toDroppableMap = memoizeOne(function (droppables) {\n  return droppables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDraggableMap = memoizeOne(function (draggables) {\n  return draggables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDroppableList = memoizeOne(function (droppables) {\n  return values(droppables);\n});\nvar toDraggableList = memoizeOne(function (draggables) {\n  return values(draggables);\n});\n\nvar isWithin = (function (lowerBound, upperBound) {\n  return function (value) {\n    return lowerBound <= value && value <= upperBound;\n  };\n});\n\nvar isPositionInFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (point) {\n    return isWithinVertical(point.y) && isWithinVertical(point.y) && isWithinHorizontal(point.x) && isWithinHorizontal(point.x);\n  };\n});\n\nvar getDroppableOver = (function (_ref) {\n  var target = _ref.target,\n      droppables = _ref.droppables;\n  var maybe = find(toDroppableList(droppables), function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    var active = droppable.subject.active;\n\n    if (!active) {\n      return false;\n    }\n\n    return isPositionInFrame(active)(target);\n  });\n  return maybe ? maybe.descriptor.id : null;\n});\n\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\n  var result = toDraggableList(draggables).filter(function (draggable) {\n    return droppableId === draggable.descriptor.droppableId;\n  }).sort(function (a, b) {\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return result;\n});\n\nvar withDroppableScroll = (function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.value);\n});\n\nvar vertical = {\n  direction: 'vertical',\n  line: 'y',\n  crossAxisLine: 'x',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  crossAxisStart: 'left',\n  crossAxisEnd: 'right',\n  crossAxisSize: 'width'\n};\nvar horizontal = {\n  direction: 'horizontal',\n  line: 'x',\n  crossAxisLine: 'y',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  crossAxisStart: 'top',\n  crossAxisEnd: 'bottom',\n  crossAxisSize: 'height'\n};\n\nvar isUserMovingForward = (function (axis, direction) {\n  return axis === vertical ? direction.vertical === 'down' : direction.horizontal === 'right';\n});\n\nvar didStartDisplaced = (function (draggableId, onLift) {\n  return Boolean(onLift.wasDisplaced[draggableId]);\n});\n\nvar getCombinedItemDisplacement = (function (_ref) {\n  var displaced = _ref.displaced,\n      onLift = _ref.onLift,\n      combineWith = _ref.combineWith,\n      displacedBy = _ref.displacedBy;\n  var isDisplaced = Boolean(displaced[combineWith]);\n\n  if (didStartDisplaced(combineWith, onLift)) {\n    return isDisplaced ? origin : negate(displacedBy.point);\n  }\n\n  return isDisplaced ? displacedBy.point : origin;\n});\n\nvar getWhenEntered = function getWhenEntered(id, current, oldMerge) {\n  if (!oldMerge) {\n    return current;\n  }\n\n  if (id !== oldMerge.combine.draggableId) {\n    return current;\n  }\n\n  return oldMerge.whenEntered;\n};\n\nvar isCombiningWith = function isCombiningWith(_ref) {\n  var id = _ref.id,\n      currentCenter = _ref.currentCenter,\n      axis = _ref.axis,\n      borderBox = _ref.borderBox,\n      displaceBy = _ref.displaceBy,\n      currentUserDirection = _ref.currentUserDirection,\n      oldMerge = _ref.oldMerge;\n  var start = borderBox[axis.start] + displaceBy[axis.line];\n  var end = borderBox[axis.end] + displaceBy[axis.line];\n  var size = borderBox[axis.size];\n  var twoThirdsOfSize = size * 0.666;\n  var whenEntered = getWhenEntered(id, currentUserDirection, oldMerge);\n  var isMovingForward = isUserMovingForward(axis, whenEntered);\n  var targetCenter = currentCenter[axis.line];\n\n  if (isMovingForward) {\n    return isWithin(start, start + twoThirdsOfSize)(targetCenter);\n  }\n\n  return isWithin(end - twoThirdsOfSize, end)(targetCenter);\n};\n\nvar getCombineImpact = (function (_ref2) {\n  var currentCenter = _ref2.pageBorderBoxCenterWithDroppableScrollChange,\n      previousImpact = _ref2.previousImpact,\n      destination = _ref2.destination,\n      insideDestinationWithoutDraggable = _ref2.insideDestinationWithoutDraggable,\n      userDirection = _ref2.userDirection,\n      onLift = _ref2.onLift;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var axis = destination.axis;\n  var map = previousImpact.movement.map;\n  var canBeDisplacedBy = previousImpact.movement.displacedBy;\n  var oldMerge = previousImpact.merge;\n  var target = find(insideDestinationWithoutDraggable, function (child) {\n    var id = child.descriptor.id;\n    var displaceBy = getCombinedItemDisplacement({\n      displaced: map,\n      onLift: onLift,\n      combineWith: id,\n      displacedBy: canBeDisplacedBy\n    });\n    return isCombiningWith({\n      id: id,\n      currentCenter: currentCenter,\n      axis: axis,\n      borderBox: child.page.borderBox,\n      displaceBy: displaceBy,\n      currentUserDirection: userDirection,\n      oldMerge: oldMerge\n    });\n  });\n\n  if (!target) {\n    return null;\n  }\n\n  var merge = {\n    whenEntered: getWhenEntered(target.descriptor.id, userDirection, oldMerge),\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n\n  var withMerge = _extends({}, previousImpact, {\n    destination: null,\n    merge: merge\n  });\n\n  return withMerge;\n});\n\nvar isPartiallyVisibleThroughFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n\n    if (isContained) {\n      return true;\n    }\n\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\n\n    if (isPartiallyContained) {\n      return true;\n    }\n\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\n\n    if (isTargetBiggerThanFrame) {\n      return true;\n    }\n\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\n    return isTargetBiggerOnOneAxis;\n  };\n});\n\nvar isTotallyVisibleThroughFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    return isContained;\n  };\n});\n\nvar isTotallyVisibleThroughFrameOnAxis = (function (axis) {\n  return function (frame) {\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\n    return function (subject) {\n      if (axis === vertical) {\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\n      }\n\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    };\n  };\n});\n\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\n  return offsetByPosition(target, displacement);\n};\n\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\n  if (!destination.subject.active) {\n    return false;\n  }\n\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\n};\n\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\n  return isVisibleThroughFrameFn(viewport)(target);\n};\n\nvar isVisible = function isVisible(_ref) {\n  var toBeDisplaced = _ref.target,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\n};\n\nvar isPartiallyVisible = function isPartiallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisible = function isTotallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\n  }));\n};\n\nvar getShouldAnimate = function getShouldAnimate(forceShouldAnimate, isVisible, previous) {\n  if (typeof forceShouldAnimate === 'boolean') {\n    return forceShouldAnimate;\n  }\n\n  if (!isVisible) {\n    return false;\n  }\n\n  if (!previous) {\n    return true;\n  }\n\n  return previous.shouldAnimate;\n};\n\nvar getTarget = function getTarget(draggable, onLift) {\n  var marginBox = draggable.page.marginBox;\n\n  if (!didStartDisplaced(draggable.descriptor.id, onLift)) {\n    return marginBox;\n  }\n\n  var expandBy = {\n    top: onLift.displacedBy.point.y,\n    right: 0,\n    bottom: 0,\n    left: onLift.displacedBy.point.x\n  };\n  return getRect(expand(marginBox, expandBy));\n};\n\nvar getDisplacement = (function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var id = draggable.descriptor.id;\n  var map = previousImpact.movement.map;\n  var target = getTarget(draggable, onLift);\n  var isVisible = isPartiallyVisible({\n    target: target,\n    destination: destination,\n    viewport: viewport,\n    withDroppableDisplacement: true\n  });\n  var shouldAnimate = getShouldAnimate(forceShouldAnimate, isVisible, map[id]);\n  var displacement = {\n    draggableId: id,\n    isVisible: isVisible,\n    shouldAnimate: shouldAnimate\n  };\n  return displacement;\n});\n\nvar getDisplacementMap = memoizeOne(function (displaced) {\n  return displaced.reduce(function (map, displacement) {\n    map[displacement.draggableId] = displacement;\n    return map;\n  }, {});\n});\n\nvar getDisplacedBy = memoizeOne(function (axis, displaceBy) {\n  var displacement = displaceBy[axis.line];\n  return {\n    value: displacement,\n    point: patch(axis.line, displacement)\n  };\n});\n\nvar getReorderImpact = (function (_ref) {\n  var currentCenter = _ref.pageBorderBoxCenterWithDroppableScrollChange,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      insideDestinationWithoutDraggable = _ref.insideDestinationWithoutDraggable,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      userDirection = _ref.userDirection,\n      onLift = _ref.onLift;\n  var axis = destination.axis;\n  var isMovingForward = isUserMovingForward(destination.axis, userDirection);\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var targetCenter = currentCenter[axis.line];\n  var displacement = displacedBy.value;\n  var displaced = insideDestinationWithoutDraggable.filter(function (child) {\n    var borderBox = child.page.borderBox;\n    var start = borderBox[axis.start];\n    var end = borderBox[axis.end];\n    var didStartDisplaced$1 = didStartDisplaced(child.descriptor.id, onLift);\n\n    if (isMovingForward) {\n      if (didStartDisplaced$1) {\n        return targetCenter < start;\n      }\n\n      return targetCenter < start + displacement;\n    }\n\n    if (didStartDisplaced$1) {\n      return targetCenter <= end - displacement;\n    }\n\n    return targetCenter <= end;\n  }).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      previousImpact: previousImpact,\n      viewport: viewport.frame,\n      onLift: onLift\n    });\n  });\n  var newIndex = insideDestinationWithoutDraggable.length - displaced.length;\n  var movement = {\n    displacedBy: displacedBy,\n    displaced: displaced,\n    map: getDisplacementMap(displaced)\n  };\n  var impact = {\n    movement: movement,\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: newIndex\n    },\n    merge: null\n  };\n  return impact;\n});\n\nvar noDisplacedBy = {\n  point: origin,\n  value: 0\n};\nvar noMovement = {\n  displaced: [],\n  map: {},\n  displacedBy: noDisplacedBy\n};\nvar noImpact = {\n  movement: noMovement,\n  destination: null,\n  merge: null\n};\n\nvar removeDraggableFromList = memoizeOne(function (remove, list) {\n  return list.filter(function (item) {\n    return item.descriptor.id !== remove.descriptor.id;\n  });\n});\n\nvar getDragImpact = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      userDirection = _ref.userDirection,\n      onLift = _ref.onLift;\n  var destinationId = getDroppableOver({\n    target: pageBorderBoxCenter,\n    droppables: droppables\n  });\n\n  if (!destinationId) {\n    return noImpact;\n  }\n\n  var destination = droppables[destinationId];\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var insideDestinationWithoutDraggable = removeDraggableFromList(draggable, insideDestination);\n  var pageBorderBoxCenterWithDroppableScrollChange = withDroppableScroll(destination, pageBorderBoxCenter);\n  var withMerge = getCombineImpact({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    previousImpact: previousImpact,\n    destination: destination,\n    insideDestinationWithoutDraggable: insideDestinationWithoutDraggable,\n    userDirection: userDirection,\n    onLift: onLift\n  });\n\n  if (withMerge) {\n    return withMerge;\n  }\n\n  return getReorderImpact({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    destination: destination,\n    draggable: draggable,\n    insideDestinationWithoutDraggable: insideDestinationWithoutDraggable,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    userDirection: userDirection,\n    onLift: onLift\n  });\n});\n\nvar getHomeLocation = (function (descriptor) {\n  return {\n    index: descriptor.index,\n    droppableId: descriptor.droppableId\n  };\n});\n\nvar getHomeOnLift = (function (_ref) {\n  var draggable = _ref.draggable,\n      home = _ref.home,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy);\n  var insideHome = getDraggablesInsideDroppable(home.descriptor.id, draggables);\n  var originallyDisplaced = insideHome.slice(draggable.descriptor.index + 1);\n  var wasDisplaced = originallyDisplaced.reduce(function (previous, item) {\n    previous[item.descriptor.id] = true;\n    return previous;\n  }, {});\n  var onLift = {\n    displacedBy: displacedBy,\n    wasDisplaced: wasDisplaced\n  };\n  var displaced = originallyDisplaced.map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: home,\n      previousImpact: noImpact,\n      viewport: viewport.frame,\n      forceShouldAnimate: false,\n      onLift: onLift\n    });\n  });\n  var movement = {\n    displaced: displaced,\n    map: getDisplacementMap(displaced),\n    displacedBy: displacedBy\n  };\n  var impact = {\n    movement: movement,\n    destination: getHomeLocation(draggable.descriptor),\n    merge: null\n  };\n  return {\n    impact: impact,\n    onLift: onLift\n  };\n});\n\nvar getDragPositions = (function (_ref) {\n  var oldInitial = _ref.initial,\n      oldCurrent = _ref.current,\n      oldClientBorderBoxCenter = _ref.oldClientBorderBoxCenter,\n      newClientBorderBoxCenter = _ref.newClientBorderBoxCenter,\n      viewport = _ref.viewport;\n  var shift = subtract(newClientBorderBoxCenter, oldClientBorderBoxCenter);\n\n  var initial = function () {\n    var client = {\n      selection: add(oldInitial.client.selection, shift),\n      borderBoxCenter: newClientBorderBoxCenter,\n      offset: origin\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.initial),\n      borderBoxCenter: add(client.selection, viewport.scroll.initial)\n    };\n    return {\n      client: client,\n      page: page\n    };\n  }();\n\n  var current = function () {\n    var reverse = negate(shift);\n    var offset = add(oldCurrent.client.offset, reverse);\n    var client = {\n      selection: add(initial.client.selection, offset),\n      borderBoxCenter: add(initial.client.borderBoxCenter, offset),\n      offset: offset\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.current),\n      borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current)\n    };\n    !isEqual(oldCurrent.client.borderBoxCenter, client.borderBoxCenter) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n        Incorrect new client center position.\\n        Expected (\" + oldCurrent.client.borderBoxCenter.x + \", \" + oldCurrent.client.borderBoxCenter.y + \")\\n        to equal (\" + client.borderBoxCenter.x + \", \" + client.borderBoxCenter.y + \")\\n      \") : invariant(false) : void 0;\n    return {\n      client: client,\n      page: page\n    };\n  }();\n\n  return {\n    current: current,\n    initial: initial\n  };\n});\n\nvar offsetDraggable = (function (_ref) {\n  var draggable = _ref.draggable,\n      offset$1 = _ref.offset,\n      initialWindowScroll = _ref.initialWindowScroll;\n  var client = offset(draggable.client, offset$1);\n  var page = withScroll(client, initialWindowScroll);\n\n  var moved = _extends({}, draggable, {\n    placeholder: _extends({}, draggable.placeholder, {\n      client: client\n    }),\n    client: client,\n    page: page\n  });\n\n  return moved;\n});\n\nvar adjustExistingForAdditionsAndRemovals = (function (_ref) {\n  var existing = _ref.existing,\n      droppables = _ref.droppables,\n      addedDraggables = _ref.additions,\n      removedDraggables = _ref.removals,\n      viewport = _ref.viewport;\n  var shifted = {};\n  toDroppableList(droppables).forEach(function (droppable) {\n    var axis = droppable.axis;\n    var original = getDraggablesInsideDroppable(droppable.descriptor.id, existing);\n    var toShift = {};\n\n    var addShift = function addShift(id, shift) {\n      var previous = toShift[id];\n\n      if (!previous) {\n        toShift[id] = shift;\n        return;\n      }\n\n      toShift[id] = {\n        indexChange: previous.indexChange + shift.indexChange,\n        offset: add(previous.offset, shift.offset)\n      };\n    };\n\n    var removals = toDraggableMap(removedDraggables.map(function (id) {\n      var item = existing[id];\n      !item ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Could not find removed draggable \\\"\" + id + \"\\\"\") : invariant(false) : void 0;\n      return item;\n    }).filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    }));\n    var withRemovals = original.filter(function (item, index) {\n      var isBeingRemoved = Boolean(removals[item.descriptor.id]);\n\n      if (!isBeingRemoved) {\n        return true;\n      }\n\n      var offset = negate(patch(axis.line, item.displaceBy[axis.line]));\n      original.slice(index).forEach(function (sibling) {\n        if (removals[sibling.descriptor.id]) {\n          return;\n        }\n\n        addShift(sibling.descriptor.id, {\n          indexChange: -1,\n          offset: offset\n        });\n      });\n      return false;\n    });\n    var additions = addedDraggables.filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    });\n    var withAdditions = withRemovals.slice(0);\n    additions.forEach(function (item) {\n      withAdditions.splice(item.descriptor.index, 0, item);\n    });\n    var additionMap = toDraggableMap(additions);\n    withAdditions.forEach(function (item, index) {\n      var wasAdded = Boolean(additionMap[item.descriptor.id]);\n\n      if (!wasAdded) {\n        return;\n      }\n\n      var offset = patch(axis.line, item.client.marginBox[axis.size]);\n      withAdditions.slice(index).forEach(function (sibling) {\n        if (additionMap[sibling.descriptor.id]) {\n          return;\n        }\n\n        addShift(sibling.descriptor.id, {\n          indexChange: 1,\n          offset: offset\n        });\n      });\n    });\n    withAdditions.forEach(function (item) {\n      if (additionMap[item.descriptor.id]) {\n        return;\n      }\n\n      var shift = toShift[item.descriptor.id];\n\n      if (!shift) {\n        return;\n      }\n\n      var moved = offsetDraggable({\n        draggable: item,\n        offset: shift.offset,\n        initialWindowScroll: viewport.scroll.initial\n      });\n      var index = item.descriptor.index + shift.indexChange;\n\n      var updated = _extends({}, moved, {\n        descriptor: _extends({}, item.descriptor, {\n          index: index\n        })\n      });\n\n      shifted[moved.descriptor.id] = updated;\n    });\n  });\n\n  var map = _extends({}, existing, shifted);\n\n  return map;\n});\n\nvar adjustAdditionsForScrollChanges = (function (_ref) {\n  var additions = _ref.additions,\n      updatedDroppables = _ref.updatedDroppables,\n      viewport = _ref.viewport;\n  var windowScrollChange = viewport.scroll.diff.value;\n  return additions.map(function (draggable) {\n    var droppableId = draggable.descriptor.droppableId;\n    var modified = updatedDroppables[droppableId];\n    var frame = modified.frame;\n    !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n    var droppableScrollChange = frame.scroll.diff.value;\n    var totalChange = add(windowScrollChange, droppableScrollChange);\n    var moved = offsetDraggable({\n      draggable: draggable,\n      offset: totalChange,\n      initialWindowScroll: viewport.scroll.initial\n    });\n    return moved;\n  });\n});\n\nvar adjustAdditionsForCollapsedHome = (function (_ref) {\n  var additions = _ref.additions,\n      dragging = _ref.dragging,\n      home = _ref.home,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, dragging.displaceBy);\n  return additions.map(function (draggable) {\n    if (draggable.descriptor.droppableId !== home.descriptor.id) {\n      return draggable;\n    }\n\n    if (draggable.descriptor.index < dragging.descriptor.index) {\n      return draggable;\n    }\n\n    return offsetDraggable({\n      draggable: draggable,\n      offset: displacedBy.point,\n      initialWindowScroll: viewport.scroll.initial\n    });\n  });\n});\n\nvar updateDraggables = (function (_ref) {\n  var updatedDroppables = _ref.updatedDroppables,\n      criticalId = _ref.criticalId,\n      unmodifiedExisting = _ref.existing,\n      unmodifiedAdditions = _ref.additions,\n      removals = _ref.removals,\n      viewport = _ref.viewport;\n  var existing = adjustExistingForAdditionsAndRemovals({\n    droppables: updatedDroppables,\n    existing: unmodifiedExisting,\n    additions: unmodifiedAdditions,\n    removals: removals,\n    viewport: viewport\n  });\n  var dragging = existing[criticalId];\n  var home = updatedDroppables[dragging.descriptor.droppableId];\n  var scrolledAdditions = adjustAdditionsForScrollChanges({\n    additions: unmodifiedAdditions,\n    updatedDroppables: updatedDroppables,\n    viewport: viewport\n  });\n  var additions = adjustAdditionsForCollapsedHome({\n    additions: scrolledAdditions,\n    dragging: dragging,\n    home: home,\n    viewport: viewport\n  });\n\n  var map = _extends({}, existing, toDraggableMap(additions));\n\n  removals.forEach(function (id) {\n    delete map[id];\n  });\n  return map;\n});\n\nvar getMaxScroll = (function (_ref) {\n  var scrollHeight = _ref.scrollHeight,\n      scrollWidth = _ref.scrollWidth,\n      height = _ref.height,\n      width = _ref.width;\n  var maxScroll = subtract({\n    x: scrollWidth,\n    y: scrollHeight\n  }, {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n});\n\nvar getDroppableDimension = (function (_ref) {\n  var descriptor = _ref.descriptor,\n      isEnabled = _ref.isEnabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      isFixedOnPage = _ref.isFixedOnPage,\n      direction = _ref.direction,\n      client = _ref.client,\n      page = _ref.page,\n      closest = _ref.closest;\n\n  var frame = function () {\n    if (!closest) {\n      return null;\n    }\n\n    var scrollSize = closest.scrollSize,\n        frameClient = closest.client;\n    var maxScroll = getMaxScroll({\n      scrollHeight: scrollSize.scrollHeight,\n      scrollWidth: scrollSize.scrollWidth,\n      height: frameClient.paddingBox.height,\n      width: frameClient.paddingBox.width\n    });\n    return {\n      pageMarginBox: closest.page.marginBox,\n      frameClient: frameClient,\n      scrollSize: scrollSize,\n      shouldClipSubject: closest.shouldClipSubject,\n      scroll: {\n        initial: closest.scroll,\n        current: closest.scroll,\n        max: maxScroll,\n        diff: {\n          value: origin,\n          displacement: origin\n        }\n      }\n    };\n  }();\n\n  var axis = direction === 'vertical' ? vertical : horizontal;\n  var subject = getSubject({\n    page: page,\n    withPlaceholder: null,\n    axis: axis,\n    frame: frame\n  });\n  var dimension = {\n    descriptor: descriptor,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: isFixedOnPage,\n    axis: axis,\n    isEnabled: isEnabled,\n    client: client,\n    page: page,\n    frame: frame,\n    subject: subject\n  };\n  return dimension;\n});\n\nvar isHomeOf = (function (draggable, destination) {\n  return draggable.descriptor.droppableId === destination.descriptor.id;\n});\n\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\n  var axis = droppable.axis;\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\n    return sum + dimension.client.marginBox[axis.size];\n  }, 0);\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\n  var needsToGrowBy = requiredSpace - availableSpace;\n\n  if (needsToGrowBy <= 0) {\n    return null;\n  }\n\n  return patch(axis.line, needsToGrowBy);\n};\n\nvar withMaxScroll = function withMaxScroll(frame, max) {\n  return _extends({}, frame, {\n    scroll: _extends({}, frame.scroll, {\n      max: max\n    })\n  });\n};\n\nvar addPlaceholder = function addPlaceholder(droppable, draggable, draggables) {\n  var frame = droppable.frame;\n  !!isHomeOf(draggable, droppable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not add placeholder space to home list') : invariant(false) : void 0;\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\n  var placeholderSize = getDisplacedBy(droppable.axis, draggable.displaceBy).point;\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\n  var added = {\n    placeholderSize: placeholderSize,\n    increasedBy: requiredGrowth,\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\n  };\n\n  if (!frame) {\n    var _subject = getSubject({\n      page: droppable.subject.page,\n      withPlaceholder: added,\n      axis: droppable.axis,\n      frame: droppable.frame\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject\n    });\n  }\n\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\n  var newFrame = withMaxScroll(frame, maxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: added,\n    axis: droppable.axis,\n    frame: newFrame\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\nvar removePlaceholder = function removePlaceholder(droppable) {\n  var added = droppable.subject.withPlaceholder;\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    var _subject2 = getSubject({\n      page: droppable.subject.page,\n      axis: droppable.axis,\n      frame: null,\n      withPlaceholder: null\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject2\n    });\n  }\n\n  var oldMaxScroll = added.oldFrameMaxScroll;\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    axis: droppable.axis,\n    frame: newFrame,\n    withPlaceholder: null\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar getFrame = (function (droppable) {\n  var frame = droppable.frame;\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\n  return frame;\n});\n\nvar throwIfSpacingChange = function throwIfSpacingChange(old, fresh) {\n  if (process.env.NODE_ENV !== 'production') {\n    var getMessage = function getMessage(spacingType) {\n      return \"Cannot change the \" + spacingType + \" of a Droppable during a drag\";\n    };\n\n    !isEqual$1(old.margin, fresh.margin) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('margin')) : invariant(false) : void 0;\n    !isEqual$1(old.border, fresh.border) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('border')) : invariant(false) : void 0;\n    !isEqual$1(old.padding, fresh.padding) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('padding')) : invariant(false) : void 0;\n  }\n};\n\nvar adjustBorderBoxSize = function adjustBorderBoxSize(axis, old, fresh) {\n  return {\n    top: old.top,\n    left: old.left,\n    right: old.left + fresh.width,\n    bottom: old.top + fresh.height\n  };\n};\n\nvar updateDroppables = (function (_ref) {\n  var modified = _ref.modified,\n      existing = _ref.existing,\n      viewport = _ref.viewport;\n\n  if (!modified.length) {\n    return existing;\n  }\n\n  var adjusted = modified.map(function (provided) {\n    var raw = existing[provided.descriptor.id];\n    !raw ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not locate droppable in existing droppables') : invariant(false) : void 0;\n    var hasPlaceholder = Boolean(raw.subject.withPlaceholder);\n    var dimension = hasPlaceholder ? removePlaceholder(raw) : raw;\n    var oldClient = dimension.client;\n    var newClient = provided.client;\n    var oldScrollable = getFrame(dimension);\n    var newScrollable = getFrame(provided);\n\n    if (process.env.NODE_ENV !== 'production') {\n      throwIfSpacingChange(dimension.client, provided.client);\n      throwIfSpacingChange(oldScrollable.frameClient, newScrollable.frameClient);\n      var isFrameEqual = oldScrollable.frameClient.borderBox.height === newScrollable.frameClient.borderBox.height && oldScrollable.frameClient.borderBox.width === newScrollable.frameClient.borderBox.width;\n      !isFrameEqual ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'The width and height of your Droppable scroll container cannot change when adding or removing Draggables during a drag') : invariant(false) : void 0;\n    }\n\n    var client = createBox({\n      borderBox: adjustBorderBoxSize(dimension.axis, oldClient.borderBox, newClient.borderBox),\n      margin: oldClient.margin,\n      border: oldClient.border,\n      padding: oldClient.padding\n    });\n    var closest = {\n      client: oldScrollable.frameClient,\n      page: withScroll(oldScrollable.frameClient, viewport.scroll.initial),\n      shouldClipSubject: oldScrollable.shouldClipSubject,\n      scrollSize: newScrollable.scrollSize,\n      scroll: oldScrollable.scroll.initial\n    };\n    var withSizeChanged = getDroppableDimension({\n      descriptor: provided.descriptor,\n      isEnabled: provided.isEnabled,\n      isCombineEnabled: provided.isCombineEnabled,\n      isFixedOnPage: provided.isFixedOnPage,\n      direction: provided.axis.direction,\n      client: client,\n      page: withScroll(client, viewport.scroll.initial),\n      closest: closest\n    });\n    var scrolled = scrollDroppable(withSizeChanged, newScrollable.scroll.current);\n    return scrolled;\n  });\n\n  var result = _extends({}, existing, toDroppableMap(adjusted));\n\n  return result;\n});\n\nvar withNoAnimatedDisplacement = (function (impact) {\n  var displaced = impact.movement.displaced;\n\n  if (!displaced.length) {\n    return impact;\n  }\n\n  var withoutAnimation = displaced.map(function (displacement) {\n    if (!displacement.isVisible) {\n      return displacement;\n    }\n\n    if (!displacement.shouldAnimate) {\n      return displacement;\n    }\n\n    return _extends({}, displacement, {\n      shouldAnimate: false\n    });\n  });\n\n  var result = _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: withoutAnimation,\n      map: getDisplacementMap(withoutAnimation)\n    })\n  });\n\n  return result;\n});\n\nvar patchDroppableMap = (function (droppables, updated) {\n  var _extends2;\n\n  return _extends({}, droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2));\n});\n\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\n  var previousImpact = _ref.previousImpact,\n      impact = _ref.impact,\n      droppables = _ref.droppables;\n  var last = whatIsDraggedOver(previousImpact);\n  var now = whatIsDraggedOver(impact);\n\n  if (!last) {\n    return droppables;\n  }\n\n  if (last === now) {\n    return droppables;\n  }\n\n  var lastDroppable = droppables[last];\n\n  if (!lastDroppable.subject.withPlaceholder) {\n    return droppables;\n  }\n\n  var updated = removePlaceholder(lastDroppable);\n  return patchDroppableMap(droppables, updated);\n};\n\nvar recomputePlaceholders = (function (_ref2) {\n  var draggable = _ref2.draggable,\n      draggables = _ref2.draggables,\n      droppables = _ref2.droppables,\n      previousImpact = _ref2.previousImpact,\n      impact = _ref2.impact;\n  var cleaned = clearUnusedPlaceholder({\n    previousImpact: previousImpact,\n    impact: impact,\n    droppables: droppables\n  });\n  var isOver = whatIsDraggedOver(impact);\n\n  if (!isOver) {\n    return cleaned;\n  }\n\n  var droppable = droppables[isOver];\n\n  if (isHomeOf(draggable, droppable)) {\n    return cleaned;\n  }\n\n  if (droppable.subject.withPlaceholder) {\n    return cleaned;\n  }\n\n  var patched = addPlaceholder(droppable, draggable, draggables);\n  return patchDroppableMap(cleaned, patched);\n});\n\nvar timingsKey = 'Processing dynamic changes';\nvar publishWhileDragging = (function (_ref) {\n  var _extends2, _extends3;\n\n  var state = _ref.state,\n      published = _ref.published;\n  start(timingsKey);\n  var updatedDroppables = updateDroppables({\n    modified: published.modified,\n    existing: state.dimensions.droppables,\n    viewport: state.viewport\n  });\n  var draggables = updateDraggables({\n    updatedDroppables: updatedDroppables,\n    criticalId: state.critical.draggable.id,\n    existing: state.dimensions.draggables,\n    additions: published.additions,\n    removals: published.removals,\n    viewport: state.viewport\n  });\n  var critical = {\n    draggable: draggables[state.critical.draggable.id].descriptor,\n    droppable: updatedDroppables[state.critical.droppable.id].descriptor\n  };\n  var original = state.dimensions.draggables[critical.draggable.id];\n  var updated = draggables[critical.draggable.id];\n  var droppables = recomputePlaceholders({\n    draggable: updated,\n    draggables: draggables,\n    droppables: updatedDroppables,\n    previousImpact: state.impact,\n    impact: state.impact\n  });\n  var dimensions = {\n    draggables: draggables,\n    droppables: droppables\n  };\n\n  var _getDragPositions = getDragPositions({\n    initial: state.initial,\n    current: state.current,\n    oldClientBorderBoxCenter: original.client.borderBox.center,\n    newClientBorderBoxCenter: updated.client.borderBox.center,\n    viewport: state.viewport\n  }),\n      initial = _getDragPositions.initial,\n      current = _getDragPositions.current;\n\n  var _getHomeOnLift = getHomeOnLift({\n    draggable: updated,\n    home: dimensions.droppables[critical.droppable.id],\n    draggables: dimensions.draggables,\n    viewport: state.viewport\n  }),\n      homeImpact = _getHomeOnLift.impact,\n      onLift = _getHomeOnLift.onLift;\n\n  var impact = withNoAnimatedDisplacement(getDragImpact({\n    pageBorderBoxCenter: current.page.borderBoxCenter,\n    draggable: updated,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: homeImpact,\n    viewport: state.viewport,\n    userDirection: state.userDirection,\n    onLift: onLift\n  }));\n  var isOrphaned = Boolean(state.movementMode === 'SNAP' && !whatIsDraggedOver(impact));\n  !!isOrphaned ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Dragging item no longer has a valid merge/destination after a dynamic update. This is not supported') : invariant(false) : void 0;\n  finish(timingsKey);\n\n  var draggingState = _extends({\n    phase: 'DRAGGING'\n  }, state, (_extends2 = {}, _extends2[\"phase\"] = 'DRAGGING', _extends2.critical = critical, _extends2.current = current, _extends2.initial = initial, _extends2.impact = impact, _extends2.dimensions = dimensions, _extends2.onLift = onLift, _extends2.onLiftImpact = homeImpact, _extends2.forceShouldAnimate = false, _extends2));\n\n  if (state.phase === 'COLLECTING') {\n    return draggingState;\n  }\n\n  var dropPending = _extends({\n    phase: 'DROP_PENDING'\n  }, draggingState, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.reason = state.reason, _extends3.isWaiting = false, _extends3));\n\n  return dropPending;\n});\n\nvar forward = {\n  vertical: 'down',\n  horizontal: 'right'\n};\nvar backward = {\n  vertical: 'up',\n  horizontal: 'left'\n};\n\nvar moveToNextCombine = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      originalInsideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  if (previousImpact.merge) {\n    return null;\n  }\n\n  var location = previousImpact.destination;\n  !location ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Need a previous location to move from into a combine') : invariant(false) : void 0;\n  var currentIndex = location.index;\n\n  var currentInsideDestination = function () {\n    var shallow = originalInsideDestination.slice();\n\n    if (isInHomeList) {\n      shallow.splice(draggable.descriptor.index, 1);\n    }\n\n    shallow.splice(location.index, 0, draggable);\n    return shallow;\n  }();\n\n  var targetIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n\n  if (targetIndex < 0) {\n    return null;\n  }\n\n  if (targetIndex > currentInsideDestination.length - 1) {\n    return null;\n  }\n\n  var target = currentInsideDestination[targetIndex];\n  !(target !== draggable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot combine with self') : invariant(false) : void 0;\n  var merge = {\n    whenEntered: isMovingForward ? forward : backward,\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n  var impact = {\n    movement: previousImpact.movement,\n    destination: null,\n    merge: merge\n  };\n  return impact;\n});\n\nvar addClosest = function addClosest(add, displaced) {\n  var added = {\n    draggableId: add.descriptor.id,\n    isVisible: true,\n    shouldAnimate: true\n  };\n  return [added].concat(displaced);\n};\nvar removeClosest = function removeClosest(displaced) {\n  return displaced.slice(1);\n};\n\nvar fromReorder = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      initialInside = _ref.insideDestination,\n      location = _ref.location;\n  var insideDestination = initialInside.slice();\n  var currentIndex = location.index;\n  var isInForeignList = !isInHomeList;\n\n  if (isInForeignList) {\n    insideDestination.splice(location.index, 0, draggable);\n  }\n\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n\n  if (proposedIndex < 0) {\n    return null;\n  }\n\n  if (proposedIndex > insideDestination.length - 1) {\n    return null;\n  }\n\n  return {\n    proposedIndex: proposedIndex,\n    modifyDisplacement: true\n  };\n});\n\nvar fromCombine = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      draggables = _ref.draggables,\n      merge = _ref.merge,\n      onLift = _ref.onLift;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var movement = previousImpact.movement;\n  var combineId = merge.combine.draggableId;\n  var combine = draggables[combineId];\n  var combineIndex = combine.descriptor.index;\n  var wasDisplacedAtStart = didStartDisplaced(combineId, onLift);\n\n  if (wasDisplacedAtStart) {\n    var hasDisplacedFromStart = !movement.map[combineId];\n\n    if (hasDisplacedFromStart) {\n      if (isMovingForward) {\n        return {\n          proposedIndex: combineIndex,\n          modifyDisplacement: false\n        };\n      }\n\n      return {\n        proposedIndex: combineIndex - 1,\n        modifyDisplacement: true\n      };\n    }\n\n    if (isMovingForward) {\n      return {\n        proposedIndex: combineIndex,\n        modifyDisplacement: true\n      };\n    }\n\n    return {\n      proposedIndex: combineIndex - 1,\n      modifyDisplacement: false\n    };\n  }\n\n  var isDisplaced = Boolean(movement.map[combineId]);\n\n  if (isDisplaced) {\n    if (isMovingForward) {\n      return {\n        proposedIndex: combineIndex + 1,\n        modifyDisplacement: true\n      };\n    }\n\n    return {\n      proposedIndex: combineIndex,\n      modifyDisplacement: false\n    };\n  }\n\n  if (isMovingForward) {\n    return {\n      proposedIndex: combineIndex + 1,\n      modifyDisplacement: false\n    };\n  }\n\n  return {\n    proposedIndex: combineIndex,\n    modifyDisplacement: true\n  };\n});\n\nvar moveToNextIndex = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact,\n      onLift = _ref.onLift;\n\n  var instruction = function () {\n    if (previousImpact.destination) {\n      return fromReorder({\n        isMovingForward: isMovingForward,\n        isInHomeList: isInHomeList,\n        draggable: draggable,\n        location: previousImpact.destination,\n        insideDestination: insideDestination\n      });\n    }\n\n    if (previousImpact.merge) {\n      return fromCombine({\n        isMovingForward: isMovingForward,\n        destination: destination,\n        previousImpact: previousImpact,\n        draggables: draggables,\n        merge: previousImpact.merge,\n        onLift: onLift\n      });\n    }\n    return null;\n  }();\n\n  if (instruction == null) {\n    return null;\n  }\n\n  var proposedIndex = instruction.proposedIndex,\n      modifyDisplacement = instruction.modifyDisplacement;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n\n  var displaced = function () {\n    var lastDisplaced = previousImpact.movement.displaced;\n\n    if (!modifyDisplacement) {\n      return lastDisplaced;\n    }\n\n    if (isMovingForward) {\n      return removeClosest(lastDisplaced);\n    }\n\n    var withoutDraggable = removeDraggableFromList(draggable, insideDestination);\n    var atProposedIndex = withoutDraggable[proposedIndex];\n    return addClosest(atProposedIndex, lastDisplaced);\n  }();\n\n  return {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    },\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n});\n\nvar whenCombining = (function (_ref) {\n  var combine = _ref.combine,\n      onLift = _ref.onLift,\n      movement = _ref.movement,\n      draggables = _ref.draggables;\n  var combineWith = combine.draggableId;\n  var center = draggables[combineWith].page.borderBox.center;\n  var displaceBy = getCombinedItemDisplacement({\n    displaced: movement.map,\n    onLift: onLift,\n    combineWith: combineWith,\n    displacedBy: movement.displacedBy\n  });\n  return add(center, displaceBy);\n});\n\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\n};\n\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\n};\n\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\n};\n\nvar goAfter = function goAfter(_ref) {\n  var axis = _ref.axis,\n      moveRelativeTo = _ref.moveRelativeTo,\n      isMoving = _ref.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goBefore = function goBefore(_ref2) {\n  var axis = _ref2.axis,\n      moveRelativeTo = _ref2.moveRelativeTo,\n      isMoving = _ref2.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goIntoStart = function goIntoStart(_ref3) {\n  var axis = _ref3.axis,\n      moveInto = _ref3.moveInto,\n      isMoving = _ref3.isMoving;\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\n};\n\nvar whenReordering = (function (_ref) {\n  var movement = _ref.movement,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppable = _ref.droppable,\n      onLift = _ref.onLift;\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var draggablePage = draggable.page;\n  var axis = droppable.axis;\n\n  if (!insideDestination.length) {\n    return goIntoStart({\n      axis: axis,\n      moveInto: droppable.page,\n      isMoving: draggablePage\n    });\n  }\n\n  var displaced = movement.displaced,\n      displacedBy = movement.displacedBy;\n\n  if (displaced.length) {\n    var closestAfter = draggables[displaced[0].draggableId];\n\n    if (didStartDisplaced(closestAfter.descriptor.id, onLift)) {\n      return goBefore({\n        axis: axis,\n        moveRelativeTo: closestAfter.page,\n        isMoving: draggablePage\n      });\n    }\n\n    var withDisplacement = offset(closestAfter.page, displacedBy.point);\n    return goBefore({\n      axis: axis,\n      moveRelativeTo: withDisplacement,\n      isMoving: draggablePage\n    });\n  }\n\n  var last = insideDestination[insideDestination.length - 1];\n\n  if (last.descriptor.id === draggable.descriptor.id) {\n    return draggablePage.borderBox.center;\n  }\n\n  if (didStartDisplaced(last.descriptor.id, onLift)) {\n    var page = offset(last.page, negate(onLift.displacedBy.point));\n    return goAfter({\n      axis: axis,\n      moveRelativeTo: page,\n      isMoving: draggablePage\n    });\n  }\n\n  return goAfter({\n    axis: axis,\n    moveRelativeTo: last.page,\n    isMoving: draggablePage\n  });\n});\n\nvar withDroppableDisplacement = (function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.displacement);\n});\n\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      onLift = _ref.onLift;\n  var merge = impact.merge;\n  var destination = impact.destination;\n  var original = draggable.page.borderBox.center;\n\n  if (!droppable) {\n    return original;\n  }\n\n  if (destination) {\n    return whenReordering({\n      movement: impact.movement,\n      draggable: draggable,\n      draggables: draggables,\n      droppable: droppable,\n      onLift: onLift\n    });\n  }\n\n  if (merge) {\n    return whenCombining({\n      movement: impact.movement,\n      combine: merge.combine,\n      draggables: draggables,\n      onLift: onLift\n    });\n  }\n\n  return original;\n};\n\nvar getPageBorderBoxCenterFromImpact = (function (args) {\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\n  var droppable = args.droppable;\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\n  return withDisplacement;\n});\n\nvar scrollViewport = (function (viewport, newScroll) {\n  var diff = subtract(newScroll, viewport.scroll.initial);\n  var displacement = negate(diff);\n  var frame = getRect({\n    top: newScroll.y,\n    bottom: newScroll.y + viewport.frame.height,\n    left: newScroll.x,\n    right: newScroll.x + viewport.frame.width\n  });\n  var updated = {\n    frame: frame,\n    scroll: {\n      initial: viewport.scroll.initial,\n      max: viewport.scroll.max,\n      current: newScroll,\n      diff: {\n        value: diff,\n        displacement: displacement\n      }\n    }\n  };\n  return updated;\n});\n\nvar withNewDisplacement = (function (impact, displaced) {\n  return _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    })\n  });\n});\n\nvar speculativelyIncrease = (function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      maxScrollChange = _ref.maxScrollChange,\n      onLift = _ref.onLift;\n  var displaced = impact.movement.displaced;\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\n  var updated = displaced.map(function (entry) {\n    if (entry.isVisible) {\n      return entry;\n    }\n\n    var draggable = draggables[entry.draggableId];\n    var withScrolledViewport = getDisplacement({\n      draggable: draggable,\n      destination: destination,\n      previousImpact: impact,\n      viewport: scrolledViewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: false\n    });\n\n    if (withScrolledViewport.isVisible) {\n      return withScrolledViewport;\n    }\n\n    var withScrolledDroppable = getDisplacement({\n      draggable: draggable,\n      destination: scrolledDroppable,\n      previousImpact: impact,\n      viewport: viewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: false\n    });\n\n    if (withScrolledDroppable.isVisible) {\n      return withScrolledDroppable;\n    }\n\n    return entry;\n  });\n  return withNewDisplacement(impact, updated);\n});\n\nvar withViewportDisplacement = (function (viewport, point) {\n  return add(viewport.scroll.diff.displacement, point);\n});\n\nvar getClientFromPageBorderBoxCenter = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      viewport = _ref.viewport;\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\n  var offset = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\n  return add(draggable.client.borderBox.center, offset);\n});\n\nvar isTotallyVisibleInNewLocation = (function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\n      onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\n  var changeNeeded = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\n  var shifted = offsetByPosition(draggable.page.borderBox, changeNeeded);\n  var args = {\n    target: shifted,\n    destination: destination,\n    withDroppableDisplacement: withDroppableDisplacement,\n    viewport: viewport\n  };\n  return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);\n});\n\nvar moveToNextPlace = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      previousClientSelection = _ref.previousClientSelection,\n      onLift = _ref.onLift;\n\n  if (!destination.isEnabled) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var isInHomeList = isHomeOf(draggable, destination);\n  var impact = moveToNextCombine({\n    isInHomeList: isInHomeList,\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  }) || moveToNextIndex({\n    isMovingForward: isMovingForward,\n    isInHomeList: isInHomeList,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    onLift: onLift\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    onLift: onLift\n  });\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n    draggable: draggable,\n    destination: destination,\n    newPageBorderBoxCenter: pageBorderBoxCenter,\n    viewport: viewport.frame,\n    withDroppableDisplacement: false,\n    onlyOnMainAxis: true\n  });\n\n  if (isVisibleInNewLocation) {\n    var clientSelection = getClientFromPageBorderBoxCenter({\n      pageBorderBoxCenter: pageBorderBoxCenter,\n      draggable: draggable,\n      viewport: viewport\n    });\n    return {\n      clientSelection: clientSelection,\n      impact: impact,\n      scrollJumpRequest: null\n    };\n  }\n\n  var distance = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\n  var cautious = speculativelyIncrease({\n    impact: impact,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    maxScrollChange: distance,\n    onLift: onLift\n  });\n  return {\n    clientSelection: previousClientSelection,\n    impact: cautious,\n    scrollJumpRequest: distance\n  };\n});\n\nvar getKnownActive = function getKnownActive(droppable) {\n  var rect = droppable.subject.active;\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\n  return rect;\n};\n\nvar getBestCrossAxisDroppable = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      source = _ref.source,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport;\n  var active = source.subject.active;\n\n  if (!active) {\n    return null;\n  }\n\n  var axis = source.axis;\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\n    return droppable !== source;\n  }).filter(function (droppable) {\n    return droppable.isEnabled;\n  }).filter(function (droppable) {\n    return Boolean(droppable.subject.active);\n  }).filter(function (droppable) {\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n\n    if (isMovingForward) {\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\n    }\n\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\n  }).sort(function (a, b) {\n    var first = getKnownActive(a)[axis.crossAxisStart];\n    var second = getKnownActive(b)[axis.crossAxisStart];\n\n    if (isMovingForward) {\n      return first - second;\n    }\n\n    return second - first;\n  }).filter(function (droppable, index, array) {\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0];\n  }\n\n  var contains = candidates.filter(function (droppable) {\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\n  });\n\n  if (contains.length === 1) {\n    return contains[0];\n  }\n\n  if (contains.length > 1) {\n    return contains.sort(function (a, b) {\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n    })[0];\n  }\n\n  return candidates.sort(function (a, b) {\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\n\n    if (first !== second) {\n      return first - second;\n    }\n\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n  })[0];\n});\n\nvar getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter(draggable, onLift) {\n  var original = draggable.page.borderBox.center;\n  return didStartDisplaced(draggable.descriptor.id, onLift) ? subtract(original, onLift.displacedBy.point) : original;\n};\nvar getCurrentPageBorderBox = function getCurrentPageBorderBox(draggable, onLift) {\n  var original = draggable.page.borderBox;\n  return didStartDisplaced(draggable.descriptor.id, onLift) ? offsetByPosition(original, negate(onLift.displacedBy.point)) : original;\n};\n\nvar getClosestDraggable = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      onLift = _ref.onLift;\n  var sorted = insideDestination.filter(function (draggable) {\n    return isTotallyVisible({\n      target: getCurrentPageBorderBox(draggable, onLift),\n      destination: destination,\n      viewport: viewport.frame,\n      withDroppableDisplacement: true\n    });\n  }).sort(function (a, b) {\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a, onLift)));\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b, onLift)));\n\n    if (distanceToA < distanceToB) {\n      return -1;\n    }\n\n    if (distanceToB < distanceToA) {\n      return 1;\n    }\n\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return sorted[0] || null;\n});\n\nvar moveToNewDroppable = (function (_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      moveRelativeTo = _ref.moveRelativeTo,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n\n  if (!moveRelativeTo) {\n    if (insideDestination.length) {\n      return null;\n    }\n\n    var proposed = {\n      movement: noMovement,\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: 0\n      },\n      merge: null\n    };\n    var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n      impact: proposed,\n      draggable: draggable,\n      droppable: destination,\n      draggables: draggables,\n      onLift: onLift\n    });\n    var withPlaceholder = isHomeOf(draggable, destination) ? destination : addPlaceholder(destination, draggable, draggables);\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n      draggable: draggable,\n      destination: withPlaceholder,\n      newPageBorderBoxCenter: proposedPageBorderBoxCenter,\n      viewport: viewport.frame,\n      withDroppableDisplacement: false,\n      onlyOnMainAxis: true\n    });\n    return isVisibleInNewLocation ? proposed : null;\n  }\n\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] < moveRelativeTo.page.borderBox.center[destination.axis.line]);\n  var targetIndex = insideDestination.indexOf(moveRelativeTo);\n  !(targetIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find target in list') : invariant(false) : void 0;\n\n  var proposedIndex = function () {\n    if (moveRelativeTo.descriptor.id === draggable.descriptor.id) {\n      return targetIndex;\n    }\n\n    if (isGoingBeforeTarget) {\n      return targetIndex;\n    }\n\n    return targetIndex + 1;\n  }();\n\n  var displaced = removeDraggableFromList(draggable, insideDestination).slice(proposedIndex).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      viewport: viewport.frame,\n      previousImpact: previousImpact,\n      onLift: onLift\n    });\n  });\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var impact = {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    },\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n  return impact;\n});\n\nvar moveCrossAxis = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      draggable = _ref.draggable,\n      isOver = _ref.isOver,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var destination = getBestCrossAxisDroppable({\n    isMovingForward: isMovingForward,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    source: isOver,\n    droppables: droppables,\n    viewport: viewport\n  });\n\n  if (!destination) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var moveRelativeTo = getClosestDraggable({\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    viewport: viewport,\n    destination: destination,\n    insideDestination: insideDestination,\n    onLift: onLift\n  });\n  var impact = moveToNewDroppable({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    destination: destination,\n    draggable: draggable,\n    draggables: draggables,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    onLift: onLift\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    onLift: onLift\n  });\n  var clientSelection = getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n  return {\n    clientSelection: clientSelection,\n    impact: impact,\n    scrollJumpRequest: null\n  };\n});\n\nvar getDroppableOver$1 = function getDroppableOver(impact, droppables) {\n  var id = whatIsDraggedOver(impact);\n  return id ? droppables[id] : null;\n};\n\nvar moveInDirection = (function (_ref) {\n  var state = _ref.state,\n      type = _ref.type;\n  var isActuallyOver = getDroppableOver$1(state.impact, state.dimensions.droppables);\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\n  var home = state.dimensions.droppables[state.critical.droppable.id];\n  var isOver = isActuallyOver || home;\n  var direction = isOver.axis.direction;\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\n\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\n    return null;\n  }\n\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\n  var _state$dimensions = state.dimensions,\n      draggables = _state$dimensions.draggables,\n      droppables = _state$dimensions.droppables;\n  return isMovingOnMainAxis ? moveToNextPlace({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    destination: isOver,\n    draggables: draggables,\n    viewport: state.viewport,\n    previousClientSelection: state.current.client.selection,\n    previousImpact: state.impact,\n    onLift: state.onLift\n  }) : moveCrossAxis({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    isOver: isOver,\n    draggables: draggables,\n    droppables: droppables,\n    previousImpact: state.impact,\n    viewport: state.viewport,\n    onLift: state.onLift\n  });\n});\n\nfunction isMovementAllowed(state) {\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\n}\n\nvar getVertical = function getVertical(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n\n  return diff > 0 ? 'down' : 'up';\n};\n\nvar getHorizontal = function getHorizontal(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n\n  return diff > 0 ? 'right' : 'left';\n};\n\nvar getUserDirection = (function (previous, oldPageBorderBoxCenter, newPageBorderBoxCenter) {\n  var diff = subtract(newPageBorderBoxCenter, oldPageBorderBoxCenter);\n  return {\n    horizontal: getHorizontal(previous.horizontal, diff.x),\n    vertical: getVertical(previous.vertical, diff.y)\n  };\n});\n\nvar update = (function (_ref) {\n  var state = _ref.state,\n      forcedClientSelection = _ref.clientSelection,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport,\n      forcedImpact = _ref.impact,\n      scrollJumpRequest = _ref.scrollJumpRequest;\n  var viewport = forcedViewport || state.viewport;\n  var currentWindowScroll = viewport.scroll.current;\n  var dimensions = forcedDimensions || state.dimensions;\n  var clientSelection = forcedClientSelection || state.current.client.selection;\n  var offset = subtract(clientSelection, state.initial.client.selection);\n  var client = {\n    offset: offset,\n    selection: clientSelection,\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset)\n  };\n  var page = {\n    selection: add(client.selection, currentWindowScroll),\n    borderBoxCenter: add(client.borderBoxCenter, currentWindowScroll)\n  };\n  var current = {\n    client: client,\n    page: page\n  };\n  var userDirection = getUserDirection(state.userDirection, state.current.page.borderBoxCenter, current.page.borderBoxCenter);\n\n  if (state.phase === 'COLLECTING') {\n    return _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      dimensions: dimensions,\n      viewport: viewport,\n      current: current,\n      userDirection: userDirection\n    });\n  }\n\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var newImpact = forcedImpact || getDragImpact({\n    pageBorderBoxCenter: page.borderBoxCenter,\n    draggable: draggable,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: state.impact,\n    viewport: viewport,\n    userDirection: userDirection,\n    onLift: state.onLift\n  });\n  var withUpdatedPlaceholders = recomputePlaceholders({\n    draggable: draggable,\n    impact: newImpact,\n    previousImpact: state.impact,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables\n  });\n\n  var result = _extends({}, state, {\n    current: current,\n    userDirection: userDirection,\n    dimensions: {\n      draggables: dimensions.draggables,\n      droppables: withUpdatedPlaceholders\n    },\n    impact: newImpact,\n    viewport: viewport,\n    scrollJumpRequest: scrollJumpRequest || null,\n    forceShouldAnimate: scrollJumpRequest ? false : null\n  });\n\n  return result;\n});\n\nvar recompute = (function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      onLift = _ref.onLift,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var updated = impact.movement.displaced.map(function (entry) {\n    return getDisplacement({\n      draggable: draggables[entry.draggableId],\n      destination: destination,\n      previousImpact: impact,\n      viewport: viewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: forceShouldAnimate\n    });\n  });\n  return withNewDisplacement(impact, updated);\n});\n\nvar getClientBorderBoxCenter = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: droppable,\n    onLift: onLift\n  });\n  return getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n});\n\nvar refreshSnap = (function (_ref) {\n  var state = _ref.state,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport;\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var needsVisibilityCheck = state.impact;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var draggable = draggables[state.critical.draggable.id];\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\n  var destination = droppables[isOver];\n  var impact = recompute({\n    impact: needsVisibilityCheck,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    onLift: state.onLift\n  });\n  var clientSelection = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    viewport: viewport,\n    onLift: state.onLift\n  });\n  return update({\n    impact: impact,\n    clientSelection: clientSelection,\n    state: state,\n    dimensions: dimensions,\n    viewport: viewport\n  });\n});\n\nvar patchDimensionMap = (function (dimensions, updated) {\n  return {\n    draggables: dimensions.draggables,\n    droppables: patchDroppableMap(dimensions.droppables, updated)\n  };\n});\n\nvar isSnapping = function isSnapping(state) {\n  return state.movementMode === 'SNAP';\n};\n\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\n  var dimensions = patchDimensionMap(state.dimensions, updated);\n\n  if (!isSnapping(state) || isEnabledChanging) {\n    return update({\n      state: state,\n      dimensions: dimensions\n    });\n  }\n\n  return refreshSnap({\n    state: state,\n    dimensions: dimensions\n  });\n};\n\nvar idle = {\n  phase: 'IDLE',\n  completed: null,\n  shouldFlush: false\n};\nvar reducer = (function (state, action) {\n  if (state === void 0) {\n    state = idle;\n  }\n\n  if (action.type === 'CLEAN') {\n    return _extends({}, idle, {\n      shouldFlush: action.payload.shouldFlush\n    });\n  }\n\n  if (action.type === 'INITIAL_PUBLISH') {\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\n    var _action$payload = action.payload,\n        critical = _action$payload.critical,\n        clientSelection = _action$payload.clientSelection,\n        viewport = _action$payload.viewport,\n        dimensions = _action$payload.dimensions,\n        movementMode = _action$payload.movementMode;\n    var draggable = dimensions.draggables[critical.draggable.id];\n    var home = dimensions.droppables[critical.droppable.id];\n    var client = {\n      selection: clientSelection,\n      borderBoxCenter: draggable.client.borderBox.center,\n      offset: origin\n    };\n    var initial = {\n      client: client,\n      page: {\n        selection: add(client.selection, viewport.scroll.initial),\n        borderBoxCenter: add(client.selection, viewport.scroll.initial)\n      }\n    };\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\n      return !item.isFixedOnPage;\n    });\n\n    var _getHomeOnLift = getHomeOnLift({\n      draggable: draggable,\n      home: home,\n      draggables: dimensions.draggables,\n      viewport: viewport\n    }),\n        impact = _getHomeOnLift.impact,\n        onLift = _getHomeOnLift.onLift;\n\n    var result = {\n      phase: 'DRAGGING',\n      isDragging: true,\n      critical: critical,\n      movementMode: movementMode,\n      dimensions: dimensions,\n      initial: initial,\n      current: initial,\n      isWindowScrollAllowed: isWindowScrollAllowed,\n      impact: impact,\n      onLift: onLift,\n      onLiftImpact: impact,\n      viewport: viewport,\n      userDirection: forward,\n      scrollJumpRequest: null,\n      forceShouldAnimate: null\n    };\n    return result;\n  }\n\n  if (action.type === 'COLLECTION_STARTING') {\n    var _extends2;\n\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\n\n    var _result = _extends({\n      phase: 'COLLECTING'\n    }, state, (_extends2 = {}, _extends2[\"phase\"] = 'COLLECTING', _extends2));\n\n    return _result;\n  }\n\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\n    return publishWhileDragging({\n      state: state,\n      published: action.payload\n    });\n  }\n\n  if (action.type === 'MOVE') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _clientSelection = action.payload.client;\n\n    if (isEqual(_clientSelection, state.current.client.selection)) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      clientSelection: _clientSelection,\n      impact: isSnapping(state) ? state.impact : null\n    });\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    if (state.phase === 'COLLECTING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload2 = action.payload,\n        id = _action$payload2.id,\n        offset = _action$payload2.offset;\n    var target = state.dimensions.droppables[id];\n\n    if (!target) {\n      return state;\n    }\n\n    var scrolled = scrollDroppable(target, offset);\n    return postDroppableChange(state, scrolled, false);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload3 = action.payload,\n        _id = _action$payload3.id,\n        isEnabled = _action$payload3.isEnabled;\n    var _target = state.dimensions.droppables[_id];\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\n\n    var updated = _extends({}, _target, {\n      isEnabled: isEnabled\n    });\n\n    return postDroppableChange(state, updated, true);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload4 = action.payload,\n        _id2 = _action$payload4.id,\n        isCombineEnabled = _action$payload4.isCombineEnabled;\n    var _target2 = state.dimensions.droppables[_id2];\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\n\n    var _updated = _extends({}, _target2, {\n      isCombineEnabled: isCombineEnabled\n    });\n\n    return postDroppableChange(state, _updated, true);\n  }\n\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists. Aborting drag') : invariant(false) : void 0;\n    var newScroll = action.payload.newScroll;\n\n    if (isEqual(state.viewport.scroll.current, newScroll)) {\n      return state;\n    }\n\n    var _viewport = scrollViewport(state.viewport, newScroll);\n\n    if (isSnapping(state)) {\n      return refreshSnap({\n        state: state,\n        viewport: _viewport\n      });\n    }\n\n    return update({\n      state: state,\n      viewport: _viewport\n    });\n  }\n\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\n    if (!isMovementAllowed(state)) {\n      return state;\n    }\n\n    var maxScroll = action.payload.maxScroll;\n\n    if (isEqual(maxScroll, state.viewport.scroll.max)) {\n      return state;\n    }\n\n    var withMaxScroll = _extends({}, state.viewport, {\n      scroll: _extends({}, state.viewport.scroll, {\n        max: maxScroll\n      })\n    });\n\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      viewport: withMaxScroll\n    });\n  }\n\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\n\n    var _result2 = moveInDirection({\n      state: state,\n      type: action.type\n    });\n\n    if (!_result2) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      impact: _result2.impact,\n      clientSelection: _result2.clientSelection,\n      scrollJumpRequest: _result2.scrollJumpRequest\n    });\n  }\n\n  if (action.type === 'DROP_PENDING') {\n    var _extends3;\n\n    var reason = action.payload.reason;\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\n\n    var newState = _extends({\n      phase: 'DROP_PENDING'\n    }, state, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.isWaiting = true, _extends3.reason = reason, _extends3));\n\n    return newState;\n  }\n\n  if (action.type === 'DROP_ANIMATE') {\n    var _action$payload5 = action.payload,\n        completed = _action$payload5.completed,\n        dropDuration = _action$payload5.dropDuration,\n        newHomeClientOffset = _action$payload5.newHomeClientOffset;\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\n    var _result3 = {\n      phase: 'DROP_ANIMATING',\n      dimensions: state.dimensions,\n      completed: completed,\n      dropDuration: dropDuration,\n      newHomeClientOffset: newHomeClientOffset\n    };\n    return _result3;\n  }\n\n  if (action.type === 'DROP_COMPLETE') {\n    var _action$payload6 = action.payload,\n        _completed = _action$payload6.completed,\n        shouldFlush = _action$payload6.shouldFlush;\n    return {\n      phase: 'IDLE',\n      completed: _completed,\n      shouldFlush: shouldFlush\n    };\n  }\n\n  return state;\n});\n\nvar lift = function lift(args) {\n  return {\n    type: 'LIFT',\n    payload: args\n  };\n};\nvar initialPublish = function initialPublish(args) {\n  return {\n    type: 'INITIAL_PUBLISH',\n    payload: args\n  };\n};\nvar publishWhileDragging$1 = function publishWhileDragging(args) {\n  return {\n    type: 'PUBLISH_WHILE_DRAGGING',\n    payload: args\n  };\n};\nvar collectionStarting = function collectionStarting() {\n  return {\n    type: 'COLLECTION_STARTING',\n    payload: null\n  };\n};\nvar updateDroppableScroll = function updateDroppableScroll(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_SCROLL',\n    payload: args\n  };\n};\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\n    payload: args\n  };\n};\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\n    payload: args\n  };\n};\nvar move = function move(args) {\n  return {\n    type: 'MOVE',\n    payload: args\n  };\n};\nvar moveByWindowScroll = function moveByWindowScroll(args) {\n  return {\n    type: 'MOVE_BY_WINDOW_SCROLL',\n    payload: args\n  };\n};\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\n  return {\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\n    payload: args\n  };\n};\nvar moveUp = function moveUp() {\n  return {\n    type: 'MOVE_UP',\n    payload: null\n  };\n};\nvar moveDown = function moveDown() {\n  return {\n    type: 'MOVE_DOWN',\n    payload: null\n  };\n};\nvar moveRight = function moveRight() {\n  return {\n    type: 'MOVE_RIGHT',\n    payload: null\n  };\n};\nvar moveLeft = function moveLeft() {\n  return {\n    type: 'MOVE_LEFT',\n    payload: null\n  };\n};\nvar clean$1 = function clean(args) {\n  if (args === void 0) {\n    args = {\n      shouldFlush: false\n    };\n  }\n\n  return {\n    type: 'CLEAN',\n    payload: args\n  };\n};\nvar animateDrop = function animateDrop(args) {\n  return {\n    type: 'DROP_ANIMATE',\n    payload: args\n  };\n};\nvar completeDrop = function completeDrop(args) {\n  return {\n    type: 'DROP_COMPLETE',\n    payload: args\n  };\n};\nvar drop = function drop(args) {\n  return {\n    type: 'DROP',\n    payload: args\n  };\n};\nvar dropPending = function dropPending(args) {\n  return {\n    type: 'DROP_PENDING',\n    payload: args\n  };\n};\nvar dropAnimationFinished = function dropAnimationFinished() {\n  return {\n    type: 'DROP_ANIMATION_FINISHED',\n    payload: null\n  };\n};\n\nvar lift$1 = (function (marshal) {\n  return function (_ref) {\n    var getState = _ref.getState,\n        dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type !== 'LIFT') {\n          next(action);\n          return;\n        }\n\n        var _action$payload = action.payload,\n            id = _action$payload.id,\n            clientSelection = _action$payload.clientSelection,\n            movementMode = _action$payload.movementMode;\n        var initial = getState();\n\n        if (initial.phase === 'DROP_ANIMATING') {\n          dispatch(completeDrop({\n            completed: initial.completed,\n            shouldFlush: true\n          }));\n        }\n\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Incorrect phase to start a drag') : invariant(false) : void 0;\n        var scrollOptions = {\n          shouldPublishImmediately: movementMode === 'SNAP'\n        };\n        var request = {\n          draggableId: id,\n          scrollOptions: scrollOptions\n        };\n\n        var _marshal$startPublish = marshal.startPublishing(request),\n            critical = _marshal$startPublish.critical,\n            dimensions = _marshal$startPublish.dimensions,\n            viewport = _marshal$startPublish.viewport;\n\n        dispatch(initialPublish({\n          critical: critical,\n          dimensions: dimensions,\n          clientSelection: clientSelection,\n          movementMode: movementMode,\n          viewport: viewport\n        }));\n      };\n    };\n  };\n});\n\nvar style = (function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          marshal.dragging();\n        }\n\n        if (action.type === 'DROP_ANIMATE') {\n          marshal.dropping(action.payload.completed.result.reason);\n        }\n\n        if (action.type === 'CLEAN' || action.type === 'DROP_COMPLETE') {\n          marshal.resting();\n        }\n\n        next(action);\n      };\n    };\n  };\n});\n\nvar curves = {\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\n  drop: 'cubic-bezier(.2,1,.1,1)'\n};\nvar combine = {\n  opacity: {\n    drop: 0,\n    combining: 0.7\n  },\n  scale: {\n    drop: 0.75\n  }\n};\nvar timings = {\n  outOfTheWay: 0.2,\n  minDropTime: 0.33,\n  maxDropTime: 0.55\n};\nvar outOfTheWayTiming = timings.outOfTheWay + \"s \" + curves.outOfTheWay;\nvar transitions = {\n  fluid: \"opacity \" + outOfTheWayTiming,\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\n  drop: function drop(duration) {\n    var timing = duration + \"s \" + curves.drop;\n    return \"transform \" + timing + \", opacity \" + timing;\n  },\n  outOfTheWay: \"transform \" + outOfTheWayTiming,\n  placeholder: \"height \" + outOfTheWayTiming + \", width \" + outOfTheWayTiming + \", margin \" + outOfTheWayTiming\n};\n\nvar moveTo = function moveTo(offset) {\n  return isEqual(offset, origin) ? null : \"translate(\" + offset.x + \"px, \" + offset.y + \"px)\";\n};\n\nvar transforms = {\n  moveTo: moveTo,\n  drop: function drop(offset, isCombining) {\n    var translate = moveTo(offset);\n\n    if (!translate) {\n      return null;\n    }\n\n    if (!isCombining) {\n      return translate;\n    }\n\n    return translate + \" scale(\" + combine.scale.drop + \")\";\n  }\n};\n\nvar minDropTime = timings.minDropTime,\n    maxDropTime = timings.maxDropTime;\nvar dropTimeRange = maxDropTime - minDropTime;\nvar maxDropTimeAtDistance = 1500;\nvar cancelDropModifier = 0.6;\nvar getDropDuration = (function (_ref) {\n  var current = _ref.current,\n      destination = _ref.destination,\n      reason = _ref.reason;\n  var distance$1 = distance(current, destination);\n\n  if (distance$1 <= 0) {\n    return minDropTime;\n  }\n\n  if (distance$1 >= maxDropTimeAtDistance) {\n    return maxDropTime;\n  }\n\n  var percentage = distance$1 / maxDropTimeAtDistance;\n  var duration = minDropTime + dropTimeRange * percentage;\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\n  return Number(withDuration.toFixed(2));\n});\n\nvar getNewHomeClientOffset = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      dimensions = _ref.dimensions,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var droppableId = whatIsDraggedOver(impact);\n  var destination = droppableId ? droppables[droppableId] : null;\n  var home = droppables[draggable.descriptor.droppableId];\n  var newClientCenter = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    onLift: onLift,\n    droppable: destination || home,\n    viewport: viewport\n  });\n  var offset = subtract(newClientCenter, draggable.client.borderBox.center);\n  var merge = impact.merge;\n\n  if (merge && didStartDisplaced(merge.combine.draggableId, onLift)) {\n    return subtract(offset, onLift.displacedBy.point);\n  }\n\n  return offset;\n});\n\nvar getDropImpact = (function (_ref) {\n  var reason = _ref.reason,\n      lastImpact = _ref.lastImpact,\n      home = _ref.home,\n      viewport = _ref.viewport,\n      draggables = _ref.draggables,\n      onLiftImpact = _ref.onLiftImpact,\n      onLift = _ref.onLift;\n  var didDropInsideDroppable = reason === 'DROP' && Boolean(whatIsDraggedOver(lastImpact));\n\n  if (!didDropInsideDroppable) {\n    var impact = recompute({\n      impact: onLiftImpact,\n      destination: home,\n      viewport: viewport,\n      draggables: draggables,\n      onLift: onLift,\n      forceShouldAnimate: true\n    });\n    return {\n      impact: impact,\n      didDropInsideDroppable: didDropInsideDroppable\n    };\n  }\n\n  if (lastImpact.destination) {\n    return {\n      impact: lastImpact,\n      didDropInsideDroppable: didDropInsideDroppable\n    };\n  }\n\n  var withoutMovement = _extends({}, lastImpact, {\n    movement: noMovement\n  });\n\n  return {\n    impact: withoutMovement,\n    didDropInsideDroppable: didDropInsideDroppable\n  };\n});\n\nvar drop$1 = (function (_ref) {\n  var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP') {\n        next(action);\n        return;\n      }\n\n      var state = getState();\n      var reason = action.payload.reason;\n\n      if (state.phase === 'COLLECTING') {\n        dispatch(dropPending({\n          reason: reason\n        }));\n        return;\n      }\n\n      if (state.phase === 'IDLE') {\n        return;\n      }\n\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\n      var critical = state.critical;\n      var dimensions = state.dimensions;\n\n      var _getDropImpact = getDropImpact({\n        reason: reason,\n        lastImpact: state.impact,\n        onLift: state.onLift,\n        onLiftImpact: state.onLiftImpact,\n        home: state.dimensions.droppables[state.critical.droppable.id],\n        viewport: state.viewport,\n        draggables: state.dimensions.draggables\n      }),\n          impact = _getDropImpact.impact,\n          didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;\n\n      var draggable = dimensions.draggables[state.critical.draggable.id];\n      var destination = didDropInsideDroppable ? impact.destination : null;\n      var combine = didDropInsideDroppable && impact.merge ? impact.merge.combine : null;\n      var source = {\n        index: critical.draggable.index,\n        droppableId: critical.droppable.id\n      };\n      var result = {\n        draggableId: draggable.descriptor.id,\n        type: draggable.descriptor.type,\n        source: source,\n        reason: reason,\n        mode: state.movementMode,\n        destination: destination,\n        combine: combine\n      };\n      var newHomeClientOffset = getNewHomeClientOffset({\n        impact: impact,\n        draggable: draggable,\n        dimensions: dimensions,\n        viewport: state.viewport,\n        onLift: state.onLift\n      });\n      var completed = {\n        critical: state.critical,\n        result: result,\n        impact: impact\n      };\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\n\n      if (!isAnimationRequired) {\n        dispatch(completeDrop({\n          completed: completed,\n          shouldFlush: false\n        }));\n        return;\n      }\n\n      var dropDuration = getDropDuration({\n        current: state.current.client.offset,\n        destination: newHomeClientOffset,\n        reason: reason\n      });\n      var args = {\n        newHomeClientOffset: newHomeClientOffset,\n        dropDuration: dropDuration,\n        completed: completed\n      };\n      dispatch(animateDrop(args));\n    };\n  };\n});\n\nvar position = function position(index) {\n  return index + 1;\n};\n\nvar onDragStart = function onDragStart(start) {\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \".\\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\\n\";\n};\n\nvar withLocation = function withLocation(source, destination) {\n  var isInHomeList = source.droppableId === destination.droppableId;\n  var startPosition = position(source.index);\n  var endPosition = position(destination.index);\n\n  if (isInHomeList) {\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\n  }\n\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\n};\n\nvar withCombine = function withCombine(id, source, combine) {\n  var inHomeList = source.droppableId === combine.droppableId;\n\n  if (inHomeList) {\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\n  }\n\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\n};\n\nvar onDragUpdate = function onDragUpdate(update) {\n  var location = update.destination;\n\n  if (location) {\n    return withLocation(update.source, location);\n  }\n\n  var combine = update.combine;\n\n  if (combine) {\n    return withCombine(update.draggableId, update.source, combine);\n  }\n\n  return 'You are over an area that cannot be dropped on';\n};\n\nvar returnedToStart = function returnedToStart(source) {\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\n};\n\nvar onDragEnd = function onDragEnd(result) {\n  if (result.reason === 'CANCEL') {\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\n  }\n\n  var location = result.destination;\n  var combine = result.combine;\n\n  if (location) {\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\n  }\n\n  if (combine) {\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\n  }\n\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\n};\n\nvar preset = {\n  onDragStart: onDragStart,\n  onDragUpdate: onDragUpdate,\n  onDragEnd: onDragEnd\n};\n\nvar getExpiringAnnounce = (function (announce) {\n  var wasCalled = false;\n  var isExpired = false;\n  var timeoutId = setTimeout(function () {\n    isExpired = true;\n  });\n\n  var result = function result(message) {\n    if (wasCalled) {\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\n      return;\n    }\n\n    if (isExpired) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\n      return;\n    }\n\n    wasCalled = true;\n    announce(message);\n    clearTimeout(timeoutId);\n  };\n\n  result.wasCalled = function () {\n    return wasCalled;\n  };\n\n  return result;\n});\n\nvar getAsyncMarshal = (function () {\n  var entries = [];\n\n  var execute = function execute(timerId) {\n    var index = findIndex(entries, function (item) {\n      return item.timerId === timerId;\n    });\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\n\n    var _entries$splice = entries.splice(index, 1),\n        entry = _entries$splice[0];\n\n    entry.callback();\n  };\n\n  var add = function add(fn) {\n    var timerId = setTimeout(function () {\n      return execute(timerId);\n    });\n    var entry = {\n      timerId: timerId,\n      callback: fn\n    };\n    entries.push(entry);\n  };\n\n  var flush = function flush() {\n    if (!entries.length) {\n      return;\n    }\n\n    var shallow = [].concat(entries);\n    entries.length = 0;\n    shallow.forEach(function (entry) {\n      clearTimeout(entry.timerId);\n      entry.callback();\n    });\n  };\n\n  return {\n    add: add,\n    flush: flush\n  };\n});\n\nvar areLocationsEqual = function areLocationsEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.droppableId === second.droppableId && first.index === second.index;\n};\nvar isCombineEqual = function isCombineEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\n};\nvar isCriticalEqual = function isCriticalEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\n  return isDraggableEqual && isDroppableEqual;\n};\n\nvar withTimings = function withTimings(key, fn) {\n  start(key);\n  fn();\n  finish(key);\n};\n\nvar getDragStart = function getDragStart(critical, mode) {\n  return {\n    draggableId: critical.draggable.id,\n    type: critical.droppable.type,\n    source: {\n      droppableId: critical.droppable.id,\n      index: critical.draggable.index\n    },\n    mode: mode\n  };\n};\n\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\n  if (!responder) {\n    announce(getDefaultMessage(data));\n    return;\n  }\n\n  var willExpire = getExpiringAnnounce(announce);\n  var provided = {\n    announce: willExpire\n  };\n  responder(data, provided);\n\n  if (!willExpire.wasCalled()) {\n    announce(getDefaultMessage(data));\n  }\n};\n\nvar getPublisher = (function (getResponders, announce) {\n  var asyncMarshal = getAsyncMarshal();\n  var dragging = null;\n\n  var beforeStart = function beforeStart(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeDragStart', function () {\n      var fn = getResponders().onBeforeDragStart;\n\n      if (fn) {\n        fn(getDragStart(critical, mode));\n      }\n    });\n  };\n\n  var start = function start(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    var data = getDragStart(critical, mode);\n    dragging = {\n      mode: mode,\n      lastCritical: critical,\n      lastLocation: data.source,\n      lastCombine: null\n    };\n    asyncMarshal.add(function () {\n      withTimings('onDragStart', function () {\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\n      });\n    });\n  };\n\n  var update = function update(critical, impact) {\n    var location = impact.destination;\n    var combine = impact.merge ? impact.merge.combine : null;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\n\n    if (hasCriticalChanged) {\n      dragging.lastCritical = critical;\n    }\n\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\n\n    if (hasLocationChanged) {\n      dragging.lastLocation = location;\n    }\n\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\n\n    if (hasGroupingChanged) {\n      dragging.lastCombine = combine;\n    }\n\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\n      return;\n    }\n\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\n      combine: combine,\n      destination: location\n    });\n\n    asyncMarshal.add(function () {\n      withTimings('onDragUpdate', function () {\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\n      });\n    });\n  };\n\n  var flush = function flush() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\n    asyncMarshal.flush();\n  };\n\n  var drop = function drop(result) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\n    dragging = null;\n    withTimings('onDragEnd', function () {\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\n    });\n  };\n\n  var abort = function abort() {\n    if (!dragging) {\n      return;\n    }\n\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\n      combine: null,\n      destination: null,\n      reason: 'CANCEL'\n    });\n\n    drop(result);\n  };\n\n  return {\n    beforeStart: beforeStart,\n    start: start,\n    update: update,\n    flush: flush,\n    drop: drop,\n    abort: abort\n  };\n});\n\nvar responders = (function (getResponders, announce) {\n  var publisher = getPublisher(getResponders, announce);\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          var critical = action.payload.critical;\n          publisher.beforeStart(critical, action.payload.movementMode);\n          next(action);\n          publisher.start(critical, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          var result = action.payload.completed.result;\n          publisher.flush();\n          next(action);\n          publisher.drop(result);\n          return;\n        }\n\n        next(action);\n\n        if (action.type === 'CLEAN') {\n          publisher.abort();\n          return;\n        }\n\n        var state = store.getState();\n\n        if (state.phase === 'DRAGGING') {\n          publisher.update(state.critical, state.impact);\n        }\n      };\n    };\n  };\n});\n\nvar dropAnimationFinish = (function (store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\n        next(action);\n        return;\n      }\n\n      var state = store.getState();\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\n      store.dispatch(completeDrop({\n        completed: state.completed,\n        shouldFlush: false\n      }));\n    };\n  };\n});\n\nvar dimensionMarshalStopper = (function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'DROP_COMPLETE' || action.type === 'CLEAN' || action.type === 'DROP_ANIMATE') {\n          marshal.stopPublishing();\n        }\n\n        next(action);\n      };\n    };\n  };\n});\n\nvar shouldEnd = function shouldEnd(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'CLEAN';\n};\n\nvar shouldCancelPending = function shouldCancelPending(action) {\n  return action.type === 'COLLECTION_STARTING';\n};\n\nvar autoScroll = (function (autoScroller) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (shouldEnd(action)) {\n          autoScroller.stop();\n          next(action);\n          return;\n        }\n\n        if (shouldCancelPending(action)) {\n          autoScroller.cancelPending();\n          next(action);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          next(action);\n          var state = store.getState();\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\n          autoScroller.start(state);\n          return;\n        }\n\n        next(action);\n        autoScroller.scroll(store.getState());\n      };\n    };\n  };\n});\n\nvar pendingDrop = (function (store) {\n  return function (next) {\n    return function (action) {\n      next(action);\n\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\n        return;\n      }\n\n      var postActionState = store.getState();\n\n      if (postActionState.phase !== 'DROP_PENDING') {\n        return;\n      }\n\n      if (postActionState.isWaiting) {\n        return;\n      }\n\n      store.dispatch(drop({\n        reason: postActionState.reason\n      }));\n    };\n  };\n});\n\nvar composeEnhancers = process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\nvar createStore = (function (_ref) {\n  var dimensionMarshal = _ref.dimensionMarshal,\n      styleMarshal = _ref.styleMarshal,\n      getResponders = _ref.getResponders,\n      announce = _ref.announce,\n      autoScroller = _ref.autoScroller;\n  return createStore$1(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(dimensionMarshal), lift$1(dimensionMarshal), drop$1, dropAnimationFinish, pendingDrop, autoScroll(autoScroller), responders(getResponders, announce))));\n});\n\nvar clean$2 = function clean() {\n  return {\n    additions: {},\n    removals: {},\n    modified: {}\n  };\n};\n\nvar timingKey = 'Publish collection from DOM';\nvar createPublisher = (function (_ref) {\n  var getEntries = _ref.getEntries,\n      callbacks = _ref.callbacks;\n\n  var advancedUsageWarning = function () {\n    if (process.env.NODE_ENV === 'production') {\n      return function () {};\n    }\n\n    var hasAnnounced = false;\n    return function () {\n      if (hasAnnounced) {\n        return;\n      }\n\n      hasAnnounced = true;\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Advanced usage warning: you are adding or removing a dimension during a drag\\n        This an advanced feature.\\n\\n        More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/changes-while-dragging.md\\n      \") : void 0;\n    };\n  }();\n\n  var staging = clean$2();\n  var frameId = null;\n\n  var collect = function collect() {\n    advancedUsageWarning();\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      callbacks.collectionStarting();\n      var critical = callbacks.getCritical();\n      start(timingKey);\n      var entries = getEntries();\n      var _staging = staging,\n          additions = _staging.additions,\n          removals = _staging.removals,\n          modified = _staging.modified;\n\n      var added = _Object$keys(additions).map(function (id) {\n        return entries.draggables[id].getDimension(origin);\n      }).sort(function (a, b) {\n        return a.descriptor.index - b.descriptor.index;\n      });\n\n      var updated = _Object$keys(modified).map(function (id) {\n        var entry = entries.droppables[id];\n        !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find dynamically added droppable in cache') : invariant(false) : void 0;\n        var isHome = entry.descriptor.id === critical.droppable.id;\n        var options = {\n          withoutPlaceholder: !isHome\n        };\n        return entry.callbacks.recollect(options);\n      });\n\n      var result = {\n        additions: added,\n        removals: _Object$keys(removals),\n        modified: updated\n      };\n      staging = clean$2();\n      finish(timingKey);\n      callbacks.publish(result);\n    });\n  };\n\n  var add = function add(descriptor) {\n    staging.additions[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.removals[descriptor.id]) {\n      delete staging.removals[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var remove = function remove(descriptor) {\n    staging.removals[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.additions[descriptor.id]) {\n      delete staging.additions[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var stop = function stop() {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n    staging = clean$2();\n  };\n\n  return {\n    add: add,\n    remove: remove,\n    stop: stop\n  };\n});\n\nvar getWindowScroll = (function () {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n});\n\nvar getDocumentElement = (function () {\n  var doc = document.documentElement;\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\n  return doc;\n});\n\nvar getMaxWindowScroll = (function () {\n  var doc = getDocumentElement();\n  var maxScroll = getMaxScroll({\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n});\n\nvar getViewport = (function () {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n  var doc = getDocumentElement();\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n  var right = left + width;\n  var bottom = top + height;\n  var frame = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    frame: frame,\n    scroll: {\n      initial: scroll,\n      current: scroll,\n      max: maxScroll,\n      diff: {\n        value: origin,\n        displacement: origin\n      }\n    }\n  };\n  return viewport;\n});\n\nvar getInitialPublish = (function (_ref) {\n  var critical = _ref.critical,\n      scrollOptions = _ref.scrollOptions,\n      entries = _ref.entries;\n  var timingKey = 'Initial collection from DOM';\n  start(timingKey);\n  var viewport = getViewport();\n  var windowScroll = viewport.scroll.current;\n  var home = critical.droppable;\n  var droppables = values(entries.droppables).filter(function (entry) {\n    return entry.descriptor.type === home.type;\n  }).map(function (entry) {\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\n  });\n  var draggables = values(entries.draggables).filter(function (entry) {\n    return entry.descriptor.type === critical.draggable.type;\n  }).map(function (entry) {\n    return entry.getDimension(windowScroll);\n  });\n  var dimensions = {\n    draggables: toDraggableMap(draggables),\n    droppables: toDroppableMap(droppables)\n  };\n  finish(timingKey);\n  var result = {\n    dimensions: dimensions,\n    critical: critical,\n    viewport: viewport\n  };\n  return result;\n});\n\nvar throwIfAddOrRemoveOfWrongType = function throwIfAddOrRemoveOfWrongType(collection, descriptor) {\n  !(collection.critical.draggable.type === descriptor.type) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"We have detected that you have added a Draggable during a drag.\\n      This is not of the same type as the dragging item\\n\\n      Dragging type: \" + collection.critical.draggable.type + \".\\n      Added type: \" + descriptor.type + \"\\n\\n      We are not allowing this as you can run into problems if your change\\n      has shifted the positioning of other Droppables, or has changed the size of the page\") : invariant(false) : void 0;\n};\n\nvar createDimensionMarshal = (function (callbacks) {\n  var entries = {\n    droppables: {},\n    draggables: {}\n  };\n  var collection = null;\n  var publisher = createPublisher({\n    callbacks: {\n      publish: callbacks.publishWhileDragging,\n      collectionStarting: callbacks.collectionStarting,\n      getCritical: function getCritical() {\n        !collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get critical when there is no collection') : invariant(false) : void 0;\n        return collection.critical;\n      }\n    },\n    getEntries: function getEntries() {\n      return entries;\n    }\n  });\n\n  var registerDraggable = function registerDraggable(descriptor, getDimension) {\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n\n    if (!collection) {\n      return;\n    }\n\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.add(descriptor);\n  };\n\n  var updateDraggable = function updateDraggable(published, descriptor, getDimension) {\n    var existing = entries.draggables[published.id];\n    !existing ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update draggable registration as no published registration was found') : invariant(false) : void 0;\n\n    if (existing.descriptor === published) {\n      delete entries.draggables[published.id];\n    } else {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Detected incorrect usage of 'key' on '<Draggable draggableId=\\\"\" + published.id + \"\\\"$ />\\n\\n        Your 'key' should be:\\n        - Unique for each Draggable in a list\\n        - Not be based on the index of the Draggable\\n\\n        Usually you want your 'key' to just be the 'draggableId'\\n\\n        More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/draggable.md#keys-for-a-list-of-draggable-\\n      \") : void 0;\n    }\n\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n  };\n\n  var unregisterDraggable = function unregisterDraggable(descriptor) {\n    var entry = entries.draggables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Draggable with id:\\n      \" + descriptor.id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n\n    delete entries.draggables[descriptor.id];\n\n    if (!collection) {\n      return;\n    }\n\n    !(collection.critical.draggable.id !== descriptor.id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove the dragging item during a drag') : invariant(false) : void 0;\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.remove(descriptor);\n  };\n\n  var registerDroppable = function registerDroppable(descriptor, droppableCallbacks) {\n    var id = descriptor.id;\n    entries.droppables[id] = {\n      descriptor: descriptor,\n      callbacks: droppableCallbacks\n    };\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var unregisterDroppable = function unregisterDroppable(descriptor) {\n    var entry = entries.droppables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Droppable with id \" + descriptor.id + \" as as it is not registered\") : invariant(false) : void 0;\n\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n\n    delete entries.droppables[descriptor.id];\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsEnabled({\n      id: id,\n      isEnabled: isEnabled\n    });\n  };\n\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsCombineEnabled({\n      id: id,\n      isCombineEnabled: isCombineEnabled\n    });\n  };\n\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableScroll({\n      id: id,\n      offset: newScroll\n    });\n  };\n\n  var scrollDroppable = function scrollDroppable(id, change) {\n    var entry = entries.droppables[id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot scroll Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    entry.callbacks.scroll(change);\n  };\n\n  var stopPublishing = function stopPublishing() {\n    if (!collection) {\n      return;\n    }\n\n    publisher.stop();\n    var home = collection.critical.droppable;\n    values(entries.droppables).filter(function (entry) {\n      return entry.descriptor.type === home.type;\n    }).forEach(function (entry) {\n      return entry.callbacks.dragStopped();\n    });\n    collection = null;\n  };\n\n  var startPublishing = function startPublishing(request) {\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\n    var entry = entries.draggables[request.draggableId];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical draggable entry') : invariant(false) : void 0;\n    var home = entries.droppables[entry.descriptor.droppableId];\n    !home ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical droppable entry') : invariant(false) : void 0;\n    var critical = {\n      draggable: entry.descriptor,\n      droppable: home.descriptor\n    };\n    collection = {\n      critical: critical\n    };\n    return getInitialPublish({\n      critical: critical,\n      entries: entries,\n      scrollOptions: request.scrollOptions\n    });\n  };\n\n  var marshal = {\n    registerDraggable: registerDraggable,\n    updateDraggable: updateDraggable,\n    unregisterDraggable: unregisterDraggable,\n    registerDroppable: registerDroppable,\n    unregisterDroppable: unregisterDroppable,\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n    scrollDroppable: scrollDroppable,\n    updateDroppableScroll: updateDroppableScroll,\n    startPublishing: startPublishing,\n    stopPublishing: stopPublishing\n  };\n  return marshal;\n});\n\nvar canStartDrag = (function (state, id) {\n  if (state.phase === 'IDLE') {\n    return true;\n  }\n\n  if (state.phase !== 'DROP_ANIMATING') {\n    return false;\n  }\n\n  if (state.completed.result.draggableId === id) {\n    return false;\n  }\n\n  return state.completed.result.reason === 'DROP';\n});\n\nvar scrollWindow = (function (change) {\n  window.scrollBy(change.x, change.y);\n});\n\nvar getScrollableDroppables = memoizeOne(function (droppables) {\n  return toDroppableList(droppables).filter(function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    if (!droppable.frame) {\n      return false;\n    }\n\n    return true;\n  });\n});\n\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\n  });\n  return maybe;\n};\n\nvar getBestScrollableDroppable = (function (_ref) {\n  var center = _ref.center,\n      destination = _ref.destination,\n      droppables = _ref.droppables;\n\n  if (destination) {\n    var _dimension = droppables[destination];\n\n    if (!_dimension.frame) {\n      return null;\n    }\n\n    return _dimension;\n  }\n\n  var dimension = getScrollableDroppableOver(center, droppables);\n  return dimension;\n});\n\nvar config = {\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  maxPixelScroll: 28,\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    stopDampeningAt: 1200,\n    accelerateAt: 360\n  }\n};\n\nvar getDistanceThresholds = (function (container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n});\n\nvar getPercentage = (function (_ref) {\n  var startOfRange = _ref.startOfRange,\n      endOfRange = _ref.endOfRange,\n      current = _ref.current;\n  var range = endOfRange - startOfRange;\n\n  if (range === 0) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\n    return 0;\n  }\n\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n});\n\nvar minScroll = 1;\n\nvar getValueFromDistance = (function (distanceToEdge, thresholds) {\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n  return Math.ceil(scroll);\n});\n\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\nvar dampenValueByTime = (function (proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n\n  var now = _Date$now();\n\n  var runTime = now - startOfRange;\n\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n});\n\nvar getValue = (function (_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n      thresholds = _ref.thresholds,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n\n  if (scroll === 0) {\n    return 0;\n  }\n\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n});\n\nvar getScrollOnAxis = (function (_ref) {\n  var container = _ref.container,\n      distanceToEdges = _ref.distanceToEdges,\n      dragStartTime = _ref.dragStartTime,\n      axis = _ref.axis,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n});\n\nvar adjustForSizeLimits = (function (_ref) {\n  var container = _ref.container,\n      subject = _ref.subject,\n      proposedScroll = _ref.proposedScroll;\n  var isTooBigVertically = subject.height > container.height;\n  var isTooBigHorizontally = subject.width > container.width;\n\n  if (!isTooBigHorizontally && !isTooBigVertically) {\n    return proposedScroll;\n  }\n\n  if (isTooBigHorizontally && isTooBigVertically) {\n    return null;\n  }\n\n  return {\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\n    y: isTooBigVertically ? 0 : proposedScroll.y\n  };\n});\n\nvar clean$3 = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\nvar getScroll = (function (_ref) {\n  var dragStartTime = _ref.dragStartTime,\n      container = _ref.container,\n      subject = _ref.subject,\n      center = _ref.center,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean$3({\n    x: x,\n    y: y\n  });\n\n  if (isEqual(required, origin)) {\n    return null;\n  }\n\n  var limited = adjustForSizeLimits({\n    container: container,\n    subject: subject,\n    proposedScroll: required\n  });\n\n  if (!limited) {\n    return null;\n  }\n\n  return isEqual(limited, origin) ? null : limited;\n});\n\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n\n  return value > 0 ? 1 : -1;\n});\nvar getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n\n    if (target > max) {\n      return target - max;\n    }\n\n    return 0;\n  };\n\n  return function (_ref) {\n    var current = _ref.current,\n        max = _ref.max,\n        change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n\n    return overlap;\n  };\n}();\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n      current = _ref2.current,\n      change = _ref2.change;\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n\n  if (!overlap) {\n    return true;\n  }\n\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n\n  return false;\n};\nvar canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return false;\n  }\n\n  return canPartiallyScroll({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  if (!canScrollDroppable(droppable, change)) {\n    return null;\n  }\n\n  return getOverlap({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowScrollChange = (function (_ref) {\n  var viewport = _ref.viewport,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.frame,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n});\n\nvar getDroppableScrollChange = (function (_ref) {\n  var droppable = _ref.droppable,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: frame.pageMarginBox,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\n});\n\nvar scroll$1 = (function (_ref) {\n  var state = _ref.state,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n      scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var center = state.current.page.borderBoxCenter;\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var subject = draggable.page.marginBox;\n\n  if (state.isWindowScrollAllowed) {\n    var viewport = state.viewport;\n\n    var _change = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      subject: subject,\n      center: center,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n\n    if (_change) {\n      scrollWindow(_change);\n      return;\n    }\n  }\n\n  var droppable = getBestScrollableDroppable({\n    center: center,\n    destination: whatIsDraggedOver(state.impact),\n    droppables: state.dimensions.droppables\n  });\n\n  if (!droppable) {\n    return;\n  }\n\n  var change = getDroppableScrollChange({\n    dragStartTime: dragStartTime,\n    droppable: droppable,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n\n  if (change) {\n    scrollDroppable(droppable.descriptor.id, change);\n  }\n});\n\nvar createFluidScroller = (function (_ref) {\n  var scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var scheduleWindowScroll = rafSchd(scrollWindow);\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\n  var dragging = null;\n\n  var tryScroll = function tryScroll(state) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\n    var _dragging = dragging,\n        shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\n        dragStartTime = _dragging.dragStartTime;\n    scroll$1({\n      state: state,\n      scrollWindow: scheduleWindowScroll,\n      scrollDroppable: scheduleDroppableScroll,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  };\n\n  var cancelPending = function cancelPending() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot cancel pending fluid scroll when not started') : invariant(false) : void 0;\n    scheduleWindowScroll.cancel();\n    scheduleDroppableScroll.cancel();\n  };\n\n  var start$1 = function start$1(state) {\n    start('starting fluid scroller');\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\n\n    var dragStartTime = _Date$now();\n\n    var wasScrollNeeded = false;\n\n    var fakeScrollCallback = function fakeScrollCallback() {\n      wasScrollNeeded = true;\n    };\n\n    scroll$1({\n      state: state,\n      dragStartTime: 0,\n      shouldUseTimeDampening: false,\n      scrollWindow: fakeScrollCallback,\n      scrollDroppable: fakeScrollCallback\n    });\n    dragging = {\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: wasScrollNeeded\n    };\n    finish('starting fluid scroller');\n\n    if (wasScrollNeeded) {\n      tryScroll(state);\n    }\n  };\n\n  var stop = function stop() {\n    if (!dragging) {\n      return;\n    }\n\n    cancelPending();\n    dragging = null;\n  };\n\n  return {\n    start: start$1,\n    stop: stop,\n    cancelPending: cancelPending,\n    scroll: tryScroll\n  };\n});\n\nvar createJumpScroller = (function (_ref) {\n  var move = _ref.move,\n      scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow;\n\n  var moveByOffset = function moveByOffset(state, offset) {\n    var client = add(state.current.client.selection, offset);\n    move({\n      client: client\n    });\n  };\n\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\n    if (!canScrollDroppable(droppable, change)) {\n      return change;\n    }\n\n    var overlap = getDroppableOverlap(droppable, change);\n\n    if (!overlap) {\n      scrollDroppable(droppable.descriptor.id, change);\n      return null;\n    }\n\n    var whatTheDroppableCanScroll = subtract(change, overlap);\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\n    var remainder = subtract(change, whatTheDroppableCanScroll);\n    return remainder;\n  };\n\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\n    if (!isWindowScrollAllowed) {\n      return change;\n    }\n\n    if (!canScrollWindow(viewport, change)) {\n      return change;\n    }\n\n    var overlap = getWindowOverlap(viewport, change);\n\n    if (!overlap) {\n      scrollWindow(change);\n      return null;\n    }\n\n    var whatTheWindowCanScroll = subtract(change, overlap);\n    scrollWindow(whatTheWindowCanScroll);\n    var remainder = subtract(change, whatTheWindowCanScroll);\n    return remainder;\n  };\n\n  var jumpScroller = function jumpScroller(state) {\n    var request = state.scrollJumpRequest;\n\n    if (!request) {\n      return;\n    }\n\n    var destination = whatIsDraggedOver(state.impact);\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\n\n    if (!droppableRemainder) {\n      return;\n    }\n\n    var viewport = state.viewport;\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\n\n    if (!windowRemainder) {\n      return;\n    }\n\n    moveByOffset(state, windowRemainder);\n  };\n\n  return jumpScroller;\n});\n\nvar createAutoScroller = (function (_ref) {\n  var scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow,\n      move = _ref.move;\n  var fluidScroller = createFluidScroller({\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var jumpScroll = createJumpScroller({\n    move: move,\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n\n  var scroll = function scroll(state) {\n    if (state.phase !== 'DRAGGING') {\n      return;\n    }\n\n    if (state.movementMode === 'FLUID') {\n      fluidScroller.scroll(state);\n      return;\n    }\n\n    if (!state.scrollJumpRequest) {\n      return;\n    }\n\n    jumpScroll(state);\n  };\n\n  var scroller = {\n    scroll: scroll,\n    cancelPending: fluidScroller.cancelPending,\n    start: fluidScroller.start,\n    stop: fluidScroller.stop\n  };\n  return scroller;\n});\n\nvar prefix = 'data-react-beautiful-dnd';\nvar dragHandle = prefix + \"-drag-handle\";\nvar draggable = prefix + \"-draggable\";\nvar droppable = prefix + \"-droppable\";\n\nvar makeGetSelector = function makeGetSelector(context) {\n  return function (attribute) {\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\n  };\n};\n\nvar getStyles = function getStyles(rules, property) {\n  return rules.map(function (rule) {\n    var value = rule.styles[property];\n\n    if (!value) {\n      return '';\n    }\n\n    return rule.selector + \" { \" + value + \" }\";\n  }).join(' ');\n};\n\nvar noPointerEvents = 'pointer-events: none;';\nvar getStyles$1 = (function (uniqueContext) {\n  var getSelector = makeGetSelector(uniqueContext);\n\n  var dragHandle$1 = function () {\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\n    return {\n      selector: getSelector(dragHandle),\n      styles: {\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\n        resting: grabCursor,\n        dragging: noPointerEvents,\n        dropAnimating: grabCursor\n      }\n    };\n  }();\n\n  var draggable$1 = function () {\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\n    return {\n      selector: getSelector(draggable),\n      styles: {\n        dragging: transition,\n        dropAnimating: transition,\n        userCancel: transition\n      }\n    };\n  }();\n\n  var droppable$1 = {\n    selector: getSelector(droppable),\n    styles: {\n      always: \"overflow-anchor: none;\"\n    }\n  };\n  var body = {\n    selector: 'body',\n    styles: {\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\n    }\n  };\n  var rules = [draggable$1, dragHandle$1, droppable$1, body];\n  return {\n    always: getStyles(rules, 'always'),\n    resting: getStyles(rules, 'resting'),\n    dragging: getStyles(rules, 'dragging'),\n    dropAnimating: getStyles(rules, 'dropAnimating'),\n    userCancel: getStyles(rules, 'userCancel')\n  };\n});\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar getHead = function getHead() {\n  var head = document.querySelector('head');\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\n  return head;\n};\n\nvar createStyleEl = function createStyleEl() {\n  var el = document.createElement('style');\n  el.type = 'text/css';\n  return el;\n};\n\nfunction useStyleMarshal(uniqueId) {\n  var uniqueContext = useMemo(function () {\n    return \"\" + uniqueId;\n  }, [uniqueId]);\n  var styles = useMemo(function () {\n    return getStyles$1(uniqueContext);\n  }, [uniqueContext]);\n  var alwaysRef = useRef(null);\n  var dynamicRef = useRef(null);\n  var setDynamicStyle = useCallback(memoizeOne(function (proposed) {\n    var el = dynamicRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }), []);\n  var setAlwaysStyle = useCallback(function (proposed) {\n    var el = alwaysRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    !(!alwaysRef.current && !dynamicRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'style elements already mounted') : invariant(false) : void 0;\n    var always = createStyleEl();\n    var dynamic = createStyleEl();\n    alwaysRef.current = always;\n    dynamicRef.current = dynamic;\n    always.setAttribute(prefix + \"-always\", uniqueContext);\n    dynamic.setAttribute(prefix + \"-dynamic\", uniqueContext);\n    getHead().appendChild(always);\n    getHead().appendChild(dynamic);\n    setAlwaysStyle(styles.always);\n    setDynamicStyle(styles.resting);\n    return function () {\n      var remove = function remove(ref) {\n        var current = ref.current;\n        !current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount ref as it is not set') : invariant(false) : void 0;\n        getHead().removeChild(current);\n        ref.current = null;\n      };\n\n      remove(alwaysRef);\n      remove(dynamicRef);\n    };\n  }, [setAlwaysStyle, setDynamicStyle, styles.always, styles.resting, uniqueContext]);\n  var dragging = useCallback(function () {\n    return setDynamicStyle(styles.dragging);\n  }, [setDynamicStyle, styles.dragging]);\n  var dropping = useCallback(function (reason) {\n    if (reason === 'DROP') {\n      setDynamicStyle(styles.dropAnimating);\n      return;\n    }\n\n    setDynamicStyle(styles.userCancel);\n  }, [setDynamicStyle, styles.dropAnimating, styles.userCancel]);\n  var resting = useCallback(function () {\n    if (!dynamicRef.current) {\n      return;\n    }\n\n    setDynamicStyle(styles.resting);\n  }, [setDynamicStyle, styles.resting]);\n  var marshal = useMemo(function () {\n    return {\n      dragging: dragging,\n      dropping: dropping,\n      resting: resting,\n      styleContext: uniqueContext\n    };\n  }, [dragging, dropping, resting, uniqueContext]);\n  return marshal;\n}\n\nvar StoreContext = React.createContext(null);\n\nvar getBodyElement = (function () {\n  var body = document.body;\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\n  return body;\n});\n\nvar visuallyHidden = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  margin: '-1px',\n  border: '0',\n  padding: '0',\n  overflow: 'hidden',\n  clip: 'rect(0 0 0 0)',\n  'clip-path': 'inset(100%)'\n};\nvar getId = function getId(uniqueId) {\n  return \"react-beautiful-dnd-announcement-\" + uniqueId;\n};\nfunction useAnnouncer(uniqueId) {\n  var id = useMemo(function () {\n    return getId(uniqueId);\n  }, [uniqueId]);\n  var ref = useRef(null);\n  useEffect(function () {\n    !!ref.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Announcement node already mounted') : invariant(false) : void 0;\n    var el = document.createElement('div');\n    ref.current = el;\n    el.id = id;\n    el.setAttribute('aria-live', 'assertive');\n    el.setAttribute('role', 'log');\n    el.setAttribute('aria-atomic', 'true');\n\n    _Object$assign(el.style, visuallyHidden);\n\n    getBodyElement().appendChild(el);\n    return function () {\n      var toBeRemoved = ref.current;\n      !toBeRemoved ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount announcement node') : invariant(false) : void 0;\n      getBodyElement().removeChild(toBeRemoved);\n      ref.current = null;\n    };\n  }, [id]);\n  var announce = useCallback(function (message) {\n    var el = ref.current;\n\n    if (el) {\n      el.textContent = message;\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\n  }, []);\n  return announce;\n}\n\nvar AppContext = React.createContext(null);\n\nvar peerDependencies = {\n\treact: \"^16.8.5\"\n};\n\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\n\nvar getVersion = function getVersion(value) {\n  var result = semver.exec(value);\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\n  var major = Number(result[1]);\n  var minor = Number(result[2]);\n  var patch = Number(result[3]);\n  return {\n    major: major,\n    minor: minor,\n    patch: patch,\n    raw: value\n  };\n};\n\nvar isSatisfied = function isSatisfied(expected, actual) {\n  if (actual.major > expected.major) {\n    return true;\n  }\n\n  if (actual.major < expected.major) {\n    return false;\n  }\n\n  if (actual.minor > expected.minor) {\n    return true;\n  }\n\n  if (actual.minor < expected.minor) {\n    return false;\n  }\n\n  return actual.patch >= expected.patch;\n};\n\nvar checkReactVersion = (function (peerDepValue, actualValue) {\n  var peerDep = getVersion(peerDepValue);\n  var actual = getVersion(actualValue);\n\n  if (isSatisfied(peerDep, actual)) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\n});\n\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\\n\";\nvar checkDoctype = (function (doc) {\n  var doctype = doc.doctype;\n\n  if (!doctype) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\n    return;\n  }\n\n  if (doctype.name.toLowerCase() !== 'html') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n\n  if (doctype.publicId !== '') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n});\n\nfunction useStartupValidation() {\n  useEffect(function () {\n    if (process.env.NODE_ENV === 'production') {\n      return;\n    }\n\n    checkReactVersion(peerDependencies.react, React.version);\n    checkDoctype(document);\n  }, []);\n}\n\nfunction usePrevious(current) {\n  var ref = useRef(current);\n  useEffect(function () {\n    ref.current = current;\n  });\n  return ref;\n}\n\nvar createResponders = function createResponders(props) {\n  return {\n    onBeforeDragStart: props.onBeforeDragStart,\n    onDragStart: props.onDragStart,\n    onDragEnd: props.onDragEnd,\n    onDragUpdate: props.onDragUpdate\n  };\n};\n\nfunction getStore(lazyRef) {\n  !lazyRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find store from lazy ref') : invariant(false) : void 0;\n  return lazyRef.current;\n}\n\nfunction App(props) {\n  var uniqueId = props.uniqueId,\n      setOnError = props.setOnError;\n  var lazyStoreRef = useRef(null);\n  useStartupValidation();\n  var lastPropsRef = usePrevious(props);\n  var getResponders = useCallback(function () {\n    return createResponders(lastPropsRef.current);\n  }, [lastPropsRef]);\n  var announce = useAnnouncer(uniqueId);\n  var styleMarshal = useStyleMarshal(uniqueId);\n  var lazyDispatch = useCallback(function (action) {\n    getStore(lazyStoreRef).dispatch(action);\n  }, []);\n  var callbacks = useMemo(function () {\n    return bindActionCreators({\n      publishWhileDragging: publishWhileDragging$1,\n      updateDroppableScroll: updateDroppableScroll,\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n      collectionStarting: collectionStarting\n    }, lazyDispatch);\n  }, [lazyDispatch]);\n  var dimensionMarshal = useMemo(function () {\n    return createDimensionMarshal(callbacks);\n  }, [callbacks]);\n  var autoScroller = useMemo(function () {\n    return createAutoScroller(_extends({\n      scrollWindow: scrollWindow,\n      scrollDroppable: dimensionMarshal.scrollDroppable\n    }, bindActionCreators({\n      move: move\n    }, lazyDispatch)));\n  }, [dimensionMarshal.scrollDroppable, lazyDispatch]);\n  var store = useMemo(function () {\n    return createStore({\n      dimensionMarshal: dimensionMarshal,\n      styleMarshal: styleMarshal,\n      announce: announce,\n      autoScroller: autoScroller,\n      getResponders: getResponders\n    });\n  }, [announce, autoScroller, dimensionMarshal, getResponders, styleMarshal]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (lazyStoreRef.current && lazyStoreRef.current !== store) {\n      process.env.NODE_ENV !== \"production\" ? warning('unexpected store change') : void 0;\n    }\n  }\n\n  lazyStoreRef.current = store;\n  var tryResetStore = useCallback(function () {\n    var current = getStore(lazyStoreRef);\n    var state = current.getState();\n\n    if (state.phase !== 'IDLE') {\n      current.dispatch(clean$1({\n        shouldFlush: true\n      }));\n    }\n  }, []);\n  setOnError(tryResetStore);\n  var getCanLift = useCallback(function (id) {\n    return canStartDrag(getStore(lazyStoreRef).getState(), id);\n  }, []);\n  var getIsMovementAllowed = useCallback(function () {\n    return isMovementAllowed(getStore(lazyStoreRef).getState());\n  }, []);\n  var appContext = useMemo(function () {\n    return {\n      marshal: dimensionMarshal,\n      style: styleMarshal.styleContext,\n      canLift: getCanLift,\n      isMovementAllowed: getIsMovementAllowed\n    };\n  }, [dimensionMarshal, getCanLift, getIsMovementAllowed, styleMarshal.styleContext]);\n  useEffect(function () {\n    return tryResetStore;\n  }, [tryResetStore]);\n  return React.createElement(AppContext.Provider, {\n    value: appContext\n  }, React.createElement(Provider, {\n    context: StoreContext,\n    store: store\n  }, props.children));\n}\n\nvar instanceCount = 0;\nfunction resetServerContext() {\n  instanceCount = 0;\n}\nfunction DragDropContext(props) {\n  var uniqueId = useMemo(function () {\n    return instanceCount++;\n  }, []);\n  return React.createElement(ErrorBoundary, null, function (setOnError) {\n    return React.createElement(App, _extends({\n      setOnError: setOnError,\n      uniqueId: uniqueId\n    }, props), props.children);\n  });\n}\n\nvar isEqual$2 = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\n\nvar isScroll = isEqual$2('scroll');\nvar isAuto = isEqual$2('auto');\nvar isVisible$1 = isEqual$2('visible');\n\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\n\nvar isBoth = function isBoth(overflow, fn) {\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\n};\n\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\n\nvar isBodyScrollable = function isBodyScrollable() {\n  if (process.env.NODE_ENV === 'production') {\n    return false;\n  }\n\n  var body = getBodyElement();\n  var html = document.documentElement;\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n\n  if (!isElementScrollable(body)) {\n    return false;\n  }\n\n  var htmlStyle = window.getComputedStyle(html);\n  var htmlOverflow = {\n    overflowX: htmlStyle.overflowX,\n    overflowY: htmlStyle.overflowY\n  };\n\n  if (isBoth(htmlOverflow, isVisible$1)) {\n    return false;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\n  return false;\n};\n\nvar getClosestScrollable = function getClosestScrollable(el) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el === document.body) {\n    return isBodyScrollable() ? el : null;\n  }\n\n  if (el === document.documentElement) {\n    return null;\n  }\n\n  if (!isElementScrollable(el)) {\n    return getClosestScrollable(el.parentElement);\n  }\n\n  return el;\n};\n\nvar checkForNestedScrollContainers = (function (scrollable) {\n  if (!scrollable) {\n    return;\n  }\n\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\n\n  if (!anotherScrollParent) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\n});\n\nvar getScroll$1 = (function (el) {\n  return {\n    x: el.scrollLeft,\n    y: el.scrollTop\n  };\n});\n\nvar getIsFixed = function getIsFixed(el) {\n  if (!el) {\n    return false;\n  }\n\n  var style = window.getComputedStyle(el);\n\n  if (style.position === 'fixed') {\n    return true;\n  }\n\n  return getIsFixed(el.parentElement);\n};\n\nvar getEnv = (function (start) {\n  var closestScrollable = getClosestScrollable(start);\n  var isFixedOnPage = getIsFixed(start);\n  return {\n    closestScrollable: closestScrollable,\n    isFixedOnPage: isFixedOnPage\n  };\n});\n\nvar getClient = function getClient(targetRef, closestScrollable) {\n  var base = getBox(targetRef);\n\n  if (!closestScrollable) {\n    return base;\n  }\n\n  if (targetRef !== closestScrollable) {\n    return base;\n  }\n\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\n  var bottom = top + closestScrollable.scrollHeight;\n  var right = left + closestScrollable.scrollWidth;\n  var paddingBox = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  var borderBox = expand(paddingBox, base.border);\n  var client = createBox({\n    borderBox: borderBox,\n    margin: base.margin,\n    border: base.border,\n    padding: base.padding\n  });\n  return client;\n};\n\nvar getDimension = (function (_ref) {\n  var ref = _ref.ref,\n      descriptor = _ref.descriptor,\n      env = _ref.env,\n      windowScroll = _ref.windowScroll,\n      direction = _ref.direction,\n      isDropDisabled = _ref.isDropDisabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      shouldClipSubject = _ref.shouldClipSubject;\n  var closestScrollable = env.closestScrollable;\n  var client = getClient(ref, closestScrollable);\n  var page = withScroll(client, windowScroll);\n\n  var closest = function () {\n    if (!closestScrollable) {\n      return null;\n    }\n\n    var frameClient = getBox(closestScrollable);\n    var scrollSize = {\n      scrollHeight: closestScrollable.scrollHeight,\n      scrollWidth: closestScrollable.scrollWidth\n    };\n    return {\n      client: frameClient,\n      page: withScroll(frameClient, windowScroll),\n      scroll: getScroll$1(closestScrollable),\n      scrollSize: scrollSize,\n      shouldClipSubject: shouldClipSubject\n    };\n  }();\n\n  var dimension = getDroppableDimension({\n    descriptor: descriptor,\n    isEnabled: !isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: env.isFixedOnPage,\n    direction: direction,\n    client: client,\n    page: page,\n    closest: closest\n  });\n  return dimension;\n});\n\nfunction withoutPlaceholder(placeholder, fn) {\n  if (!placeholder) {\n    return fn();\n  }\n\n  var last = placeholder.style.display;\n  placeholder.style.display = 'none';\n  var result = fn();\n  placeholder.style.display = last;\n  return result;\n}\n\nvar immediate = {\n  passive: false\n};\nvar delayed = {\n  passive: true\n};\nvar getListenerOptions = (function (options) {\n  return options.shouldPublishImmediately ? immediate : delayed;\n});\n\nfunction useRequiredContext(Context) {\n  var result = useContext(Context);\n  !result ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find required context') : invariant(false) : void 0;\n  return result;\n}\n\nvar getClosestScrollableFromDrag = function getClosestScrollableFromDrag(dragging) {\n  return dragging && dragging.env.closestScrollable || null;\n};\n\nfunction useDroppableDimensionPublisher(args) {\n  var whileDraggingRef = useRef(null);\n  var appContext = useRequiredContext(AppContext);\n  var marshal = appContext.marshal;\n  var previousRef = usePrevious(args);\n  var descriptor = useMemo(function () {\n    return {\n      id: args.droppableId,\n      type: args.type\n    };\n  }, [args.droppableId, args.type]);\n  var publishedDescriptorRef = useRef(descriptor);\n  var memoizedUpdateScroll = useMemo(function () {\n    return memoizeOne(function (x, y) {\n      !whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only update scroll when dragging') : invariant(false) : void 0;\n      var scroll = {\n        x: x,\n        y: y\n      };\n      marshal.updateDroppableScroll(descriptor.id, scroll);\n    });\n  }, [descriptor.id, marshal]);\n  var getClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n\n    if (!dragging || !dragging.env.closestScrollable) {\n      return origin;\n    }\n\n    return getScroll$1(dragging.env.closestScrollable);\n  }, []);\n  var updateScroll = useCallback(function () {\n    var scroll = getClosestScroll();\n    memoizedUpdateScroll(scroll.x, scroll.y);\n  }, [getClosestScroll, memoizedUpdateScroll]);\n  var scheduleScrollUpdate = useMemo(function () {\n    return rafSchd(updateScroll);\n  }, [updateScroll]);\n  var onClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\n    var options = dragging.scrollOptions;\n\n    if (options.shouldPublishImmediately) {\n      updateScroll();\n      return;\n    }\n\n    scheduleScrollUpdate();\n  }, [scheduleScrollUpdate, updateScroll]);\n  var getDimensionAndWatchScroll = useCallback(function (windowScroll, options) {\n    !!whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\n    var previous = previousRef.current;\n    var ref = previous.getDroppableRef();\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\n    var env = getEnv(ref);\n    var dragging = {\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      scrollOptions: options\n    };\n    whileDraggingRef.current = dragging;\n    var dimension = getDimension({\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      windowScroll: windowScroll,\n      direction: previous.direction,\n      isDropDisabled: previous.isDropDisabled,\n      isCombineEnabled: previous.isCombineEnabled,\n      shouldClipSubject: !previous.ignoreContainerClipping\n    });\n\n    if (env.closestScrollable) {\n      env.closestScrollable.addEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n\n      if (process.env.NODE_ENV !== 'production') {\n        checkForNestedScrollContainers(env.closestScrollable);\n      }\n    }\n\n    return dimension;\n  }, [descriptor, onClosestScroll, previousRef]);\n  var recollect = useCallback(function (options) {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\n    var previous = previousRef.current;\n\n    var execute = function execute() {\n      return getDimension({\n        ref: dragging.ref,\n        descriptor: dragging.descriptor,\n        env: dragging.env,\n        windowScroll: origin,\n        direction: previous.direction,\n        isDropDisabled: previous.isDropDisabled,\n        isCombineEnabled: previous.isCombineEnabled,\n        shouldClipSubject: !previous.ignoreContainerClipping\n      });\n    };\n\n    if (!options.withoutPlaceholder) {\n      return execute();\n    }\n\n    return withoutPlaceholder(previous.getPlaceholderRef(), execute);\n  }, [previousRef]);\n  var dragStopped = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    whileDraggingRef.current = null;\n\n    if (!closest) {\n      return;\n    }\n\n    scheduleScrollUpdate.cancel();\n    closest.removeEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n  }, [onClosestScroll, scheduleScrollUpdate]);\n  var scroll = useCallback(function (change) {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll when there is no drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !closest ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\n    closest.scrollTop += change.y;\n    closest.scrollLeft += change.x;\n  }, []);\n  var callbacks = useMemo(function () {\n    return {\n      getDimensionAndWatchScroll: getDimensionAndWatchScroll,\n      recollect: recollect,\n      dragStopped: dragStopped,\n      scroll: scroll\n    };\n  }, [dragStopped, getDimensionAndWatchScroll, recollect, scroll]);\n  useIsomorphicLayoutEffect(function () {\n    publishedDescriptorRef.current = descriptor;\n    marshal.registerDroppable(descriptor, callbacks);\n    return function () {\n      if (whileDraggingRef.current) {\n        process.env.NODE_ENV !== \"production\" ? warning('Unsupported: changing the droppableId or type of a Droppable during a drag') : void 0;\n        dragStopped();\n      }\n\n      marshal.unregisterDroppable(descriptor);\n    };\n  }, [callbacks, descriptor, dragStopped, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsEnabled(publishedDescriptorRef.current.id, !args.isDropDisabled);\n  }, [args.isDropDisabled, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsCombineEnabled(publishedDescriptorRef.current.id, args.isCombineEnabled);\n  }, [args.isCombineEnabled, marshal]);\n}\n\nfunction noop() {}\n\nvar empty = {\n  width: 0,\n  height: 0,\n  margin: noSpacing\n};\n\nvar getSize = function getSize(_ref) {\n  var isAnimatingOpenOnMount = _ref.isAnimatingOpenOnMount,\n      placeholder = _ref.placeholder,\n      animate = _ref.animate;\n\n  if (isAnimatingOpenOnMount) {\n    return empty;\n  }\n\n  if (animate === 'close') {\n    return empty;\n  }\n\n  return {\n    height: placeholder.client.borderBox.height,\n    width: placeholder.client.borderBox.width,\n    margin: placeholder.client.margin\n  };\n};\n\nvar getStyle = function getStyle(_ref2) {\n  var isAnimatingOpenOnMount = _ref2.isAnimatingOpenOnMount,\n      placeholder = _ref2.placeholder,\n      animate = _ref2.animate;\n  var size = getSize({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    placeholder: placeholder,\n    animate: animate\n  });\n  return {\n    display: placeholder.display,\n    boxSizing: 'border-box',\n    width: size.width,\n    height: size.height,\n    marginTop: size.margin.top,\n    marginRight: size.margin.right,\n    marginBottom: size.margin.bottom,\n    marginLeft: size.margin.left,\n    flexShrink: '0',\n    flexGrow: '0',\n    pointerEvents: 'none',\n    transition: transitions.placeholder\n  };\n};\n\nfunction Placeholder(props) {\n  var animateOpenTimerRef = useRef(null);\n  var tryClearAnimateOpenTimer = useCallback(function () {\n    if (!animateOpenTimerRef.current) {\n      return;\n    }\n\n    clearTimeout(animateOpenTimerRef.current);\n    animateOpenTimerRef.current = null;\n  }, []);\n  var animate = props.animate,\n      onTransitionEnd = props.onTransitionEnd,\n      onClose = props.onClose,\n      styleContext = props.styleContext;\n\n  var _useState = useState(props.animate === 'open'),\n      isAnimatingOpenOnMount = _useState[0],\n      setIsAnimatingOpenOnMount = _useState[1];\n\n  useEffect(function () {\n    if (!isAnimatingOpenOnMount) {\n      return noop;\n    }\n\n    if (animate !== 'open') {\n      tryClearAnimateOpenTimer();\n      setIsAnimatingOpenOnMount(false);\n      return noop;\n    }\n\n    if (animateOpenTimerRef.current) {\n      return noop;\n    }\n\n    animateOpenTimerRef.current = setTimeout(function () {\n      animateOpenTimerRef.current = null;\n      setIsAnimatingOpenOnMount(false);\n    });\n    return tryClearAnimateOpenTimer;\n  }, [animate, isAnimatingOpenOnMount, tryClearAnimateOpenTimer]);\n  var onSizeChangeEnd = useCallback(function (event) {\n    if (event.propertyName !== 'height') {\n      return;\n    }\n\n    onTransitionEnd();\n\n    if (animate === 'close') {\n      onClose();\n    }\n  }, [animate, onClose, onTransitionEnd]);\n  var style = getStyle({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    animate: props.animate,\n    placeholder: props.placeholder\n  });\n  return React.createElement(props.placeholder.tagName, {\n    style: style,\n    'data-react-beautiful-dnd-placeholder': styleContext,\n    onTransitionEnd: onSizeChangeEnd,\n    ref: props.innerRef\n  });\n}\n\nvar Placeholder$1 = React.memo(Placeholder);\n\nvar DroppableContext = React.createContext(null);\n\nvar getWindowFromEl = (function (el) {\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\n});\n\nfunction isHtmlElement(el) {\n  return el instanceof getWindowFromEl(el).HTMLElement;\n}\n\nfunction checkIsValidInnerRef(el) {\n  !(el && isHtmlElement(el)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\n}\n\nfunction checkOwnProps(props) {\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\n  !(typeof props.isDropDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.isCombineEnabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.ignoreContainerClipping === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\n}\n\nfunction checkPlaceholderRef(props, placeholderEl) {\n  if (!props.placeholder) {\n    return;\n  }\n\n  if (placeholderEl) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable setup issue [droppableId: \\\"\" + props.droppableId + \"\\\"]:\\n    DroppableProvided > placeholder could not be found.\\n\\n    Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\\n  \") : void 0;\n}\n\nfunction useValidation(_ref) {\n  var props = _ref.props,\n      getDroppableRef = _ref.getDroppableRef,\n      getPlaceholderRef = _ref.getPlaceholderRef;\n  useEffect(function () {\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps(props);\n      checkIsValidInnerRef(getDroppableRef());\n      checkPlaceholderRef(props, getPlaceholderRef());\n    }\n  });\n}\n\nvar AnimateInOut = function (_React$PureComponent) {\n  _inheritsLoose(AnimateInOut, _React$PureComponent);\n\n  function AnimateInOut() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      isVisible: Boolean(_this.props.on),\n      data: _this.props.on,\n      animate: _this.props.shouldAnimate && _this.props.on ? 'open' : 'none'\n    };\n\n    _this.onClose = function () {\n      if (_this.state.animate !== 'close') {\n        return;\n      }\n\n      _this.setState({\n        isVisible: false\n      });\n    };\n\n    return _this;\n  }\n\n  AnimateInOut.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (!props.shouldAnimate) {\n      return {\n        isVisible: Boolean(props.on),\n        data: props.on,\n        animate: 'none'\n      };\n    }\n\n    if (props.on) {\n      return {\n        isVisible: true,\n        data: props.on,\n        animate: 'open'\n      };\n    }\n\n    if (state.isVisible) {\n      return {\n        isVisible: true,\n        data: state.data,\n        animate: 'close'\n      };\n    }\n\n    return {\n      isVisible: false,\n      animate: 'close',\n      data: null\n    };\n  };\n\n  var _proto = AnimateInOut.prototype;\n\n  _proto.render = function render() {\n    if (!this.state.isVisible) {\n      return null;\n    }\n\n    var provided = {\n      onClose: this.onClose,\n      data: this.state.data,\n      animate: this.state.animate\n    };\n    return this.props.children(provided);\n  };\n\n  return AnimateInOut;\n}(React.PureComponent);\n\nfunction Droppable(props) {\n  var appContext = useContext(AppContext);\n  !appContext ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find app context') : invariant(false) : void 0;\n  var styleContext = appContext.style,\n      isMovementAllowed = appContext.isMovementAllowed;\n  var droppableRef = useRef(null);\n  var placeholderRef = useRef(null);\n  var children = props.children,\n      droppableId = props.droppableId,\n      type = props.type,\n      direction = props.direction,\n      ignoreContainerClipping = props.ignoreContainerClipping,\n      isDropDisabled = props.isDropDisabled,\n      isCombineEnabled = props.isCombineEnabled,\n      snapshot = props.snapshot,\n      updateViewportMaxScroll = props.updateViewportMaxScroll;\n  var getDroppableRef = useCallback(function () {\n    return droppableRef.current;\n  }, []);\n  var getPlaceholderRef = useCallback(function () {\n    return placeholderRef.current;\n  }, []);\n  var setDroppableRef = useCallback(function (value) {\n    droppableRef.current = value;\n  }, []);\n  var setPlaceholderRef = useCallback(function (value) {\n    placeholderRef.current = value;\n  }, []);\n  var onPlaceholderTransitionEnd = useCallback(function () {\n    if (isMovementAllowed()) {\n      updateViewportMaxScroll({\n        maxScroll: getMaxWindowScroll()\n      });\n    }\n  }, [isMovementAllowed, updateViewportMaxScroll]);\n  useDroppableDimensionPublisher({\n    droppableId: droppableId,\n    type: type,\n    direction: direction,\n    isDropDisabled: isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    ignoreContainerClipping: ignoreContainerClipping,\n    getDroppableRef: getDroppableRef,\n    getPlaceholderRef: getPlaceholderRef\n  });\n  var placeholder = React.createElement(AnimateInOut, {\n    on: props.placeholder,\n    shouldAnimate: props.shouldAnimatePlaceholder\n  }, function (_ref) {\n    var onClose = _ref.onClose,\n        data = _ref.data,\n        animate = _ref.animate;\n    return React.createElement(Placeholder$1, {\n      placeholder: data,\n      onClose: onClose,\n      innerRef: setPlaceholderRef,\n      animate: animate,\n      styleContext: styleContext,\n      onTransitionEnd: onPlaceholderTransitionEnd\n    });\n  });\n  var provided = useMemo(function () {\n    return {\n      innerRef: setDroppableRef,\n      placeholder: placeholder,\n      droppableProps: {\n        'data-react-beautiful-dnd-droppable': styleContext\n      }\n    };\n  }, [placeholder, setDroppableRef, styleContext]);\n  var droppableContext = useMemo(function () {\n    return {\n      droppableId: droppableId,\n      type: type\n    };\n  }, [droppableId, type]);\n  useValidation({\n    props: props,\n    getDroppableRef: function getDroppableRef() {\n      return droppableRef.current;\n    },\n    getPlaceholderRef: function getPlaceholderRef() {\n      return placeholderRef.current;\n    }\n  });\n  return React.createElement(DroppableContext.Provider, {\n    value: droppableContext\n  }, children(provided, snapshot));\n}\n\nvar isStrictEqual = (function (a, b) {\n  return a === b;\n});\n\nvar whatIsDraggedOverFromResult = (function (result) {\n  var combine = result.combine,\n      destination = result.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (combine) {\n    return combine.droppableId;\n  }\n\n  return null;\n});\n\nvar isMatchingType = function isMatchingType(type, critical) {\n  return type === critical.droppable.type;\n};\n\nvar getDraggable = function getDraggable(critical, dimensions) {\n  return dimensions.draggables[critical.draggable.id];\n};\n\nvar makeMapStateToProps = function makeMapStateToProps() {\n  var idle = {\n    placeholder: null,\n    shouldAnimatePlaceholder: true,\n    snapshot: {\n      isDraggingOver: false,\n      draggingOverWith: null,\n      draggingFromThisWith: null\n    }\n  };\n\n  var idleWithoutAnimation = _extends({}, idle, {\n    shouldAnimatePlaceholder: false\n  });\n\n  var getMapProps = memoizeOne(function (id, isDraggingOver, dragging, snapshot) {\n    var isHome = dragging.descriptor.droppableId === id;\n\n    if (isHome) {\n      return {\n        placeholder: dragging.placeholder,\n        shouldAnimatePlaceholder: false,\n        snapshot: snapshot\n      };\n    }\n\n    if (!isDraggingOver) {\n      return idle;\n    }\n\n    return {\n      placeholder: dragging.placeholder,\n      shouldAnimatePlaceholder: true,\n      snapshot: snapshot\n    };\n  });\n  var getSnapshot = memoizeOne(function (id, isDraggingOver, dragging) {\n    var draggableId = dragging.descriptor.id;\n    var isHome = dragging.descriptor.droppableId === id;\n    var draggingOverWith = isDraggingOver ? draggableId : null;\n    var draggingFromThisWith = isHome ? draggableId : null;\n    return {\n      isDraggingOver: isDraggingOver,\n      draggingOverWith: draggingOverWith,\n      draggingFromThisWith: draggingFromThisWith\n    };\n  });\n\n  var selector = function selector(state, ownProps) {\n    var id = ownProps.droppableId;\n    var type = ownProps.type;\n\n    if (state.isDragging) {\n      var critical = state.critical;\n\n      if (!isMatchingType(type, critical)) {\n        return idle;\n      }\n\n      var dragging = getDraggable(critical, state.dimensions);\n      var isDraggingOver = whatIsDraggedOver(state.impact) === id;\n      var snapshot = getSnapshot(id, isDraggingOver, dragging);\n      return getMapProps(id, isDraggingOver, dragging, snapshot);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (!isMatchingType(type, completed.critical)) {\n        return idle;\n      }\n\n      var _dragging = getDraggable(completed.critical, state.dimensions);\n\n      var _snapshot = getSnapshot(id, whatIsDraggedOverFromResult(completed.result) === id, _dragging);\n\n      return getMapProps(id, whatIsDraggedOver(completed.impact) === id, _dragging, _snapshot);\n    }\n\n    if (state.phase === 'IDLE' && !state.completed && state.shouldFlush) {\n      return idleWithoutAnimation;\n    }\n\n    if (state.phase === 'IDLE' && state.completed) {\n      var _completed = state.completed;\n\n      if (!isMatchingType(type, _completed.critical)) {\n        return idle;\n      }\n\n      var wasOver = whatIsDraggedOver(_completed.impact) === id;\n      var wasCombining = Boolean(_completed.impact.merge);\n\n      if (state.shouldFlush) {\n        return idleWithoutAnimation;\n      }\n\n      if (wasOver) {\n        return wasCombining ? idle : idleWithoutAnimation;\n      }\n\n      return idle;\n    }\n\n    return idle;\n  };\n\n  return selector;\n};\nvar mapDispatchToProps = {\n  updateViewportMaxScroll: updateViewportMaxScroll\n};\nvar defaultProps = {\n  type: 'DEFAULT',\n  direction: 'vertical',\n  isDropDisabled: false,\n  isCombineEnabled: false,\n  ignoreContainerClipping: false\n};\nvar ConnectedDroppable = connect(makeMapStateToProps, mapDispatchToProps, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Droppable);\nConnectedDroppable.defaultProps = defaultProps;\n\nvar zIndexOptions = {\n  dragging: 5000,\n  dropAnimating: 4500\n};\n\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\n  if (dropping) {\n    return transitions.drop(dropping.duration);\n  }\n\n  if (shouldAnimateDragMovement) {\n    return transitions.snap;\n  }\n\n  return transitions.fluid;\n};\n\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\n  if (!isCombining) {\n    return null;\n  }\n\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\n};\n\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\n  if (dragging.forceShouldAnimate != null) {\n    return dragging.forceShouldAnimate;\n  }\n\n  return dragging.mode === 'SNAP';\n};\n\nfunction getDraggingStyle(dragging) {\n  var dimension = dragging.dimension;\n  var box = dimension.client;\n  var offset = dragging.offset,\n      combineWith = dragging.combineWith,\n      dropping = dragging.dropping;\n  var isCombining = Boolean(combineWith);\n  var shouldAnimate = getShouldDraggingAnimate(dragging);\n  var isDropAnimating = Boolean(dropping);\n  var transform = isDropAnimating ? transforms.drop(offset, isCombining) : transforms.moveTo(offset);\n  var style = {\n    position: 'fixed',\n    top: box.marginBox.top,\n    left: box.marginBox.left,\n    boxSizing: 'border-box',\n    width: box.borderBox.width,\n    height: box.borderBox.height,\n    transition: getDraggingTransition(shouldAnimate, dropping),\n    transform: transform,\n    opacity: getDraggingOpacity(isCombining, isDropAnimating),\n    zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\n    pointerEvents: 'none'\n  };\n  return style;\n}\n\nfunction getSecondaryStyle(secondary) {\n  return {\n    transform: transforms.moveTo(secondary.offset),\n    transition: secondary.shouldAnimateDisplacement ? null : 'none'\n  };\n}\n\nfunction getStyle$1(mapped) {\n  return mapped.type === 'DRAGGING' ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);\n}\n\nvar createEventMarshal = (function () {\n  var isMouseDownHandled = false;\n\n  var handle = function handle() {\n    !!isMouseDownHandled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot handle mouse down as it is already handled') : invariant(false) : void 0;\n    isMouseDownHandled = true;\n  };\n\n  var isHandled = function isHandled() {\n    return isMouseDownHandled;\n  };\n\n  var reset = function reset() {\n    isMouseDownHandled = false;\n  };\n\n  return {\n    handle: handle,\n    isHandled: isHandled,\n    reset: reset\n  };\n});\n\nvar getOptions = function getOptions(shared, fromBinding) {\n  return _extends({}, shared, fromBinding);\n};\n\nvar bindEvents = function bindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.addEventListener(binding.eventName, binding.fn, options);\n  });\n};\nvar unbindEvents = function unbindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.removeEventListener(binding.eventName, binding.fn, options);\n  });\n};\n\nvar createScheduler = (function (callbacks) {\n  var memoizedMove = memoizeOne(function (x, y) {\n    var point = {\n      x: x,\n      y: y\n    };\n    callbacks.onMove(point);\n  });\n  var move = rafSchd(function (point) {\n    return memoizedMove(point.x, point.y);\n  });\n  var moveUp = rafSchd(callbacks.onMoveUp);\n  var moveDown = rafSchd(callbacks.onMoveDown);\n  var moveRight = rafSchd(callbacks.onMoveRight);\n  var moveLeft = rafSchd(callbacks.onMoveLeft);\n  var windowScrollMove = rafSchd(callbacks.onWindowScroll);\n\n  var cancel = function cancel() {\n    move.cancel();\n    moveUp.cancel();\n    moveDown.cancel();\n    moveRight.cancel();\n    moveLeft.cancel();\n    windowScrollMove.cancel();\n  };\n\n  return {\n    move: move,\n    moveUp: moveUp,\n    moveDown: moveDown,\n    moveRight: moveRight,\n    moveLeft: moveLeft,\n    windowScrollMove: windowScrollMove,\n    cancel: cancel\n  };\n});\n\nvar tab = 9;\nvar enter = 13;\nvar escape = 27;\nvar space = 32;\nvar pageUp = 33;\nvar pageDown = 34;\nvar end = 35;\nvar home = 36;\nvar arrowLeft = 37;\nvar arrowUp = 38;\nvar arrowRight = 39;\nvar arrowDown = 40;\n\nvar supportedEventName = function () {\n  var base = 'visibilitychange';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\n  var supported = find(candidates, function (eventName) {\n    return \"on\" + eventName in document;\n  });\n  return supported || base;\n}();\n\nvar sharedOptions = {\n  capture: true\n};\nvar createPostDragEventPreventer = (function (getWindow) {\n  var isBound = false;\n\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n\n    isBound = true;\n    bindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n\n    isBound = false;\n    unbindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n\n  var pointerEvents = [{\n    eventName: 'click',\n    fn: function fn(event) {\n      event.preventDefault();\n      unbind();\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: unbind\n  }, {\n    eventName: 'touchstart',\n    fn: unbind\n  }];\n\n  var preventNext = function preventNext() {\n    if (isBound) {\n      unbind();\n    }\n\n    bind();\n  };\n\n  var preventer = {\n    preventNext: preventNext,\n    abort: unbind\n  };\n  return preventer;\n});\n\nvar sloppyClickThreshold = 5;\nvar isSloppyClickThresholdExceeded = (function (original, current) {\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\n});\n\nvar _preventedKeys;\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\nvar preventStandardKeyEvents = (function (event) {\n  if (preventedKeys[event.keyCode]) {\n    event.preventDefault();\n  }\n});\n\nvar primaryButton = 0;\n\nvar noop$1 = function noop() {};\n\nvar mouseDownMarshal = createEventMarshal();\nfunction useMouseSensor(args) {\n  var canStartCapturing = args.canStartCapturing,\n      getWindow = args.getWindow,\n      callbacks = args.callbacks,\n      onCaptureStart = args.onCaptureStart,\n      onCaptureEnd = args.onCaptureEnd;\n  var pendingRef = useRef(null);\n  var isDraggingRef = useRef(false);\n  var unbindWindowEventsRef = useRef(noop$1);\n  var getIsCapturing = useCallback(function () {\n    return Boolean(pendingRef.current || isDraggingRef.current);\n  }, []);\n  var schedule = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\n    return createScheduler(callbacks);\n  }, [callbacks, getIsCapturing]);\n  var postDragEventPreventer = useMemo(function () {\n    return createPostDragEventPreventer(getWindow);\n  }, [getWindow]);\n  var stop = useCallback(function () {\n    if (!getIsCapturing()) {\n      return;\n    }\n\n    schedule.cancel();\n    unbindWindowEventsRef.current();\n    var shouldBlockClick = isDraggingRef.current;\n    mouseDownMarshal.reset();\n\n    if (shouldBlockClick) {\n      postDragEventPreventer.preventNext();\n    }\n\n    pendingRef.current = null;\n    isDraggingRef.current = false;\n    onCaptureEnd();\n  }, [getIsCapturing, onCaptureEnd, postDragEventPreventer, schedule]);\n  var cancel = useCallback(function () {\n    var wasDragging = isDraggingRef.current;\n    stop();\n\n    if (wasDragging) {\n      callbacks.onCancel();\n    }\n  }, [callbacks, stop]);\n  var startDragging = useCallback(function () {\n    !!isDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag while dragging') : invariant(false) : void 0;\n    var pending = pendingRef.current;\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag without a pending drag') : invariant(false) : void 0;\n    pendingRef.current = null;\n    isDraggingRef.current = true;\n    callbacks.onLift({\n      clientSelection: pending,\n      movementMode: 'FLUID'\n    });\n  }, [callbacks]);\n  var windowBindings = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings while capturing') : invariant(false) : void 0;\n    var bindings = [{\n      eventName: 'mousemove',\n      fn: function fn(event) {\n        var button = event.button,\n            clientX = event.clientX,\n            clientY = event.clientY;\n\n        if (button !== primaryButton) {\n          return;\n        }\n\n        var point = {\n          x: clientX,\n          y: clientY\n        };\n\n        if (isDraggingRef.current) {\n          event.preventDefault();\n          schedule.move(point);\n          return;\n        }\n\n        var pending = pendingRef.current;\n\n        if (!pending) {\n          stop();\n          process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be an active or pending drag when window mousemove event is received') : invariant(false);\n        }\n\n        if (!isSloppyClickThresholdExceeded(pending, point)) {\n          return;\n        }\n\n        event.preventDefault();\n        startDragging();\n      }\n    }, {\n      eventName: 'mouseup',\n      fn: function fn(event) {\n        var wasDragging = isDraggingRef.current;\n        stop();\n\n        if (wasDragging) {\n          event.preventDefault();\n          callbacks.onDrop();\n        }\n      }\n    }, {\n      eventName: 'mousedown',\n      fn: function fn(event) {\n        if (isDraggingRef.current) {\n          event.preventDefault();\n        }\n\n        cancel();\n      }\n    }, {\n      eventName: 'keydown',\n      fn: function fn(event) {\n        if (pendingRef.current) {\n          stop();\n          return;\n        }\n\n        if (event.keyCode === escape) {\n          event.preventDefault();\n          cancel();\n          return;\n        }\n\n        preventStandardKeyEvents(event);\n      }\n    }, {\n      eventName: 'resize',\n      fn: cancel\n    }, {\n      eventName: 'scroll',\n      options: {\n        passive: true,\n        capture: false\n      },\n      fn: function fn(event) {\n        if (event.currentTarget !== getWindow()) {\n          return;\n        }\n\n        if (pendingRef.current) {\n          stop();\n          return;\n        }\n\n        schedule.windowScrollMove();\n      }\n    }, {\n      eventName: 'webkitmouseforcedown',\n      fn: function fn() {\n        cancel();\n      }\n    }, {\n      eventName: supportedEventName,\n      fn: cancel\n    }];\n    return bindings;\n  }, [getIsCapturing, cancel, startDragging, schedule, stop, callbacks, getWindow]);\n  var bindWindowEvents = useCallback(function () {\n    var win = getWindow();\n    var options = {\n      capture: true\n    };\n\n    unbindWindowEventsRef.current = function () {\n      return unbindEvents(win, windowBindings, options);\n    };\n\n    bindEvents(win, windowBindings, options);\n  }, [getWindow, windowBindings]);\n  var startPendingDrag = useCallback(function (point) {\n    !!pendingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be no pending drag') : invariant(false) : void 0;\n    pendingRef.current = point;\n    onCaptureStart(stop);\n    bindWindowEvents();\n  }, [bindWindowEvents, onCaptureStart, stop]);\n  var onMouseDown = useCallback(function (event) {\n    if (mouseDownMarshal.isHandled()) {\n      return;\n    }\n\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a mouse down while a drag or pending drag is occurring') : invariant(false) : void 0;\n\n    if (!canStartCapturing(event)) {\n      return;\n    }\n\n    if (event.button !== primaryButton) {\n      return;\n    }\n\n    if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\n      return;\n    }\n\n    mouseDownMarshal.handle();\n    event.preventDefault();\n    var point = {\n      x: event.clientX,\n      y: event.clientY\n    };\n    startPendingDrag(point);\n  }, [canStartCapturing, getIsCapturing, startPendingDrag]);\n  return onMouseDown;\n}\n\nfunction isElement(el) {\n  return el instanceof getWindowFromEl(el).Element;\n}\n\nvar interactiveTagNames = {\n  input: true,\n  button: true,\n  textarea: true,\n  select: true,\n  option: true,\n  optgroup: true,\n  video: true,\n  audio: true\n};\n\nvar isAnInteractiveElement = function isAnInteractiveElement(parent, current) {\n  if (current == null) {\n    return false;\n  }\n\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\n\n  if (hasAnInteractiveTag) {\n    return true;\n  }\n\n  var attribute = current.getAttribute('contenteditable');\n\n  if (attribute === 'true' || attribute === '') {\n    return true;\n  }\n\n  if (current === parent) {\n    return false;\n  }\n\n  return isAnInteractiveElement(parent, current.parentElement);\n};\n\nvar shouldAllowDraggingFromTarget = (function (event, canDragInteractiveElements) {\n  if (canDragInteractiveElements) {\n    return true;\n  }\n\n  var target = event.target,\n      currentTarget = event.currentTarget;\n\n  if (!isElement(target) || !isElement(currentTarget)) {\n    return true;\n  }\n\n  return !isAnInteractiveElement(currentTarget, target);\n});\n\nvar getBorderBoxCenterPosition = (function (el) {\n  return getRect(el.getBoundingClientRect()).center;\n});\n\nvar _scrollJumpKeys;\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\n\nfunction noop$2() {}\n\nfunction useKeyboardSensor(args) {\n  var canStartCapturing = args.canStartCapturing,\n      getWindow = args.getWindow,\n      callbacks = args.callbacks,\n      onCaptureStart = args.onCaptureStart,\n      onCaptureEnd = args.onCaptureEnd,\n      getDraggableRef = args.getDraggableRef;\n  var isDraggingRef = useRef(false);\n  var unbindWindowEventsRef = useRef(noop$2);\n  var getIsDragging = useCallback(function () {\n    return isDraggingRef.current;\n  }, []);\n  var schedule = useMemo(function () {\n    !!getIsDragging() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\n    return createScheduler(callbacks);\n  }, [callbacks, getIsDragging]);\n  var stop = useCallback(function () {\n    if (!getIsDragging()) {\n      return;\n    }\n\n    schedule.cancel();\n    unbindWindowEventsRef.current();\n    isDraggingRef.current = false;\n    onCaptureEnd();\n  }, [getIsDragging, onCaptureEnd, schedule]);\n  var cancel = useCallback(function () {\n    var wasDragging = isDraggingRef.current;\n    stop();\n\n    if (wasDragging) {\n      callbacks.onCancel();\n    }\n  }, [callbacks, stop]);\n  var windowBindings = useMemo(function () {\n    !!getIsDragging() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings when dragging') : invariant(false) : void 0;\n    return [{\n      eventName: 'mousedown',\n      fn: cancel\n    }, {\n      eventName: 'mouseup',\n      fn: cancel\n    }, {\n      eventName: 'click',\n      fn: cancel\n    }, {\n      eventName: 'touchstart',\n      fn: cancel\n    }, {\n      eventName: 'resize',\n      fn: cancel\n    }, {\n      eventName: 'wheel',\n      fn: cancel,\n      options: {\n        passive: true\n      }\n    }, {\n      eventName: 'scroll',\n      options: {\n        capture: false\n      },\n      fn: function fn(event) {\n        if (event.currentTarget !== getWindow()) {\n          return;\n        }\n\n        callbacks.onWindowScroll();\n      }\n    }, {\n      eventName: supportedEventName,\n      fn: cancel\n    }];\n  }, [callbacks, cancel, getIsDragging, getWindow]);\n  var bindWindowEvents = useCallback(function () {\n    var win = getWindow();\n    var options = {\n      capture: true\n    };\n\n    unbindWindowEventsRef.current = function () {\n      return unbindEvents(win, windowBindings, options);\n    };\n\n    bindEvents(win, windowBindings, options);\n  }, [getWindow, windowBindings]);\n  var startDragging = useCallback(function () {\n    !!isDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag while dragging') : invariant(false) : void 0;\n    var ref = getDraggableRef();\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a keyboard drag without a draggable ref') : invariant(false) : void 0;\n    isDraggingRef.current = true;\n    onCaptureStart(stop);\n    bindWindowEvents();\n    var center = getBorderBoxCenterPosition(ref);\n    callbacks.onLift({\n      clientSelection: center,\n      movementMode: 'SNAP'\n    });\n  }, [bindWindowEvents, callbacks, getDraggableRef, onCaptureStart, stop]);\n  var onKeyDown = useCallback(function (event) {\n    if (!getIsDragging()) {\n      if (event.defaultPrevented) {\n        return;\n      }\n\n      if (!canStartCapturing(event)) {\n        return;\n      }\n\n      if (event.keyCode !== space) {\n        return;\n      }\n\n      event.preventDefault();\n      startDragging();\n      return;\n    }\n\n    if (event.keyCode === escape) {\n      event.preventDefault();\n      cancel();\n      return;\n    }\n\n    if (event.keyCode === space) {\n      event.preventDefault();\n      stop();\n      callbacks.onDrop();\n      return;\n    }\n\n    if (event.keyCode === arrowDown) {\n      event.preventDefault();\n      schedule.moveDown();\n      return;\n    }\n\n    if (event.keyCode === arrowUp) {\n      event.preventDefault();\n      schedule.moveUp();\n      return;\n    }\n\n    if (event.keyCode === arrowRight) {\n      event.preventDefault();\n      schedule.moveRight();\n      return;\n    }\n\n    if (event.keyCode === arrowLeft) {\n      event.preventDefault();\n      schedule.moveLeft();\n      return;\n    }\n\n    if (scrollJumpKeys[event.keyCode]) {\n      event.preventDefault();\n      return;\n    }\n\n    preventStandardKeyEvents(event);\n  }, [callbacks, canStartCapturing, cancel, getIsDragging, schedule, startDragging, stop]);\n  return onKeyDown;\n}\n\nvar timeForLongPress = 120;\nvar forcePressThreshold = 0.15;\nvar touchStartMarshal = createEventMarshal();\n\nvar noop$3 = function noop() {};\n\nfunction useTouchSensor(args) {\n  var callbacks = args.callbacks,\n      getWindow = args.getWindow,\n      canStartCapturing = args.canStartCapturing,\n      getShouldRespectForcePress = args.getShouldRespectForcePress,\n      onCaptureStart = args.onCaptureStart,\n      onCaptureEnd = args.onCaptureEnd;\n  var pendingRef = useRef(null);\n  var isDraggingRef = useRef(false);\n  var hasMovedRef = useRef(false);\n  var unbindWindowEventsRef = useRef(noop$3);\n  var getIsCapturing = useCallback(function () {\n    return Boolean(pendingRef.current || isDraggingRef.current);\n  }, []);\n  var postDragClickPreventer = useMemo(function () {\n    return createPostDragEventPreventer(getWindow);\n  }, [getWindow]);\n  var schedule = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\n    return createScheduler(callbacks);\n  }, [callbacks, getIsCapturing]);\n  var stop = useCallback(function () {\n    if (!getIsCapturing()) {\n      return;\n    }\n\n    schedule.cancel();\n    unbindWindowEventsRef.current();\n    touchStartMarshal.reset();\n    hasMovedRef.current = false;\n    onCaptureEnd();\n\n    if (isDraggingRef.current) {\n      postDragClickPreventer.preventNext();\n      isDraggingRef.current = false;\n      return;\n    }\n\n    var pending = pendingRef.current;\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected a pending drag') : invariant(false) : void 0;\n    clearTimeout(pending.longPressTimerId);\n    pendingRef.current = null;\n  }, [getIsCapturing, onCaptureEnd, postDragClickPreventer, schedule]);\n  var cancel = useCallback(function () {\n    var wasDragging = isDraggingRef.current;\n    stop();\n\n    if (wasDragging) {\n      callbacks.onCancel();\n    }\n  }, [callbacks, stop]);\n  var windowBindings = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings while capturing') : invariant(false) : void 0;\n    var bindings = [{\n      eventName: 'touchmove',\n      options: {\n        passive: false,\n        capture: false\n      },\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          stop();\n          return;\n        }\n\n        if (!hasMovedRef.current) {\n          hasMovedRef.current = true;\n        }\n\n        var touch = event.touches[0];\n\n        if (!touch) {\n          return;\n        }\n\n        var point = {\n          x: touch.clientX,\n          y: touch.clientY\n        };\n        event.preventDefault();\n        schedule.move(point);\n      }\n    }, {\n      eventName: 'touchend',\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          stop();\n          return;\n        }\n\n        event.preventDefault();\n        stop();\n        callbacks.onDrop();\n      }\n    }, {\n      eventName: 'touchcancel',\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          stop();\n          return;\n        }\n\n        event.preventDefault();\n        cancel();\n      }\n    }, {\n      eventName: 'touchstart',\n      fn: cancel\n    }, {\n      eventName: 'orientationchange',\n      fn: cancel\n    }, {\n      eventName: 'resize',\n      fn: cancel\n    }, {\n      eventName: 'scroll',\n      options: {\n        passive: true,\n        capture: false\n      },\n      fn: function fn() {\n        if (pendingRef.current) {\n          stop();\n          return;\n        }\n\n        schedule.windowScrollMove();\n      }\n    }, {\n      eventName: 'contextmenu',\n      fn: function fn(event) {\n        event.preventDefault();\n      }\n    }, {\n      eventName: 'keydown',\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          cancel();\n          return;\n        }\n\n        if (event.keyCode === escape) {\n          event.preventDefault();\n        }\n\n        cancel();\n      }\n    }, {\n      eventName: 'touchforcechange',\n      fn: function fn(event) {\n        var touch = event.touches[0];\n        var isForcePress = touch.force >= forcePressThreshold;\n\n        if (!isForcePress) {\n          return;\n        }\n\n        var shouldRespect = getShouldRespectForcePress();\n\n        if (pendingRef.current) {\n          if (shouldRespect) {\n            cancel();\n          }\n\n          return;\n        }\n\n        if (shouldRespect) {\n          if (hasMovedRef.current) {\n            event.preventDefault();\n            return;\n          }\n\n          cancel();\n          return;\n        }\n\n        event.preventDefault();\n      }\n    }, {\n      eventName: supportedEventName,\n      fn: cancel\n    }];\n    return bindings;\n  }, [callbacks, cancel, getIsCapturing, getShouldRespectForcePress, schedule, stop]);\n  var bindWindowEvents = useCallback(function () {\n    var win = getWindow();\n    var options = {\n      capture: true\n    };\n\n    unbindWindowEventsRef.current = function () {\n      return unbindEvents(win, windowBindings, options);\n    };\n\n    bindEvents(win, windowBindings, options);\n  }, [getWindow, windowBindings]);\n  var startDragging = useCallback(function () {\n    var pending = pendingRef.current;\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag without a pending drag') : invariant(false) : void 0;\n    isDraggingRef.current = true;\n    pendingRef.current = null;\n    hasMovedRef.current = false;\n    callbacks.onLift({\n      clientSelection: pending.point,\n      movementMode: 'FLUID'\n    });\n  }, [callbacks]);\n  var startPendingDrag = useCallback(function (event) {\n    !!pendingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be no pending drag') : invariant(false) : void 0;\n    var touch = event.touches[0];\n    var clientX = touch.clientX,\n        clientY = touch.clientY;\n    var point = {\n      x: clientX,\n      y: clientY\n    };\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\n    var pending = {\n      point: point,\n      longPressTimerId: longPressTimerId\n    };\n    pendingRef.current = pending;\n    onCaptureStart(stop);\n    bindWindowEvents();\n  }, [bindWindowEvents, onCaptureStart, startDragging, stop]);\n\n  var onTouchStart = function onTouchStart(event) {\n    if (touchStartMarshal.isHandled()) {\n      return;\n    }\n\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a touch start while a drag or pending drag is occurring') : invariant(false) : void 0;\n\n    if (!canStartCapturing(event)) {\n      return;\n    }\n\n    touchStartMarshal.handle();\n    startPendingDrag(event);\n  };\n\n  useIsomorphicLayoutEffect(function webkitHack() {\n    var unbind = bindEvents(window, [{\n      eventName: 'touchmove',\n      fn: noop$3,\n      options: {\n        capture: false,\n        passive: false\n      }\n    }]);\n    return unbind;\n  }, []);\n  return onTouchStart;\n}\n\nfunction isSvgElement(el) {\n  return Boolean(getWindowFromEl(el).SVGElement) && el instanceof getWindowFromEl(el).SVGElement;\n}\n\nvar selector = \"[\" + dragHandle + \"]\";\n\nvar throwIfSVG = function throwIfSVG(el) {\n  !!isSvgElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A drag handle cannot be an SVGElement: it has inconsistent focus support.\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/dragging-svgs.md\") : invariant(false) : void 0;\n};\n\nvar getDragHandleRef = function getDragHandleRef(draggableRef) {\n  if (draggableRef.hasAttribute(dragHandle)) {\n    throwIfSVG(draggableRef);\n    return draggableRef;\n  }\n\n  var el = draggableRef.querySelector(selector);\n  throwIfSVG(draggableRef);\n  !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n      Cannot find drag handle element inside of Draggable.\\n      Please be sure to apply the {...provided.dragHandleProps} to your Draggable\\n\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/draggable.md\\n    \") : invariant(false) : void 0;\n  !isHtmlElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A drag handle must be a HTMLElement') : invariant(false) : void 0;\n  return el;\n};\n\nfunction useValidation$1(_ref) {\n  var isEnabled = _ref.isEnabled,\n      getDraggableRef = _ref.getDraggableRef;\n  useEffect(function () {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!isEnabled) {\n        return;\n      }\n\n      var draggableRef = getDraggableRef();\n      !draggableRef ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Drag handle was unable to find draggable ref') : invariant(false) : void 0;\n      getDragHandleRef(draggableRef);\n    }\n  }, [getDraggableRef, isEnabled]);\n}\n\nvar retainingFocusFor = null;\nvar listenerOptions = {\n  capture: true\n};\n\nvar clearRetentionOnFocusChange = function () {\n  var isBound = false;\n\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n\n    isBound = true;\n    window.addEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n\n    isBound = false;\n    window.removeEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n\n  var onWindowFocusChange = function onWindowFocusChange() {\n    unbind();\n    retainingFocusFor = null;\n  };\n\n  var result = function result() {\n    return bind();\n  };\n\n  result.cancel = function () {\n    return unbind();\n  };\n\n  return result;\n}();\n\nvar retain = function retain(id) {\n  retainingFocusFor = id;\n  clearRetentionOnFocusChange();\n};\n\nvar tryRestoreFocus = function tryRestoreFocus(id, draggableRef) {\n  if (!retainingFocusFor) {\n    return;\n  }\n\n  if (id !== retainingFocusFor) {\n    return;\n  }\n\n  retainingFocusFor = null;\n  clearRetentionOnFocusChange.cancel();\n  var dragHandleRef = getDragHandleRef(draggableRef);\n\n  if (!dragHandleRef) {\n    process.env.NODE_ENV !== \"production\" ? warning('Could not find drag handle in the DOM to focus on it') : void 0;\n    return;\n  }\n\n  dragHandleRef.focus();\n};\n\nvar retainer = {\n  retain: retain,\n  tryRestoreFocus: tryRestoreFocus\n};\n\nfunction noop$4() {}\n\nfunction useFocusRetainer(args) {\n  var isFocusedRef = useRef(false);\n  var lastArgsRef = usePrevious(args);\n  var getDraggableRef = args.getDraggableRef;\n  var onFocus = useCallback(function () {\n    isFocusedRef.current = true;\n  }, []);\n  var onBlur = useCallback(function () {\n    isFocusedRef.current = false;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    var first = lastArgsRef.current;\n\n    if (!first.isEnabled) {\n      return noop$4;\n    }\n\n    var draggable = getDraggableRef();\n    !draggable ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Drag handle could not obtain draggable ref') : invariant(false) : void 0;\n    var dragHandle = getDragHandleRef(draggable);\n    retainer.tryRestoreFocus(first.draggableId, dragHandle);\n    return function () {\n      var last = lastArgsRef.current;\n\n      var shouldRetainFocus = function () {\n        if (!last.isEnabled) {\n          return false;\n        }\n\n        if (!isFocusedRef.current) {\n          return false;\n        }\n\n        return last.isDragging || last.isDropAnimating;\n      }();\n\n      if (shouldRetainFocus) {\n        retainer.retain(last.draggableId);\n      }\n    };\n  }, [getDraggableRef, lastArgsRef]);\n  var lastDraggableRef = useRef(null);\n  useIsomorphicLayoutEffect(function () {\n    if (!lastDraggableRef.current) {\n      return;\n    }\n\n    var draggableRef = getDraggableRef();\n\n    if (!draggableRef) {\n      return;\n    }\n\n    if (draggableRef === lastDraggableRef.current) {\n      return;\n    }\n\n    if (isFocusedRef.current && lastArgsRef.current.isEnabled) {\n      getDragHandleRef(draggableRef).focus();\n    }\n  });\n  useIsomorphicLayoutEffect(function () {\n    lastDraggableRef.current = getDraggableRef();\n  });\n  return {\n    onBlur: onBlur,\n    onFocus: onFocus\n  };\n}\n\nfunction preventHtml5Dnd(event) {\n  event.preventDefault();\n}\n\nfunction useDragHandle(args) {\n  var capturingRef = useRef(null);\n  var onCaptureStart = useCallback(function (abort) {\n    !!capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing while something else is') : invariant(false) : void 0;\n    capturingRef.current = {\n      abort: abort\n    };\n  }, []);\n  var onCaptureEnd = useCallback(function () {\n    !capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop capturing while nothing is capturing') : invariant(false) : void 0;\n    capturingRef.current = null;\n  }, []);\n  var abortCapture = useCallback(function () {\n    !capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot abort capture when there is none') : invariant(false) : void 0;\n    capturingRef.current.abort();\n  }, []);\n\n  var _useRequiredContext = useRequiredContext(AppContext),\n      canLift = _useRequiredContext.canLift,\n      styleContext = _useRequiredContext.style;\n\n  var isDragging = args.isDragging,\n      isEnabled = args.isEnabled,\n      draggableId = args.draggableId,\n      callbacks = args.callbacks,\n      getDraggableRef = args.getDraggableRef,\n      getShouldRespectForcePress = args.getShouldRespectForcePress,\n      canDragInteractiveElements = args.canDragInteractiveElements;\n  var lastArgsRef = usePrevious(args);\n  useValidation$1({\n    isEnabled: isEnabled,\n    getDraggableRef: getDraggableRef\n  });\n  var getWindow = useCallback(function () {\n    return getWindowFromEl(getDraggableRef());\n  }, [getDraggableRef]);\n  var canStartCapturing = useCallback(function (event) {\n    if (!isEnabled) {\n      return false;\n    }\n\n    if (capturingRef.current) {\n      return false;\n    }\n\n    if (!canLift(draggableId)) {\n      return false;\n    }\n\n    return shouldAllowDraggingFromTarget(event, canDragInteractiveElements);\n  }, [canDragInteractiveElements, canLift, draggableId, isEnabled]);\n\n  var _useFocusRetainer = useFocusRetainer(args),\n      onBlur = _useFocusRetainer.onBlur,\n      onFocus = _useFocusRetainer.onFocus;\n\n  var mouseArgs = useMemo(function () {\n    return {\n      callbacks: callbacks,\n      getDraggableRef: getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: canStartCapturing,\n      onCaptureStart: onCaptureStart,\n      onCaptureEnd: onCaptureEnd,\n      getShouldRespectForcePress: getShouldRespectForcePress\n    };\n  }, [callbacks, getDraggableRef, getWindow, canStartCapturing, onCaptureStart, onCaptureEnd, getShouldRespectForcePress]);\n  var onMouseDown = useMouseSensor(mouseArgs);\n  var keyboardArgs = useMemo(function () {\n    return {\n      callbacks: callbacks,\n      getDraggableRef: getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: canStartCapturing,\n      onCaptureStart: onCaptureStart,\n      onCaptureEnd: onCaptureEnd\n    };\n  }, [callbacks, canStartCapturing, getDraggableRef, getWindow, onCaptureEnd, onCaptureStart]);\n  var onKeyDown = useKeyboardSensor(keyboardArgs);\n  var touchArgs = useMemo(function () {\n    return {\n      callbacks: callbacks,\n      getDraggableRef: getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: canStartCapturing,\n      getShouldRespectForcePress: getShouldRespectForcePress,\n      onCaptureStart: onCaptureStart,\n      onCaptureEnd: onCaptureEnd\n    };\n  }, [callbacks, getDraggableRef, getWindow, canStartCapturing, getShouldRespectForcePress, onCaptureStart, onCaptureEnd]);\n  var onTouchStart = useTouchSensor(touchArgs);\n  useIsomorphicLayoutEffect(function () {\n    return function () {\n      if (!capturingRef.current) {\n        return;\n      }\n\n      abortCapture();\n\n      if (lastArgsRef.current.isDragging) {\n        lastArgsRef.current.callbacks.onCancel();\n      }\n    };\n  }, []);\n\n  if (!isEnabled && capturingRef.current) {\n    abortCapture();\n\n    if (lastArgsRef.current.isDragging) {\n      process.env.NODE_ENV !== \"production\" ? warning('You have disabled dragging on a Draggable while it was dragging. The drag has been cancelled') : void 0;\n      callbacks.onCancel();\n    }\n  }\n\n  useIsomorphicLayoutEffect(function () {\n    if (!isDragging && capturingRef.current) {\n      abortCapture();\n    }\n  }, [abortCapture, isDragging]);\n  var props = useMemo(function () {\n    if (!isEnabled) {\n      return null;\n    }\n\n    return {\n      onMouseDown: onMouseDown,\n      onKeyDown: onKeyDown,\n      onTouchStart: onTouchStart,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      tabIndex: 0,\n      'data-react-beautiful-dnd-drag-handle': styleContext,\n      'aria-roledescription': 'Draggable item. Press space bar to lift',\n      draggable: false,\n      onDragStart: preventHtml5Dnd\n    };\n  }, [isEnabled, onBlur, onFocus, onKeyDown, onMouseDown, onTouchStart, styleContext]);\n  return props;\n}\n\nfunction getDimension$1(descriptor, el, windowScroll) {\n  if (windowScroll === void 0) {\n    windowScroll = origin;\n  }\n\n  var computedStyles = window.getComputedStyle(el);\n  var borderBox = el.getBoundingClientRect();\n  var client = calculateBox(borderBox, computedStyles);\n  var page = withScroll(client, windowScroll);\n  var placeholder = {\n    client: client,\n    tagName: el.tagName.toLowerCase(),\n    display: computedStyles.display\n  };\n  var displaceBy = {\n    x: client.marginBox.width,\n    y: client.marginBox.height\n  };\n  var dimension = {\n    descriptor: descriptor,\n    placeholder: placeholder,\n    displaceBy: displaceBy,\n    client: client,\n    page: page\n  };\n  return dimension;\n}\n\nfunction useDraggableDimensionPublisher(args) {\n  var draggableId = args.draggableId,\n      index = args.index,\n      getDraggableRef = args.getDraggableRef;\n  var appContext = useRequiredContext(AppContext);\n  var marshal = appContext.marshal;\n  var droppableContext = useRequiredContext(DroppableContext);\n  var droppableId = droppableContext.droppableId,\n      type = droppableContext.type;\n  var descriptor = useMemo(function () {\n    var result = {\n      id: draggableId,\n      droppableId: droppableId,\n      type: type,\n      index: index\n    };\n    return result;\n  }, [draggableId, droppableId, index, type]);\n  var publishedDescriptorRef = useRef(descriptor);\n  var makeDimension = useCallback(function (windowScroll) {\n    var latest = publishedDescriptorRef.current;\n    var el = getDraggableRef();\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension when no ref is set') : invariant(false) : void 0;\n    return getDimension$1(latest, el, windowScroll);\n  }, [getDraggableRef]);\n  useIsomorphicLayoutEffect(function () {\n    marshal.registerDraggable(publishedDescriptorRef.current, makeDimension);\n    return function () {\n      return marshal.unregisterDraggable(publishedDescriptorRef.current);\n    };\n  }, [makeDimension, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (publishedDescriptorRef.current === descriptor) {\n      return;\n    }\n\n    var previous = publishedDescriptorRef.current;\n    publishedDescriptorRef.current = descriptor;\n    marshal.updateDraggable(previous, descriptor, makeDimension);\n  }, [descriptor, makeDimension, marshal]);\n}\n\nfunction checkOwnProps$1(props) {\n  !_Number$isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires an integer index prop') : invariant(false) : void 0;\n  !props.draggableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\n  !(typeof props.isDragDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDragDisabled must be a boolean') : invariant(false) : void 0;\n}\n\nfunction checkForOutdatedProps(props) {\n  if (Object.prototype.hasOwnProperty.call(props, 'shouldRespectForceTouch')) {\n    process.env.NODE_ENV !== \"production\" ? warning('shouldRespectForceTouch has been renamed to shouldRespectForcePress') : void 0;\n  }\n}\n\nfunction useValidation$2(props, getRef) {\n  useEffect(function () {\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps$1(props);\n      checkForOutdatedProps(props);\n      checkIsValidInnerRef(getRef());\n    }\n  });\n}\n\nfunction Draggable(props) {\n  var ref = useRef(null);\n  var setRef = useCallback(function (el) {\n    ref.current = el;\n  }, []);\n  var getRef = useCallback(function () {\n    return ref.current;\n  }, []);\n  var appContext = useRequiredContext(AppContext);\n  useValidation$2(props, getRef);\n  var children = props.children,\n      draggableId = props.draggableId,\n      isDragDisabled = props.isDragDisabled,\n      shouldRespectForcePress = props.shouldRespectForcePress,\n      canDragInteractiveElements = props.disableInteractiveElementBlocking,\n      index = props.index,\n      mapped = props.mapped,\n      moveUpAction = props.moveUp,\n      moveAction = props.move,\n      dropAction = props.drop,\n      moveDownAction = props.moveDown,\n      moveRightAction = props.moveRight,\n      moveLeftAction = props.moveLeft,\n      moveByWindowScrollAction = props.moveByWindowScroll,\n      liftAction = props.lift,\n      dropAnimationFinishedAction = props.dropAnimationFinished;\n  var forPublisher = useMemo(function () {\n    return {\n      draggableId: draggableId,\n      index: index,\n      getDraggableRef: getRef\n    };\n  }, [draggableId, getRef, index]);\n  useDraggableDimensionPublisher(forPublisher);\n  var onLift = useCallback(function (options) {\n    start('LIFT');\n    var el = ref.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n    !!isDragDisabled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot lift a Draggable when it is disabled') : invariant(false) : void 0;\n    var clientSelection = options.clientSelection,\n        movementMode = options.movementMode;\n    liftAction({\n      id: draggableId,\n      clientSelection: clientSelection,\n      movementMode: movementMode\n    });\n    finish('LIFT');\n  }, [draggableId, isDragDisabled, liftAction]);\n  var getShouldRespectForcePress = useCallback(function () {\n    return shouldRespectForcePress;\n  }, [shouldRespectForcePress]);\n  var callbacks = useMemo(function () {\n    return {\n      onLift: onLift,\n      onMove: function onMove(clientSelection) {\n        return moveAction({\n          client: clientSelection\n        });\n      },\n      onDrop: function onDrop() {\n        return dropAction({\n          reason: 'DROP'\n        });\n      },\n      onCancel: function onCancel() {\n        return dropAction({\n          reason: 'CANCEL'\n        });\n      },\n      onMoveUp: moveUpAction,\n      onMoveDown: moveDownAction,\n      onMoveRight: moveRightAction,\n      onMoveLeft: moveLeftAction,\n      onWindowScroll: function onWindowScroll() {\n        return moveByWindowScrollAction({\n          newScroll: getWindowScroll()\n        });\n      }\n    };\n  }, [dropAction, moveAction, moveByWindowScrollAction, moveDownAction, moveLeftAction, moveRightAction, moveUpAction, onLift]);\n  var isDragging = mapped.type === 'DRAGGING';\n  var isDropAnimating = mapped.type === 'DRAGGING' && Boolean(mapped.dropping);\n  var dragHandleArgs = useMemo(function () {\n    return {\n      draggableId: draggableId,\n      isDragging: isDragging,\n      isDropAnimating: isDropAnimating,\n      isEnabled: !isDragDisabled,\n      callbacks: callbacks,\n      getDraggableRef: getRef,\n      canDragInteractiveElements: canDragInteractiveElements,\n      getShouldRespectForcePress: getShouldRespectForcePress\n    };\n  }, [callbacks, canDragInteractiveElements, draggableId, getRef, getShouldRespectForcePress, isDragDisabled, isDragging, isDropAnimating]);\n  var dragHandleProps = useDragHandle(dragHandleArgs);\n  var onMoveEnd = useCallback(function (event) {\n    if (mapped.type !== 'DRAGGING') {\n      return;\n    }\n\n    if (!mapped.dropping) {\n      return;\n    }\n\n    if (event.propertyName !== 'transform') {\n      return;\n    }\n\n    dropAnimationFinishedAction();\n  }, [dropAnimationFinishedAction, mapped]);\n  var provided = useMemo(function () {\n    var style = getStyle$1(mapped);\n    var onTransitionEnd = mapped.type === 'DRAGGING' && mapped.dropping ? onMoveEnd : null;\n    var result = {\n      innerRef: setRef,\n      draggableProps: {\n        'data-react-beautiful-dnd-draggable': appContext.style,\n        style: style,\n        onTransitionEnd: onTransitionEnd\n      },\n      dragHandleProps: dragHandleProps\n    };\n    return result;\n  }, [appContext.style, dragHandleProps, mapped, onMoveEnd, setRef]);\n  return children(provided, mapped.snapshot);\n}\n\nvar getCombineWithFromResult = function getCombineWithFromResult(result) {\n  return result.combine ? result.combine.draggableId : null;\n};\n\nvar getCombineWithFromImpact = function getCombineWithFromImpact(impact) {\n  return impact.merge ? impact.merge.combine.draggableId : null;\n};\n\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\n  var getDraggingSnapshot = memoizeOne(function (mode, draggingOver, combineWith, dropping) {\n    return {\n      isDragging: true,\n      isDropAnimating: Boolean(dropping),\n      dropAnimation: dropping,\n      mode: mode,\n      draggingOver: draggingOver,\n      combineWith: combineWith,\n      combineTargetFor: null\n    };\n  });\n  var getSecondarySnapshot = memoizeOne(function (combineTargetFor) {\n    return {\n      isDragging: false,\n      isDropAnimating: false,\n      dropAnimation: null,\n      mode: null,\n      draggingOver: null,\n      combineTargetFor: combineTargetFor,\n      combineWith: null\n    };\n  });\n  var defaultMapProps = {\n    mapped: {\n      type: 'SECONDARY',\n      offset: origin,\n      combineTargetFor: null,\n      shouldAnimateDisplacement: true,\n      snapshot: getSecondarySnapshot(null)\n    }\n  };\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getDraggingProps = memoizeOne(function (offset, mode, dimension, draggingOver, combineWith, forceShouldAnimate) {\n    return {\n      mapped: {\n        type: 'DRAGGING',\n        dropping: null,\n        draggingOver: draggingOver,\n        combineWith: combineWith,\n        mode: mode,\n        offset: offset,\n        dimension: dimension,\n        forceShouldAnimate: forceShouldAnimate,\n        snapshot: getDraggingSnapshot(mode, draggingOver, combineWith, null)\n      }\n    };\n  });\n  var getSecondaryProps = memoizeOne(function (offset, combineTargetFor, shouldAnimateDisplacement) {\n    if (combineTargetFor === void 0) {\n      combineTargetFor = null;\n    }\n\n    return {\n      mapped: {\n        type: 'SECONDARY',\n        offset: offset,\n        combineTargetFor: combineTargetFor,\n        shouldAnimateDisplacement: shouldAnimateDisplacement,\n        snapshot: getSecondarySnapshot(combineTargetFor)\n      }\n    };\n  });\n\n  var getSecondaryMovement = function getSecondaryMovement(ownId, draggingId, impact) {\n    var map = impact.movement.map;\n    var displacement = map[ownId];\n    var movement = impact.movement;\n    var merge = impact.merge;\n    var isCombinedWith = Boolean(merge && merge.combine.draggableId === ownId);\n    var displacedBy = movement.displacedBy.point;\n    var offset = memoizedOffset(displacedBy.x, displacedBy.y);\n\n    if (isCombinedWith) {\n      return getSecondaryProps(displacement ? offset : origin, draggingId, displacement ? displacement.shouldAnimate : true);\n    }\n\n    if (!displacement) {\n      return null;\n    }\n\n    if (!displacement.isVisible) {\n      return null;\n    }\n\n    return getSecondaryProps(offset, null, displacement.shouldAnimate);\n  };\n\n  var draggingSelector = function draggingSelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id !== ownProps.draggableId) {\n        return null;\n      }\n\n      var offset = state.current.client.offset;\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\n      var mode = state.movementMode;\n      var draggingOver = whatIsDraggedOver(state.impact);\n      var combineWith = getCombineWithFromImpact(state.impact);\n      var forceShouldAnimate = state.forceShouldAnimate;\n      return getDraggingProps(memoizedOffset(offset.x, offset.y), mode, dimension, draggingOver, combineWith, forceShouldAnimate);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId !== ownProps.draggableId) {\n        return null;\n      }\n\n      var _dimension = state.dimensions.draggables[ownProps.draggableId];\n      var result = completed.result;\n      var _mode = result.mode;\n\n      var _draggingOver = whatIsDraggedOverFromResult(result);\n\n      var _combineWith = getCombineWithFromResult(result);\n\n      var duration = state.dropDuration;\n      var dropping = {\n        duration: duration,\n        curve: curves.drop,\n        moveTo: state.newHomeClientOffset,\n        opacity: _combineWith ? combine.opacity.drop : null,\n        scale: _combineWith ? combine.scale.drop : null\n      };\n      return {\n        mapped: {\n          type: 'DRAGGING',\n          offset: state.newHomeClientOffset,\n          dimension: _dimension,\n          dropping: dropping,\n          draggingOver: _draggingOver,\n          combineWith: _combineWith,\n          mode: _mode,\n          forceShouldAnimate: null,\n          snapshot: getDraggingSnapshot(_mode, _draggingOver, _combineWith, dropping)\n        }\n      };\n    }\n\n    return null;\n  };\n\n  var secondarySelector = function secondarySelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id === ownProps.draggableId) {\n        return null;\n      }\n\n      return getSecondaryMovement(ownProps.draggableId, state.critical.draggable.id, state.impact);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId === ownProps.draggableId) {\n        return null;\n      }\n\n      return getSecondaryMovement(ownProps.draggableId, completed.result.draggableId, completed.impact);\n    }\n\n    return null;\n  };\n\n  var selector = function selector(state, ownProps) {\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || defaultMapProps;\n  };\n\n  return selector;\n};\nvar mapDispatchToProps$1 = {\n  lift: lift,\n  move: move,\n  moveUp: moveUp,\n  moveDown: moveDown,\n  moveLeft: moveLeft,\n  moveRight: moveRight,\n  moveByWindowScroll: moveByWindowScroll,\n  drop: drop,\n  dropAnimationFinished: dropAnimationFinished\n};\nvar defaultProps$1 = {\n  isDragDisabled: false,\n  disableInteractiveElementBlocking: false,\n  shouldRespectForcePress: false\n};\nvar ConnectedDraggable = connect(makeMapStateToProps$1, mapDispatchToProps$1, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Draggable);\nConnectedDraggable.defaultProps = defaultProps$1;\n\nexport { DragDropContext, ConnectedDraggable as Draggable, ConnectedDroppable as Droppable, resetServerContext };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}